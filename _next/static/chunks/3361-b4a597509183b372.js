"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3361],{62869:function(e,t,n){n.d(t,{d:function(){return u},z:function(){return l}});var a=n(5194),o=n(46796),r=n(57437),s=n(2265),i=n(37053),d=n(90535),c=n(94508),u=(0,d.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef(function(e,t){var n=e.className,s=e.variant,d=e.size,l=e.asChild,m=(0,o._)(e,["className","variant","size","asChild"]),p=void 0!==l&&l?i.g7:"button";return(0,r.jsx)(p,(0,a._)({className:(0,c.cn)(u({variant:s,size:d,className:n})),ref:t},m))});l.displayName="Button"},35153:function(e,t,n){n.d(t,{pm:function(){return A}});var a=n(84303),o=n(13477),r=n(5194),s=n(1780),i=n(50059),d=n(85735),c=n(2265),u=0,l=new Map,m=function(e){if(!l.has(e)){var t=setTimeout(function(){l.delete(e),v({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)}},p=function(e,t){switch(t.type){case"ADD_TOAST":return(0,s._)((0,r._)({},e),{toasts:[t.toast].concat((0,d._)(e.toasts)).slice(0,1)});case"UPDATE_TOAST":return(0,s._)((0,r._)({},e),{toasts:e.toasts.map(function(e){return e.id===t.toast.id?(0,r._)({},e,t.toast):e})});case"DISMISS_TOAST":var n=t.toastId;return n?m(n):e.toasts.forEach(function(e){m(e.id)}),(0,s._)((0,r._)({},e),{toasts:e.toasts.map(function(e){return e.id===n||void 0===n?(0,s._)((0,r._)({},e),{open:!1}):e})});case"REMOVE_TOAST":if(void 0===t.toastId)return(0,s._)((0,r._)({},e),{toasts:[]});return(0,s._)((0,r._)({},e),{toasts:e.toasts.filter(function(e){return e.id!==t.toastId})})}},g=[],f={toasts:[]};function v(e){f=p(f,e),g.forEach(function(e){e(f)})}function y(e){var t=(0,a._)({},(0,o._)(e)),n=(u=(u+1)%Number.MAX_SAFE_INTEGER).toString(),i=function(){return v({type:"DISMISS_TOAST",toastId:n})};return v({type:"ADD_TOAST",toast:(0,s._)((0,r._)({},t),{id:n,open:!0,onOpenChange:function(e){e||i()}})}),{id:n,dismiss:i,update:function(e){return v({type:"UPDATE_TOAST",toast:(0,s._)((0,r._)({},e),{id:n})})}}}function A(){var e=(0,i._)(c.useState(f),2),t=e[0],n=e[1];return c.useEffect(function(){return g.push(n),function(){var e=g.indexOf(n);e>-1&&g.splice(e,1)}},[t]),(0,s._)((0,r._)({},t),{toast:y,dismiss:function(e){return v({type:"DISMISS_TOAST",toastId:e})}})}},280:function(e,t,n){n.d(t,{OQ:function(){return a}});var a=(0,n(93777).eI)("https://xwrjwvspbayowtwbrbcd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3cmp3dnNwYmF5b3d0d2JyYmNkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDEzNDQ4OTksImV4cCI6MjA1NjkyMDg5OX0.mrgp3CeKu8eeoC0tRN_y-XpFgklVltYBqQYjY4HSIhQ")},94508:function(e,t,n){n.d(t,{cn:function(){return r}});var a=n(61994),o=n(53335);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.m6)((0,a.W)(t))}},88936:function(e,t,n){n.d(t,{EC:function(){return f},lh:function(){return l},u1:function(){return u},Mk:function(){return S},GJ:function(){return h},PD:function(){return D},bZ:function(){return v}});var a,o=n(2403),r=n(12249),s=n(50059),i=n(5853),d=JSON.parse('{"nodes":{"root":{"question":"What area of tech are you interested in exploring?","options":["absolute_beginners","web_development","frameworks","languages_platforms","devops","mobile_development","databases","computer_science","machine_learning","management","game_development","design","blockchain","cyber_security"]},"absolute_beginners":{"text":"Absolute Beginners","question":"Choose a beginner-friendly path to start your journey:","options":["frontend_beginner","backend_beginner","devops_beginner"],"isEndpoint":true,"questionSetId":{"frontend_beginner":{"standard":{"easy":["FRONT-BEG-001"],"medium":["FRONT-BEG-002"],"Advanced":["FRONT-BEG-003"]}},"backend_beginner":{"standard":{"easy":["BACK-BEG-001"],"medium":["BACK-BEG-002"],"Advanced":["BACK-BEG-003"]}},"devops_beginner":{"standard":{"easy":["DEVOPS-BEG-001"],"medium":["DEVOPS-BEG-002"],"Advanced":["DEVOPS-BEG-003"]}}}},"web_development":{"text":"Web Development","question":"What aspect of web development interests you?","options":["frontend","backend","full_stack","api_design","qa","graphql","git_github"],"isEndpoint":true,"questionSetId":{"frontend":{"standard":{"easy":["FRONTEND-001"],"medium":["FRONTEND-002"],"Advanced":["FRONTEND-003"]}},"backend":{"standard":{"easy":["BACKEND-001"],"medium":["BACKEND-002"],"Advanced":["BACKEND-003"]}},"full_stack":{"standard":{"easy":["FULLSTACK-001"],"medium":["FULLSTACK-002"],"Advanced":["FULLSTACK-003"]}},"api_design":{"standard":{"easy":["API-001"],"medium":["API-002"],"Advanced":["API-003"]}},"qa":{"standard":{"easy":["QA-001"],"medium":["QA-002"],"Advanced":["QA-003"]}},"graphql":{"standard":{"easy":["GRAPHQL-001"],"medium":["GRAPHQL-002"],"Advanced":["GRAPHQL-003"]}},"git_github":{"standard":{"easy":["GIT-001"],"medium":["GIT-002"],"Advanced":["GIT-003"]}}}},"frameworks":{"text":"Frameworks","question":"Which framework would you like to explore?","options":["react","vue","angular","spring_boot","aspnet_core"],"isEndpoint":true,"questionSetId":{"react":{"standard":{"easy":["REACT-001"],"medium":["REACT-002"],"Advanced":["REACT-003"]}},"vue":{"standard":{"easy":["VUE-001"],"medium":["VUE-002"],"Advanced":["VUE-003"]}},"angular":{"standard":{"easy":["ANGULAR-001"],"medium":["ANGULAR-002"],"Advanced":["ANGULAR-003"]}},"spring_boot":{"standard":{"easy":["SPRING-001"],"medium":["SPRING-002"],"Advanced":["SPRING-003"]}},"aspnet_core":{"standard":{"easy":["ASPNET-001"],"medium":["ASPNET-002"],"Advanced":["ASPNET-003"]}}}},"languages_platforms":{"text":"Languages / Platforms","question":"Which programming language or platform would you like to learn?","options":["javascript","typescript","nodejs","php","cpp","go","rust","python","java","sql"],"isEndpoint":true,"questionSetId":{"javascript":{"standard":{"easy":["JS-001"],"medium":["JS-002"],"Advanced":["JS-003"]}},"typescript":{"standard":{"easy":["TS-001"],"medium":["TS-002"],"Advanced":["TS-003"]}},"nodejs":{"standard":{"easy":["NODE-001"],"medium":["NODE-002"],"Advanced":["NODE-003"]}},"php":{"standard":{"easy":["PHP-001"],"medium":["PHP-002"],"Advanced":["PHP-003"]}},"cpp":{"standard":{"easy":["CPP-001"],"medium":["CPP-002"],"Advanced":["CPP-003"]}},"go":{"standard":{"easy":["GO-001"],"medium":["GO-002"],"Advanced":["GO-003"]}},"rust":{"standard":{"easy":["RUST-001"],"medium":["RUST-002"],"Advanced":["RUST-003"]}},"python":{"standard":{"easy":["PYTHON-001"],"medium":["PYTHON-002"],"Advanced":["PYTHON-003"]}},"java":{"standard":{"easy":["JAVA-001"],"medium":["JAVA-002"],"Advanced":["JAVA-003"]}},"sql":{"standard":{"easy":["SQL-001"],"medium":["SQL-002"],"Advanced":["SQL-003"]}}}},"devops":{"text":"DevOps","question":"Which DevOps area would you like to focus on?","options":["devops_general","docker","kubernetes","aws","cloudflare","linux","terraform"],"isEndpoint":true,"questionSetId":{"devops_general":{"standard":{"easy":["DEVOPS-001"],"medium":["DEVOPS-002"],"Advanced":["DEVOPS-003"]}},"docker":{"standard":{"easy":["DOCKER-001"],"medium":["DOCKER-002"],"Advanced":["DOCKER-003"]}},"kubernetes":{"standard":{"easy":["K8S-001"],"medium":["K8S-002"],"Advanced":["K8S-003"]}},"aws":{"standard":{"easy":["AWS-001"],"medium":["AWS-002"],"Advanced":["AWS-003"]}},"cloudflare":{"standard":{"easy":["CLOUDFLARE-001"],"medium":["CLOUDFLARE-002"],"Advanced":["CLOUDFLARE-003"]}},"linux":{"standard":{"easy":["LINUX-001"],"medium":["LINUX-002"],"Advanced":["LINUX-003"]}},"terraform":{"standard":{"easy":["TERRAFORM-001"],"medium":["TERRAFORM-002"],"Advanced":["TERRAFORM-003"]}}}},"mobile_development":{"text":"Mobile Development","question":"Which mobile development path interests you?","options":["android","ios","react_native","flutter"],"isEndpoint":true,"questionSetId":{"android":{"standard":{"easy":["ANDROID-001"],"medium":["ANDROID-002"],"Advanced":["ANDROID-003"]}},"ios":{"standard":{"easy":["IOS-001"],"medium":["IOS-002"],"Advanced":["IOS-003"]}},"react_native":{"standard":{"easy":["REACTNATIVE-001"],"medium":["REACTNATIVE-002"],"Advanced":["REACTNATIVE-003"]}},"flutter":{"standard":{"easy":["FLUTTER-001"],"medium":["FLUTTER-002"],"Advanced":["FLUTTER-003"]}}}},"databases":{"text":"Databases","question":"Which database technology would you like to learn?","options":["postgresql","mongodb","redis"],"isEndpoint":true,"questionSetId":{"postgresql":{"standard":{"easy":["POSTGRES-001"],"medium":["POSTGRES-002"],"Advanced":["POSTGRES-003"]}},"mongodb":{"standard":{"easy":["MONGODB-001"],"medium":["MONGODB-002"],"Advanced":["MONGODB-003"]}},"redis":{"standard":{"easy":["REDIS-001"],"medium":["REDIS-002"],"Advanced":["REDIS-003"]}}}},"computer_science":{"text":"Computer Science","question":"Which computer science topic interests you?","options":["cs_fundamentals","data_structures","system_design","design_architecture","software_architect","code_review","technical_writer","devrel_engineer"],"isEndpoint":true,"questionSetId":{"cs_fundamentals":{"standard":{"easy":["CS-001"],"medium":["CS-002"],"Advanced":["CS-003"]}},"data_structures":{"standard":{"easy":["DS-001"],"medium":["DS-002"],"Advanced":["DS-003"]}},"system_design":{"standard":{"easy":["SYSDESIGN-001"],"medium":["SYSDESIGN-002"],"Advanced":["SYSDESIGN-003"]}},"design_architecture":{"standard":{"easy":["ARCH-001"],"medium":["ARCH-002"],"Advanced":["ARCH-003"]}},"software_architect":{"standard":{"easy":["SWARCH-001"],"medium":["SWARCH-002"],"Advanced":["SWARCH-003"]}},"code_review":{"standard":{"easy":["CODEREVIEW-001"],"medium":["CODEREVIEW-002"],"Advanced":["CODEREVIEW-003"]}},"technical_writer":{"standard":{"easy":["TECHWRITER-001"],"medium":["TECHWRITER-002"],"Advanced":["TECHWRITER-003"]}},"devrel_engineer":{"standard":{"easy":["DEVREL-001"],"medium":["DEVREL-002"],"Advanced":["DEVREL-003"]}}}},"machine_learning":{"text":"Machine Learning","question":"Which ML/AI role are you interested in?","options":["ai_data_scientist","ai_engineer","data_analyst","mlops","prompt_engineering"],"isEndpoint":true,"questionSetId":{"ai_data_scientist":{"standard":{"easy":["AIDSCI-001"],"medium":["AIDSCI-002"],"Advanced":["AIDSCI-003"]}},"ai_engineer":{"standard":{"easy":["AIENG-001"],"medium":["AIENG-002"],"Advanced":["AIENG-003"]}},"data_analyst":{"standard":{"easy":["DATAANA-001"],"medium":["DATAANA-002"],"Advanced":["DATAANA-003"]}},"mlops":{"standard":{"easy":["MLOPS-001"],"medium":["MLOPS-002"],"Advanced":["MLOPS-003"]}},"prompt_engineering":{"standard":{"easy":["PROMPTENG-001"],"medium":["PROMPTENG-002"],"Advanced":["PROMPTENG-003"]}}}},"management":{"text":"Management","question":"Which management role are you interested in?","options":["product_manager","engineering_manager"],"isEndpoint":true,"questionSetId":{"product_manager":{"standard":{"easy":["PM-001"],"medium":["PM-002"],"Advanced":["PM-003"]}},"engineering_manager":{"standard":{"easy":["EM-001"],"medium":["EM-002"],"Advanced":["EM-003"]}}}},"game_development":{"text":"Game Development","question":"Which aspect of game development interests you?","options":["client_side_game_dev","server_side_game_dev"],"isEndpoint":true,"questionSetId":{"client_side_game_dev":{"standard":{"easy":["CLIENTGAME-001"],"medium":["CLIENTGAME-002"],"Advanced":["CLIENTGAME-003"]}},"server_side_game_dev":{"standard":{"easy":["SERVERGAME-001"],"medium":["SERVERGAME-002"],"Advanced":["SERVERGAME-003"]}}}},"design":{"text":"Design","question":"Which design discipline are you interested in?","options":["ux_design","design_system"],"isEndpoint":true,"questionSetId":{"ux_design":{"standard":{"easy":["UX-001"],"medium":["UX-002"],"Advanced":["UX-003"]}},"design_system":{"standard":{"easy":["DESIGNSYS-001"],"medium":["DESIGNSYS-002"],"Advanced":["DESIGNSYS-003"]}}}},"blockchain":{"text":"Blockchain","question":"Are you interested in blockchain development?","options":["blockchain_dev"],"isEndpoint":true,"questionSetId":{"blockchain_dev":{"standard":{"easy":["BLOCKCHAIN-001"],"medium":["BLOCKCHAIN-002"],"Advanced":["BLOCKCHAIN-003"]}}}},"cyber_security":{"text":"Cyber Security","question":"Are you interested in cybersecurity?","options":["cybersecurity_specialist"],"isEndpoint":true,"questionSetId":{"cybersecurity_specialist":{"standard":{"easy":["CYBERSEC-001"],"medium":["CYBERSEC-002"],"Advanced":["CYBERSEC-003"]}}}}},"options":{"frontend_beginner":{"text":"Frontend Beginner"},"backend_beginner":{"text":"Backend Beginner"},"devops_beginner":{"text":"DevOps Beginner"},"frontend":{"text":"Frontend"},"backend":{"text":"Backend"},"full_stack":{"text":"Full Stack"},"api_design":{"text":"API Design"},"qa":{"text":"QA"},"graphql":{"text":"GraphQL"},"git_github":{"text":"Git and GitHub"},"react":{"text":"React"},"vue":{"text":"Vue"},"angular":{"text":"Angular"},"spring_boot":{"text":"Spring Boot"},"aspnet_core":{"text":"ASP.NET Core"},"javascript":{"text":"JavaScript"},"typescript":{"text":"TypeScript"},"nodejs":{"text":"Node.js"},"php":{"text":"PHP"},"cpp":{"text":"C++"},"go":{"text":"Go"},"rust":{"text":"Rust"},"python":{"text":"Python"},"java":{"text":"Java"},"sql":{"text":"SQL"},"devops_general":{"text":"DevOps"},"docker":{"text":"Docker"},"kubernetes":{"text":"Kubernetes"},"aws":{"text":"AWS"},"cloudflare":{"text":"Cloudflare"},"linux":{"text":"Linux"},"terraform":{"text":"Terraform"},"android":{"text":"Android"},"ios":{"text":"iOS"},"react_native":{"text":"React Native"},"flutter":{"text":"Flutter"},"postgresql":{"text":"PostgreSQL"},"mongodb":{"text":"MongoDB"},"redis":{"text":"Redis"},"cs_fundamentals":{"text":"Computer Science"},"data_structures":{"text":"Data Structures"},"system_design":{"text":"System Design"},"design_architecture":{"text":"Design and Architecture"},"software_architect":{"text":"Software Architect"},"code_review":{"text":"Code Review"},"technical_writer":{"text":"Technical Writer"},"devrel_engineer":{"text":"DevRel Engineer"},"ai_data_scientist":{"text":"AI and Data Scientist"},"ai_engineer":{"text":"AI Engineer"},"data_analyst":{"text":"Data Analyst"},"mlops":{"text":"MLOps"},"prompt_engineering":{"text":"Prompt Engineering"},"product_manager":{"text":"Product Manager"},"engineering_manager":{"text":"Engineering Manager"},"client_side_game_dev":{"text":"Client Side Game Dev."},"server_side_game_dev":{"text":"Server Side Game Dev."},"ux_design":{"text":"UX Design"},"design_system":{"text":"Design System"},"blockchain_dev":{"text":"Blockchain"},"cybersecurity_specialist":{"text":"Cyber Security"}},"metadata":{"version":"2.0","lastUpdated":"2025-03-04","defaultLanguage":"en"}}'),c=n(280);function u(){var e=new URLSearchParams(window.location.search).get("company_id");return console.log('\uD83D\uDD0D Getting company_id from URL: "'.concat(e,'"')),e}console.log("\uD83D\uDD04 chatbotFlow.ts module loading");var l={companies:{},default:"chatbot-flow.json"},m={};function p(){return(p=(0,o._)(function(){var e,t,n,a,o,r,s,d;return(0,i.Jh)(this,function(i){switch(i.label){case 0:if(e=localStorage.getItem("company-registry-data"))try{return console.log("Found cached company registry"),t=JSON.parse(e),console.log("⚡ Using cached company registry (skipping metadata check)"),l=t,[2,t]}catch(e){console.warn("Error parsing cached company registry:",e)}i.label=1;case 1:return i.trys.push([1,3,,4]),console.log("\uD83D\uDCE5 Fetching company registry from Supabase"),[4,c.OQ.from("companies").select("id, name").order("name")];case 2:if(a=(n=i.sent()).data,o=n.error,console.log("READ COMPANIES TABLE FROM SUPABASE"),o)throw Error("Error fetching company registry: ".concat(o.message));if(!a||0===a.length)throw Error("No companies found in registry");return r={companies:{},default:"chatbot-flow.json",lastUpdated:new Date().toISOString()},a.forEach(function(e){r.companies[e.id]={name:e.name,jsonFile:e.id,logo:""}}),l=r,localStorage.setItem("company-registry-data",JSON.stringify(r)),console.log("\uD83D\uDCBE Stored company registry in localStorage"),console.log("✅ Loaded company registry"),[2,r];case 3:return console.error("Error loading company registry:",i.sent()),s={companies:{},default:"chatbot-flow.json",lastUpdated:new Date().toISOString()},(d=u())&&(s.companies[d]={name:"Company ".concat(d),jsonFile:d,logo:""}),l=s,[2,s];case 4:return[2]}})})).apply(this,arguments)}function g(){return(g=(0,o._)(function(e){var t,n,a,o,s,u,p,g,f,v,y,A,_,E,S,h,D,I,b,x,w,O;return(0,i.Jh)(this,function(i){switch(i.label){case 0:if(!e)return console.log("Using default chatbot flow"),[2,d];if(!(l.companies&&e in l.companies))return[3,14];t=l.companies[e],console.log("Found company in registry: ".concat(e," (").concat(t.name,")")),i.label=1;case 1:return i.trys.push([1,12,,13]),[4,c.OQ.from("companies").select("validity_date").eq("id",e).single()];case 2:if(o=(a=i.sent()).data,s=a.error)throw console.error("Error fetching company details:",s),Error("Failed to fetch company details: ".concat(s.message));if(o&&o.validity_date){if((u=new Date(o.validity_date))<new Date)return console.error("Company subscription expired on ".concat(u.toLocaleDateString())),[2,{metadata:{company:e,lastUpdated:new Date().toISOString(),version:"1.0"},nodes:{root:{question:"Account Expired",text:"Your company account has expired on ".concat(u.toLocaleDateString(),". Please contact support to renew your subscription."),isEndpoint:!0}},options:{}}];console.log("Company subscription valid until ".concat(u.toLocaleDateString()))}else console.log("No validity date set for company ".concat(e));return p=localStorage.getItem("".concat(e,"-flow-data")),[3,9];case 3:if(i.trys.push([3,7,,8]),!(null==(f=(g=JSON.parse(p)).metadata)?void 0:f.lastUpdated))return[3,5];return v=new Date(f.lastUpdated).getTime(),console.log("Cached data timestamp: ".concat(f.lastUpdated)),[4,c.OQ.from("test_menus").select("updated_at").eq("company_id",e).order("updated_at",{ascending:!1}).limit(1)];case 4:if(A=(y=i.sent()).data,_=y.error)console.error("Error checking test menu timestamp:",_);else if(A&&A.length>0){if(E=new Date(A[0].updated_at).getTime(),console.log("Server data timestamp: ".concat(A[0].updated_at)),v>=E)return console.log("✅ Using cached flow for company: ".concat(e," (cache is current)")),[2,g.data];console.log("⚠️ Cache outdated for company: ".concat(e,", fetching updated data"))}return[3,6];case 5:console.log("Cached data has no timestamp, fetching fresh data"),i.label=6;case 6:return[3,8];case 7:return S=i.sent(),console.warn("Error parsing cached data for company ".concat(e,":"),S),[3,8];case 8:return[3,10];case 9:console.log("No cached data found for ".concat(e)),i.label=10;case 10:return console.log("\uD83D\uDCE5 Fetching flow data for company: ".concat(e," from database")),[4,c.OQ.from("test_menus").select("*").eq("company_id",e)];case 11:if(I=(D=i.sent()).data,b=D.error)throw console.error("Error fetching test menu:",b),Error("Failed to fetch test menu: ".concat(b.message));return console.log("Menu data from database:",I),h={metadata:{company:e,lastUpdated:new Date().toISOString(),version:"1.0"},nodes:{root:{question:"What type of interview would you like to practice?",options:[]}},options:{}},I&&I.length>0?(console.log("Menu structure:",x=I[0].menu_json),Array.isArray(x)?(w=[],x.forEach(function(e){if(!e.name){console.warn("Category missing name:",e);return}var t="category_".concat(e.id);w.push(t),h.nodes[t]={question:"You selected ".concat(e.name,". What specific area would you like to focus on?"),options:[],parent:"root"},h.options[t]={text:e.name},e.children&&Array.isArray(e.children)&&e.children.forEach(function(e){if(!e.name){console.warn("Test missing name:",e);return}var n,a,o,s,i="test_".concat(e.id);h.nodes[i]={question:"You selected ".concat(e.name,". What complexity level do you prefer?"),options:["Easy","Medium","Advanced"],text:e.name,parent:t,questionSetId:(0,r._)({},i,{standard:{easy:(null===(n=e.testIds)||void 0===n?void 0:n.easy)?[e.testIds.easy]:[],medium:(null===(a=e.testIds)||void 0===a?void 0:a.medium)?[e.testIds.medium]:[],advanced:(null===(o=e.testIds)||void 0===o?void 0:o.advanced)?[e.testIds.advanced]:[]}})},h.options[i]={text:e.name},null===(s=h.nodes[t].options)||void 0===s||s.push(i)})}),h.nodes.root.options=w):console.error("Menu structure is not an array:",x)):(h.nodes.root={question:"No Tests Available",text:"No interview tests have been created for this company yet. Please contact your administrator to set up interview tests.",isEndpoint:!0},console.log("No test menu data found for company, showing friendly message")),console.log("Transformed flow data:",h),m[e]=h,(null===(n=h.metadata)||void 0===n?void 0:n.lastUpdated)&&(localStorage.setItem("".concat(e,"-flow-data"),JSON.stringify({metadata:h.metadata,data:h})),console.log("\uD83D\uDCBE Stored flow data in localStorage for company: ".concat(e))),[2,h];case 12:return O=i.sent(),console.error("Error loading flow for company ".concat(e,":"),O),[3,13];case 13:return[3,15];case 14:console.warn('Company ID "'.concat(e,'" not found in registry')),i.label=15;case 15:return console.warn('Using default flow (company ID "'.concat(e,'" not found or load failed)')),[2,d]}})})).apply(this,arguments)}var f=d;function v(){return y.apply(this,arguments)}function y(){return(y=(0,o._)(function(){var e;return(0,i.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,4,,5]),[4,function(){return p.apply(this,arguments)}()];case 1:if(t.sent(),console.log("✅ Loaded company registry"),!(e=u()))return[3,3];return[4,function(e){return g.apply(this,arguments)}(e)];case 2:f=t.sent(),t.label=3;case 3:return window.dispatchEvent(new CustomEvent("company-flow-ready")),console.log("\uD83D\uDCE3 Dispatched company-flow-ready event"),[3,5];case 4:return console.error("Error initializing chatbot:",t.sent()),window.dispatchEvent(new CustomEvent("company-flow-error",{detail:{error:"Failed to initialize chatbot"}})),[3,5];case 5:return[2]}})})).apply(this,arguments)}console.log("⚡ Initial default flow loaded synchronously"),console.log("\uD83D\uDCE3 Setting up initialization for browser environment");var A=!1,_=!1,E=(a=(0,o._)(function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:if(A||_)return console.log("\uD83D\uDD04 Flow initialization already in progress or completed"),[2];A=!0,e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,v()];case 2:return e.sent(),_=!0,[3,5];case 3:return console.error("Error in initializeFlow:",e.sent()),[3,5];case 4:return A=!1,[7];case 5:return[2]}})}),function(){return a.apply(this,arguments)});function S(e){return console.log('\uD83D\uDD0D Getting node with key: "'.concat(e,'" from flow')),console.log('\uD83D\uDD0D Getting node with key: "'.concat(e,'" from flow')),f.nodes[e]}function h(e){if(!e||!f.options[e]){console.log('Option key "'.concat(e,'" not found in flow'));return}return f.options[e].text}function D(e,t){var n;if(console.log("Getting question set ID for:",{nodeText:e.text,complexity:t,hasQuestionSetId:!!e.questionSetId}),!e||!t){console.log("No node or complexity provided");return}if((null===(n=e.question)||void 0===n?void 0:n.includes("You selected"))&&e.text){if(e.questionSetId){var a=Object.keys(e.questionSetId)[0];if(a){var o,r=null===(o=e.questionSetId[a].standard[t.toLowerCase()])||void 0===o?void 0:o[0];return console.log("Found direct question set ID:",r),r}}var i=Object.entries(f.nodes).find(function(t){var n,a=(0,s._)(t,2);return null===(n=(a[0],a[1]).options)||void 0===n?void 0:n.some(function(t){var n;return(null===(n=f.options[t])||void 0===n?void 0:n.text)===e.text})});if(i){var d=(0,s._)(i,2),c=d[0],u=d[1];console.log("Found parent node:",c,u);var l=null===(m=u.options)||void 0===m?void 0:m.find(function(t){var n;return(null===(n=f.options[t])||void 0===n?void 0:n.text)===e.text});if(l&&(null===(g=u.questionSetId)||void 0===g?void 0:null===(p=g[l])||void 0===p?void 0:p.standard)){var m,p,g,v,y=null===(v=u.questionSetId[l].standard[t.toLowerCase()])||void 0===v?void 0:v[0];return console.log("Found question set ID:",y),y}}}if(e.questionSetId&&e.text){var A=Object.keys(e.questionSetId)[0];if(A){var _,E=null===(_=e.questionSetId[A].standard[t.toLowerCase()])||void 0===_?void 0:_[0];return console.log("Found direct question set ID:",E),E}}console.log("No question set ID found")}"loading"===document.readyState?(console.log("\uD83D\uDD04 Document still loading, adding DOMContentLoaded listener"),document.addEventListener("DOMContentLoaded",function(){console.log("\uD83D\uDD04 DOMContentLoaded fired, initializing flow"),E()})):(console.log("\uD83D\uDD04 Document already loaded, initializing flow immediately"),E()),window.addEventListener("popstate",function(){console.log("\uD83D\uDD04 URL changed, re-initializing flow"),_=!1,E()})}}]);