(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{70237:function(e,t,n){Promise.resolve().then(n.bind(n,47140))},47140:function(e,t,n){"use strict";n.d(t,{default:function(){return Y}});var r=n(2403),a=n(5194),s=n(1780),i=n(33583),o=n(60076),c=n(5853),l=n(57437),d=n(2265),u=n(40521),m=n(62869),f=n(32759),h=n(18229),p=n(35153),x=n(32489),v=n(79205),g=(0,v.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),b=n(33276),y=(0,v.Z)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),N=n(41671),j=n(74767),w=n(76865),T=n(96362),_=n(76858),S=n(33245),k=n(78867),E=n(79235),C=n(26110),R=n(65613),I=n(95186),z={WIDTH:1280,HEIGHT:720,FPS:30,BITRATE:25e5},Y=function(e){var t,n,v,Y,A,P=e.videoId,U=(0,p.pm)().toast,V=(0,i._)((0,d.useState)(""),2),B=V[0],D=V[1],F=(0,i._)((0,d.useState)(P||""),2),O=F[0],L=F[1],Z=(0,i._)((0,d.useState)(!1),2),M=Z[0],G=Z[1],H=(0,i._)((0,d.useState)([]),2),X=H[0],q=H[1],J=(0,i._)((0,d.useState)(null),2),W=(J[0],J[1]),$=(0,i._)((0,d.useState)(!1),2),K=$[0],Q=$[1],ee=(0,i._)((0,d.useState)(0),2),et=ee[0],en=ee[1],er=(0,i._)((0,d.useState)(0),2);er[0],er[1];var ea=(0,i._)((0,d.useState)(""),2),es=ea[0],ei=ea[1],eo=(0,i._)((0,d.useState)(!1),2),ec=eo[0],el=eo[1],ed=(0,i._)((0,d.useState)(!1),2),eu=ed[0],em=ed[1],ef=(0,i._)((0,d.useState)(!1),2),eh=ef[0],ep=ef[1],ex=(0,i._)((0,d.useState)(null),2),ev=ex[0],eg=ex[1],eb=(0,i._)((0,d.useState)(0),2),ey=eb[0],eN=eb[1],ej=(0,i._)((0,d.useState)(!1),2),ew=ej[0],eT=ej[1],e_=(0,i._)((0,d.useState)(!1),2),eS=e_[0],ek=e_[1],eE=(0,i._)((0,d.useState)(!1),2),eC=eE[0],eR=eE[1],eI=(0,i._)((0,d.useState)(!1),2),ez=(eI[0],eI[1]),eY=(0,i._)((0,d.useState)(0),2),eA=eY[0],eP=eY[1],eU=(0,i._)((0,d.useState)(null),2),eV=eU[0],eB=eU[1],eD=(0,i._)((0,d.useState)(null),2),eF=eD[0],eO=eD[1],eL=(0,d.useRef)(null),eZ=(0,d.useRef)(null),eM=(0,d.useRef)(null),eG=(0,d.useRef)(null);(0,d.useRef)([]);var eH=(0,i._)((0,d.useState)(60),2),eX=eH[0],eq=eH[1],eJ=(0,i._)((0,d.useState)(!1),2),eW=eJ[0],e$=eJ[1],eK=(0,d.useRef)(null),eQ=(0,d.useRef)(null),e0=(0,i._)((0,d.useState)(!1),2),e1=e0[0],e2=e0[1],e4=(0,i._)((0,d.useState)(void 0),2),e5=e4[0],e3=e4[1];(0,d.useEffect)(function(){var e;return eW&&eX>0?e=setInterval(function(){eq(function(e){return e-1})},1e3):0===eX&&eW&&ts(),function(){return clearInterval(e)}},[eW,eX]);var e6=function(e){return"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0"))};(0,d.useEffect)(function(){P&&e8(P)},[]);var e7=function(){eL.current&&(eL.current.playVideo(),eL.current.pauseVideo(),G(!0),console.log("YouTube player ready"))};(0,d.useEffect)(function(){if(O&&M){var e=setTimeout(function(){tt()},1e3);return function(){return clearTimeout(e)}}},[O,M]);var e9=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return t&&11===t[7].length?t[7]:""},e8=function(e){if(window.YT)te(e);else{var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode&&n.parentNode.insertBefore(t,n),window.onYouTubeIframeAPIReady=function(){te(e)}}},te=function(e){if(eL.current){eL.current.loadVideoById(e);return}eL.current=new window.YT.Player("youtube-player",{height:"390",width:"640",videoId:e,playerVars:{playsinline:1,controls:1},events:{onReady:e7}})},tt=(t=(0,r._)(function(){var e,t;return(0,c.Jh)(this,function(n){switch(n.label){case 0:if(n.trys.push([0,2,,3]),console.log("Initializing camera..."),!eZ.current)throw Error("Video element not available");return eM.current&&eM.current.getTracks().forEach(function(e){return e.stop()}),[4,navigator.mediaDevices.getUserMedia({video:{width:{ideal:z.WIDTH},height:{ideal:z.HEIGHT}},audio:!0})];case 1:return e=n.sent(),eZ.current.srcObject=e,(t=document.getElementById("display-video"))&&(t.srcObject=e),eZ.current.onloadedmetadata=function(){eZ.current&&eZ.current.play().catch(function(e){return console.error("Error playing video:",e)})},eM.current=e,ep(!0),console.log("Camera initialized successfully"),[3,3];case 2:return console.error("Camera initialization error:",n.sent()),ep(!1),U({title:"Camera Error",description:"Unable to access camera. Please check permissions or try again.",variant:"destructive"}),[3,3];case 3:return[2]}})}),function(){return t.apply(this,arguments)}),tn=function(){eM.current&&(eM.current.getTracks().forEach(function(e){return e.stop()}),eM.current=null),eZ.current&&(eZ.current.srcObject=null),ep(!1)};(0,d.useEffect)(function(){return function(){tn()}},[]);var tr=function(e){if(!eL.current){console.error("YouTube player not initialized");return}try{W(e),em(!0);var t=eL.current.getPlayerState();console.log("Player state before seek:",t),eL.current.seekTo(e.startTime,!0),eL.current.playVideo(),console.log("Playing segment from ".concat(e.startTime,"s to ").concat(e.endTime,"s"));var n=(e.endTime-e.startTime)*1e3;setTimeout(function(){eL.current&&(eL.current.pauseVideo(),em(!1),console.log("Segment playback completed"))},n)}catch(e){console.error("Error playing segment:",e),U({title:"Playback Error",description:"Failed to play the segment",variant:"destructive"})}},ta=(n=(0,r._)(function(e){var t,n,r,i,o,l,d,u,m,f,h,p;return(0,c.Jh)(this,function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),W(e),[4,navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"browser"},audio:!0})];case 1:return(t=c.sent()).getVideoTracks()[0].applyConstraints({width:{ideal:z.WIDTH},height:{ideal:z.HEIGHT},frameRate:{ideal:z.FPS}}),eK.current=t,[4,navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}})];case 2:return n=c.sent(),r=new MediaStream,t.getVideoTracks().forEach(function(e){r.addTrack(e)}),o=(i=new AudioContext).createMediaStreamDestination(),t.getAudioTracks().length>0&&(l=i.createMediaStreamSource(t),(d=i.createGain()).gain.value=1,l.connect(d).connect(o)),u=i.createMediaStreamSource(n),(m=i.createGain()).gain.value=1,u.connect(m).connect(o),o.stream.getAudioTracks().forEach(function(e){r.addTrack(e)}),eQ.current=r,f=new MediaRecorder(r,{mimeType:"video/webm;codecs=vp9,opus",videoBitsPerSecond:z.BITRATE}),h=[],f.ondataavailable=function(e){e.data.size>0&&h.push(e.data)},f.onstop=function(){var t=new Blob(h,{type:"video/webm"});q(function(n){return n.map(function(n){return n.id===e.id?(0,s._)((0,a._)({},n),{feedbackBlob:t}):n})}),el(!1),e$(!1),eq(60),eK.current&&(eK.current.getTracks().forEach(function(e){return e.stop()}),eK.current=null),eQ.current&&(eQ.current.getTracks().forEach(function(e){return e.stop()}),eQ.current=null),U({title:"Feedback Recorded",description:'Feedback for segment "'.concat(e.note,'" has been recorded')})},eG.current=f,f.start(),el(!0),tr(e),p=(e.endTime-e.startTime)*1e3,[4,new Promise(function(e){return setTimeout(e,p+500)})];case 3:return c.sent(),eq(60),e$(!0),U({title:"Segment Finished",description:"Now recording your feedback. You have 1 minute."}),t.getVideoTracks()[0].onended=function(){eG.current&&"inactive"!==eG.current.state&&eG.current.stop()},[3,5];case 4:return console.error("Screen capture error:",c.sent()),U({title:"Recording Error",description:"Failed to start screen recording. Please check permissions.",variant:"destructive"}),[3,5];case 5:return[2]}})}),function(e){return n.apply(this,arguments)}),ts=function(){eG.current&&"inactive"!==eG.current.state&&eG.current.stop(),e$(!1),eK.current&&(eK.current.getTracks().forEach(function(e){return e.stop()}),eK.current=null),eQ.current&&(eQ.current.getTracks().forEach(function(e){return e.stop()}),eQ.current=null)},ti=function(){if(!X.some(function(e){return e.feedbackBlob})){U({title:"No Feedback Recorded",description:"Please record feedback for at least one segment before uploading",variant:"destructive"});return}eR(!0),eP(1),eT(!0)},to=(0,h.Nq)({onSuccess:(v=(0,r._)(function(e){return(0,c.Jh)(this,function(t){return eg(e.access_token),eP(3),U({title:"Step 1 Complete",description:"Successfully logged in, now uploading video...",duration:3e3}),setTimeout(function(){e.access_token&&tl(e.access_token)},1e3),[2]})}),function(e){return v.apply(this,arguments)}),onError:function(e){console.error("Login Failed:",e),eB("Google login failed. Please try again."),eR(!1),eP(0),U({title:"Login Failed",description:"Could not login to Google",variant:"destructive",duration:5e3})},flow:"implicit",prompt:"consent",scope:"https://www.googleapis.com/auth/youtube.upload https://www.googleapis.com/auth/youtube https://www.googleapis.com/auth/youtube.force-ssl"}),tc=(Y=(0,r._)(function(){var e,t,n,r,a,s,i,o,l,d,u,m,f,h;return(0,c.Jh)(this,function(p){switch(p.label){case 0:if(0===(e=X.filter(function(e){return e.feedbackBlob}).map(function(e){return e.feedbackBlob})).length)throw Error("No feedback recordings found");if(1===e.length)return[2,e[0]];return[4,Promise.all(e.map(function(e){return new Promise(function(t){var n=document.createElement("video");n.src=URL.createObjectURL(e),n.muted=!0,n.preload="auto",n.onloadedmetadata=function(){t(n)}})}))];case 1:if(t=p.sent(),!(r=(n=document.createElement("canvas")).getContext("2d")))throw Error("Failed to get canvas context");n.width=t[0].videoWidth||640,n.height=t[0].videoHeight||480,a=new MediaRecorder(n.captureStream(30),{mimeType:"video/webm;codecs=vp9,opus",videoBitsPerSecond:25e5}),s=[],a.ondataavailable=function(e){e.data.size>0&&s.push(e.data)},i=new Promise(function(e){a.onstop=function(){e(new Blob(s,{type:"video/webm"}))}}),a.start(),o=!0,l=!1,d=void 0,p.label=2;case 2:p.trys.push([2,7,8,9]),u=function(){var e;return(0,c.Jh)(this,function(t){switch(t.label){case 0:return e=f.value,[4,new Promise(function(t){e.onended=function(){return t()};var a=function(){e.paused||e.ended||(r.clearRect(0,0,n.width,n.height),r.drawImage(e,0,0,n.width,n.height),requestAnimationFrame(a))};e.play().then(function(){a()})})];case 1:return t.sent(),[2]}})},m=t[Symbol.iterator](),p.label=3;case 3:if(o=(f=m.next()).done)return[3,6];return[5,(0,c.XA)(u())];case 4:p.sent(),p.label=5;case 5:return o=!0,[3,3];case 6:return[3,9];case 7:return h=p.sent(),l=!0,d=h,[3,9];case 8:try{o||null==m.return||m.return()}finally{if(l)throw d}return[7];case 9:return a.stop(),[2,i]}})}),function(){return Y.apply(this,arguments)}),tl=(A=(0,r._)(function(e){var t,n,r,a,s,i,o,l,d,u,m,f,h,p,x,v,g,b;return(0,c.Jh)(this,function(c){switch(c.label){case 0:if(!(t=e||ev))return eB("Authentication error. Please try again."),eR(!1),eP(0),[2];c.label=1;case 1:c.trys.push([1,10,11,12]),ez(!0),eP(3),eN(10),n=setInterval(function(){eN(function(e){return e>=80?(clearInterval(n),e):e+Math.floor(5*Math.random())})},1e3),eN(20),c.label=2;case 2:return c.trys.push([2,8,,9]),[4,tc()];case 3:return r=c.sent(),eN(60),a=new File([r],"video-review.webm",{type:"video/webm"}),s={snippet:{title:"Video Review Feedback - ".concat(new Date().toLocaleDateString()),description:"Video review feedback for YouTube video ID: ".concat(O,".\nRecorded on: ").concat(new Date().toLocaleDateString()),tags:["video review","feedback"],categoryId:"22"},status:{privacyStatus:"unlisted"}},eN(70),o="\r\n--"+(i="foo_bar_baz")+"\r\n",l="\r\n--"+i+"--",d=new Blob([o+"Content-Type: application/json; charset=UTF-8\r\n\r\n"+JSON.stringify(s)+o+"Content-Type: video/webm\r\nContent-Transfer-Encoding: binary\r\n\r\n"],{type:"text/plain"}),u=new Blob([a],{type:"video/webm"}),m=new Blob([l],{type:"text/plain"}),f=new Blob([d,u,m],{type:"multipart/mixed; boundary=".concat(i)}),eN(80),[4,fetch("https://www.googleapis.com/upload/youtube/v3/videos?part=snippet,status&uploadType=multipart",{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"multipart/mixed; boundary=".concat(i),"X-Upload-Content-Length":f.size.toString()},body:f})];case 4:if(h=c.sent(),clearInterval(n),eN(100),h.ok)return[3,6];return[4,h.text()];case 5:if(p=c.sent(),console.error("Upload response:",h.status,p),p.includes("youtubeSignupRequired")||p.includes("channelNotFound")||p.toLowerCase().includes("channel")||401===h.status)return eB("You need to create a YouTube channel before uploading"),U({title:"YouTube Channel Required",description:"You need to create a YouTube channel first before uploading videos.",variant:"destructive",duration:1e4}),eP(0),eR(!1),[2];throw Error("Upload failed: ".concat(h.status," ").concat(p));case 6:return[4,h.json()];case 7:if((x=c.sent()).id)eO(x.id),ek(!0),U({title:"Upload Successful",description:"Your video has been uploaded to YouTube",duration:5e3});else throw Error((null===(v=x.error)||void 0===v?void 0:v.message)||"Upload failed");return[3,9];case 8:throw console.error("Error combining segments:",g=c.sent()),Error("Failed to combine video segments: ".concat(null==g?void 0:g.message));case 9:return[3,12];case 10:return console.error("Upload error:",b=c.sent()),eB("".concat((null==b?void 0:b.message)||"Could not upload to YouTube")),U({title:"Upload Failed",description:"".concat((null==b?void 0:b.message)||"Could not upload to YouTube"),variant:"destructive",duration:5e3}),[3,12];case 11:return eR(!1),eP(0),eN(0),ez(!1),[7];case 12:return[2]}})}),function(e){return A.apply(this,arguments)});(0,d.useEffect)(function(){eF&&eS&&setTimeout(function(){(0,E.Z)({particleCount:100,spread:70,origin:{y:.6}})},300)},[eF,eS]);var td=function(){return 0===eA?0:1===eA?33:2===eA?66:66+ey/100*34},tu=function(e){e.feedbackBlob&&(e3(URL.createObjectURL(e.feedbackBlob)),e2(!0))};return(0,l.jsxs)("div",{className:"video-review-container",children:[(0,l.jsx)("video",{ref:eZ,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",opacity:0,pointerEvents:"none",width:"1px",height:"1px"}}),!O&&(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Enter YouTube Video URL"}),(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e9(B);t?(L(t),e8(t)):U({title:"Invalid YouTube URL",description:"Please enter a valid YouTube URL",variant:"destructive"})},className:"flex gap-2",children:[(0,l.jsx)(I.I,{type:"text",value:B,onChange:function(e){return D(e.target.value)},placeholder:"https://www.youtube.com/watch?v=...",className:"flex-grow"}),(0,l.jsx)(m.z,{type:"submit",children:"Load Video"})]})]}),O&&(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,l.jsx)("div",{id:"youtube-player",className:"aspect-video w-full"})}),(0,l.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(m.z,{onClick:function(){if(eL.current){if(!K&&X.length>=3){U({title:"Segment Limit Reached",description:"Maximum 3 segments allowed",variant:"destructive"});return}var e=eL.current.getCurrentTime(),t=eL.current.getDuration();if(console.log("Exact Time from player:",e),console.log("Video Duration:",t),K){if(e<=et){U({title:"Invalid End Time",description:"End time must be after start time",variant:"destructive"});return}eL.current.pauseVideo();var n={id:Date.now(),startTime:et,endTime:e,note:es||"Segment ".concat(X.length+1)};console.log("New Segment:",{start:et.toFixed(2),end:e.toFixed(2),duration:(e-et).toFixed(2)}),q(function(e){return(0,o._)(e).concat([n])}),Q(!1),ei(""),U({title:"Segment Added",description:"Segment from ".concat(et.toFixed(2),"s to ").concat(e.toFixed(2),"s")})}else{if(e>=t){U({title:"Invalid Start Time",description:"Cannot start segment at the end of video",variant:"destructive"});return}eL.current.pauseVideo(),en(e),Q(!0),U({title:"Start Time Set",description:"Starting at ".concat(e.toFixed(2),"s")})}}},variant:K?"destructive":"default",children:K?"Set End Time":"Set Start Time"}),K&&(0,l.jsx)(I.I,{value:es,onChange:function(e){return ei(e.target.value)},placeholder:"Add a note for this segment",className:"flex-grow"})]}),(0,l.jsx)("div",{className:"text-sm",children:K&&(0,l.jsxs)("span",{children:["Start time: ",et.toFixed(2),"s"]})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("h3",{className:"font-medium",children:["Segments (",X.length,")"]}),0===X.length?(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"No segments added yet. Use the controls above to add segments."}):(0,l.jsx)("div",{className:"space-y-2",children:X.map(function(e){return(0,l.jsxs)("div",{className:"border rounded-lg p-3 ".concat(e.feedbackBlob?"bg-green-50 border-green-200":"bg-gray-50"),children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,l.jsx)("div",{className:"font-medium",children:e.note}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:[e6(e.startTime)," - ",e6(e.endTime)]}),(0,l.jsx)(m.z,{size:"icon",variant:"ghost",className:"h-6 w-6 rounded-full hover:bg-gray-200",onClick:function(){q(function(t){return t.filter(function(t){return t.id!==e.id})}),e.feedbackBlob&&URL.revokeObjectURL(URL.createObjectURL(e.feedbackBlob)),U({title:"Segment Deleted",description:'Segment "'.concat(e.note,'" has been removed')})},disabled:eu||ec,children:(0,l.jsx)(x.Z,{className:"h-3 w-3"})})]})]}),(0,l.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,l.jsxs)(m.z,{size:"sm",onClick:function(){return ta(e)},disabled:eu||ec,variant:e.feedbackBlob?"outline":"default",children:[(0,l.jsx)(g,{className:"h-4 w-4 mr-1"}),e.feedbackBlob?"Re-record Feedback":"Record Feedback"]}),e.feedbackBlob&&(0,l.jsxs)(m.z,{size:"sm",onClick:function(){return tu(e)},disabled:eu||ec,variant:"outline",children:[(0,l.jsx)(b.Z,{className:"h-4 w-4 mr-1"}),"Playback"]})]})]},e.id)})})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"border rounded-lg overflow-hidden bg-gray-100 aspect-video relative",children:[(0,l.jsx)("video",{id:"display-video",autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"}}),O?!eh&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 bg-opacity-80",children:[(0,l.jsx)(g,{className:"h-12 w-12 text-gray-400 mb-2"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Initializing camera..."})]}):(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 bg-opacity-80",children:[(0,l.jsx)(y,{className:"h-12 w-12 text-gray-400 mb-2"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Load a YouTube video to start"})]}),ec&&(0,l.jsxs)("div",{className:"absolute top-4 right-4 bg-red-600 text-white px-3 py-1 rounded-full flex items-center",children:[(0,l.jsx)("div",{className:"h-2 w-2 bg-white rounded-full mr-2 animate-pulse"}),"Recording (",e6(eX),")"]})]}),(0,l.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"font-medium mb-2",children:"Upload Review"}),eC&&(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[1===eA&&(0,l.jsx)("span",{className:"text-primary font-medium",children:"Step 1: Instructions"}),2===eA&&(0,l.jsx)("span",{className:"text-primary font-medium",children:"Step 2: Google Authentication"}),3===eA&&(0,l.jsx)("span",{className:"text-primary font-medium",children:"Step 3: Uploading to YouTube"})]}),(0,l.jsxs)("span",{className:"text-muted-foreground",children:[Math.round(td()),"%"]})]}),(0,l.jsx)(f.E,{value:td(),className:"h-1.5"})]})}),eF?(0,l.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,l.jsxs)(R.bZ,{className:"flex-1 bg-green-50 border-green-200 text-green-800",children:[(0,l.jsx)(N.Z,{className:"h-4 w-4 text-green-600"}),(0,l.jsx)(R.Cd,{className:"text-sm font-medium text-green-800",children:"Video available on YouTube"}),(0,l.jsx)(R.X,{className:"text-xs mt-1 text-green-700",children:"Your recording is published as an unlisted video"})]}),(0,l.jsxs)(m.z,{onClick:function(){return window.open("https://youtu.be/".concat(eF),"_blank")},size:"sm",className:"text-xs",children:[(0,l.jsx)(j.Z,{className:"mr-1.5 h-4 w-4"}),"Open on YouTube"]})]}):eV?(0,l.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,l.jsxs)(R.bZ,{className:"flex-1 bg-red-50 border-red-200 text-red-800",children:[(0,l.jsx)(w.Z,{className:"h-4 w-4 text-red-600"}),(0,l.jsx)(R.Cd,{className:"text-sm font-medium text-red-800",children:"Error"}),(0,l.jsxs)(R.X,{className:"text-xs mt-1 text-red-700",children:[eV,(null==eV?void 0:eV.includes("YouTube channel"))&&(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsxs)("a",{href:"https://www.youtube.com/create_channel",target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline font-medium",children:[(0,l.jsx)(T.Z,{className:"h-3 w-3 mr-1"}),"Click here to create a YouTube channel"]}),(0,l.jsx)("p",{className:"mt-1 text-xs text-red-600",children:"After creating your channel, return here and try again"})]})]})]}),(0,l.jsxs)(m.z,{onClick:function(){eB(null),ti()},disabled:eC,variant:"default",size:"sm",className:"text-xs",children:[(0,l.jsx)(_.Z,{className:"mr-1.5 h-4 w-4"}),"Try Again"]})]}):eC?(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsxs)(R.bZ,{className:"bg-primary/5 border-primary/20",children:[(0,l.jsx)(S.Z,{className:"h-4 w-4 text-primary"}),(0,l.jsx)(R.Cd,{className:"text-sm font-medium",children:"Processing your recording"}),(0,l.jsx)(R.X,{className:"text-xs mt-1",children:"Please complete all steps to save your recording"})]})}):(0,l.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,l.jsxs)(R.bZ,{className:"flex-1 bg-primary/5 border-primary/20",children:[(0,l.jsx)(S.Z,{className:"h-4 w-4 text-primary"}),(0,l.jsx)(R.Cd,{className:"text-sm font-medium",children:"Save your feedback"}),(0,l.jsx)(R.X,{className:"text-xs mt-1",children:"Save your feedback recordings to YouTube as an unlisted video"})]}),(0,l.jsxs)(m.z,{onClick:ti,disabled:eC||0===X.filter(function(e){return e.feedbackBlob}).length,variant:"default",size:"sm",className:"text-xs",children:[(0,l.jsx)(j.Z,{className:"mr-1.5 h-4 w-4"}),"Save to YouTube"]})]})]})]})]}),(0,l.jsx)(C.Vq,{open:ew,onOpenChange:function(e){!e&&eC&&(eR(!1),eP(0)),eT(e)},children:(0,l.jsxs)(C.cZ,{className:"sm:max-w-md",children:[(0,l.jsxs)(C.fK,{children:[(0,l.jsx)(C.$N,{children:"YouTube Upload Instructions"}),(0,l.jsx)(C.Be,{children:"Please follow these steps to successfully upload your video:"})]}),(0,l.jsxs)("div",{className:"space-y-4 py-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h3",{className:"font-medium",children:"Before you begin:"}),(0,l.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[(0,l.jsx)("li",{children:"You must have a YouTube channel associated with your Google account"}),(0,l.jsx)("li",{children:"If you don't have a YouTube channel yet, you'll need to create one first"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h3",{className:"font-medium",children:"Step 1: Login Process (TWO SCREENS)"}),(0,l.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[(0,l.jsx)("li",{children:"After clicking \"I Understand\", you'll see Google's login screens"}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"First screen"}),": Choose your Google account"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Second screen"}),": You'll see two options - your email account and YouTube account"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{className:"text-red-500",children:"IMPORTANT: You MUST select the YouTube option"}),", not your email"]}),(0,l.jsx)("li",{children:"Selecting your email account instead of YouTube will cause an authorization error"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h3",{className:"font-medium",children:"Step 2: Creating a YouTube Channel (if needed)"}),(0,l.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[(0,l.jsx)("li",{children:"If you don't see a YouTube option on the second screen, you need to create a channel first"}),(0,l.jsx)("li",{children:(0,l.jsxs)("a",{href:"https://www.youtube.com/create_channel",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline flex items-center",children:["Click here to create a YouTube channel",(0,l.jsx)(T.Z,{className:"h-3 w-3 ml-1"})]})}),(0,l.jsx)("li",{children:"Sign in with your Google account"}),(0,l.jsx)("li",{children:"Follow the prompts to complete channel creation"}),(0,l.jsx)("li",{children:"Return to this page and try again - you should now see two options on the second screen"})]})]})]}),(0,l.jsx)(C.cN,{children:(0,l.jsx)(m.z,{onClick:function(){eT(!1),eP(2),to()},children:"I Understand"})})]})}),(0,l.jsx)(C.Vq,{open:eS,onOpenChange:ek,children:(0,l.jsxs)(C.cZ,{className:"sm:max-w-md",children:[(0,l.jsx)(C.fK,{children:(0,l.jsx)(C.$N,{className:"text-center",children:(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,l.jsx)(N.Z,{className:"h-5 w-5 text-green-600"}),(0,l.jsx)("span",{className:"text-xl",children:"Upload Successful!"})]})})}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-6 py-6",children:[(0,l.jsxs)("div",{className:"text-center space-y-2",children:[(0,l.jsx)("p",{className:"text-lg",children:"Your video has been uploaded to YouTube"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"It's available as an unlisted video on your channel"})]}),(0,l.jsxs)("div",{className:"w-full p-4 bg-muted rounded-md",children:[(0,l.jsx)("p",{className:"font-medium mb-2",children:"Video Link:"}),(0,l.jsxs)("a",{href:"https://youtu.be/".concat(eF||""),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700 hover:underline flex items-center justify-center gap-2 p-3 bg-card rounded border border-border transition-colors",children:[(0,l.jsx)(j.Z,{className:"h-5 w-5"}),"https://youtu.be/".concat(eF||"")]})]}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsxs)(m.z,{onClick:function(){navigator.clipboard.writeText("https://youtu.be/".concat(eF||"")),U({title:"Link copied",description:"YouTube URL copied to clipboard",duration:3e3})},variant:"outline",size:"sm",className:"text-xs",children:[(0,l.jsx)(k.Z,{className:"mr-1.5 h-4 w-4"}),"Copy Link"]}),(0,l.jsxs)(m.z,{onClick:function(){return window.open("https://youtu.be/".concat(eF||""),"_blank")},size:"sm",className:"text-xs",children:[(0,l.jsx)(j.Z,{className:"mr-1.5 h-4 w-4"}),"Open Video"]})]})]})]})}),e1&&(0,l.jsx)(u.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"bg-background rounded-lg shadow-md w-[90vw] h-[90vh] flex flex-col border border-border overflow-hidden",children:[(0,l.jsxs)("div",{className:"py-3 px-4 border-b flex justify-between items-center",children:[(0,l.jsx)("h2",{className:"text-lg font-medium",children:"Feedback Playback"}),(0,l.jsx)(m.z,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8",onClick:function(){e2(!1),e5&&(URL.revokeObjectURL(e5),e3(void 0))},children:(0,l.jsx)(x.Z,{className:"h-4 w-4"})})]}),(0,l.jsx)("div",{className:"flex-grow p-4",children:(0,l.jsx)("video",{src:e5,controls:!0,autoPlay:!0,className:"w-full h-full"})})]})})]})}},65613:function(e,t,n){"use strict";n.d(t,{Cd:function(){return u},X:function(){return m},bZ:function(){return d}});var r=n(5194),a=n(46796),s=n(57437),i=n(2265),o=n(90535),c=n(94508),l=(0,o.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=i.forwardRef(function(e,t){var n=e.className,i=e.variant,o=(0,a._)(e,["className","variant"]);return(0,s.jsx)("div",(0,r._)({ref:t,role:"alert",className:(0,c.cn)(l({variant:i}),n)},o))});d.displayName="Alert";var u=i.forwardRef(function(e,t){var n=e.className,i=(0,a._)(e,["className"]);return(0,s.jsx)("h5",(0,r._)({ref:t,className:(0,c.cn)("mb-1 font-medium leading-none tracking-tight",n)},i))});u.displayName="AlertTitle";var m=i.forwardRef(function(e,t){var n=e.className,i=(0,a._)(e,["className"]);return(0,s.jsx)("div",(0,r._)({ref:t,className:(0,c.cn)("text-sm [&_p]:leading-relaxed",n)},i))});m.displayName="AlertDescription"},62869:function(e,t,n){"use strict";n.d(t,{d:function(){return d},z:function(){return u}});var r=n(5194),a=n(46796),s=n(57437),i=n(2265),o=n(37053),c=n(90535),l=n(94508),d=(0,c.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=i.forwardRef(function(e,t){var n=e.className,i=e.variant,c=e.size,u=e.asChild,m=(0,a._)(e,["className","variant","size","asChild"]),f=void 0!==u&&u?o.g7:"button";return(0,s.jsx)(f,(0,r._)({className:(0,l.cn)(d({variant:i,size:c,className:n})),ref:t},m))});u.displayName="Button"},26110:function(e,t,n){"use strict";n.d(t,{$N:function(){return v},Be:function(){return g},Vq:function(){return u},cN:function(){return x},cZ:function(){return h},fK:function(){return p}});var r=n(5194),a=n(1780),s=n(46796),i=n(57437),o=n(2265),c=n(49027),l=n(32489),d=n(94508),u=c.fC;c.xz;var m=c.h_;c.x8;var f=o.forwardRef(function(e,t){var n=e.className,a=(0,s._)(e,["className"]);return(0,i.jsx)(c.aV,(0,r._)({ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n)},a))});f.displayName=c.aV.displayName;var h=o.forwardRef(function(e,t){var n=e.className,o=e.children,u=(0,s._)(e,["className","children"]);return(0,i.jsxs)(m,{children:[(0,i.jsx)(f,{}),(0,i.jsxs)(c.VY,(0,a._)((0,r._)({ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n)},u),{children:[o,(0,i.jsxs)(c.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(l.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});h.displayName=c.VY.displayName;var p=function(e){var t=e.className,n=(0,s._)(e,["className"]);return(0,i.jsx)("div",(0,r._)({className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t)},n))};p.displayName="DialogHeader";var x=function(e){var t=e.className,n=(0,s._)(e,["className"]);return(0,i.jsx)("div",(0,r._)({className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},n))};x.displayName="DialogFooter";var v=o.forwardRef(function(e,t){var n=e.className,a=(0,s._)(e,["className"]);return(0,i.jsx)(c.Dx,(0,r._)({ref:t,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",n)},a))});v.displayName=c.Dx.displayName;var g=o.forwardRef(function(e,t){var n=e.className,a=(0,s._)(e,["className"]);return(0,i.jsx)(c.dk,(0,r._)({ref:t,className:(0,d.cn)("text-sm text-muted-foreground",n)},a))});g.displayName=c.dk.displayName},95186:function(e,t,n){"use strict";n.d(t,{I:function(){return c}});var r=n(5194),a=n(46796),s=n(57437),i=n(2265),o=n(94508),c=i.forwardRef(function(e,t){var n=e.className,i=e.type,c=(0,a._)(e,["className","type"]);return(0,s.jsx)("input",(0,r._)({type:i,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t},c))});c.displayName="Input"},32759:function(e,t,n){"use strict";n.d(t,{E:function(){return d}});var r=n(5194),a=n(1780),s=n(46796),i=n(57437),o=n(2265),c=n(60610),l=n(94508),d=o.forwardRef(function(e,t){var n=e.className,o=e.value,d=(0,s._)(e,["className","value"]);return(0,i.jsx)(c.fC,(0,a._)((0,r._)({ref:t,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n)},d),{children:(0,i.jsx)(c.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(o||0),"%)")}})}))});d.displayName=c.fC.displayName},35153:function(e,t,n){"use strict";n.d(t,{pm:function(){return g}});var r=n(84303),a=n(13477),s=n(5194),i=n(1780),o=n(33583),c=n(60076),l=n(2265),d=0,u=new Map,m=function(e){if(!u.has(e)){var t=setTimeout(function(){u.delete(e),x({type:"REMOVE_TOAST",toastId:e})},1e6);u.set(e,t)}},f=function(e,t){switch(t.type){case"ADD_TOAST":return(0,i._)((0,s._)({},e),{toasts:[t.toast].concat((0,c._)(e.toasts)).slice(0,1)});case"UPDATE_TOAST":return(0,i._)((0,s._)({},e),{toasts:e.toasts.map(function(e){return e.id===t.toast.id?(0,s._)({},e,t.toast):e})});case"DISMISS_TOAST":var n=t.toastId;return n?m(n):e.toasts.forEach(function(e){m(e.id)}),(0,i._)((0,s._)({},e),{toasts:e.toasts.map(function(e){return e.id===n||void 0===n?(0,i._)((0,s._)({},e),{open:!1}):e})});case"REMOVE_TOAST":if(void 0===t.toastId)return(0,i._)((0,s._)({},e),{toasts:[]});return(0,i._)((0,s._)({},e),{toasts:e.toasts.filter(function(e){return e.id!==t.toastId})})}},h=[],p={toasts:[]};function x(e){p=f(p,e),h.forEach(function(e){e(p)})}function v(e){var t=(0,r._)({},(0,a._)(e)),n=(d=(d+1)%Number.MAX_SAFE_INTEGER).toString(),o=function(){return x({type:"DISMISS_TOAST",toastId:n})};return x({type:"ADD_TOAST",toast:(0,i._)((0,s._)({},t),{id:n,open:!0,onOpenChange:function(e){e||o()}})}),{id:n,dismiss:o,update:function(e){return x({type:"UPDATE_TOAST",toast:(0,i._)((0,s._)({},e),{id:n})})}}}function g(){var e=(0,o._)(l.useState(p),2),t=e[0],n=e[1];return l.useEffect(function(){return h.push(n),function(){var e=h.indexOf(n);e>-1&&h.splice(e,1)}},[t]),(0,i._)((0,s._)({},t),{toast:v,dismiss:function(e){return x({type:"DISMISS_TOAST",toastId:e})}})}},94508:function(e,t,n){"use strict";n.d(t,{cn:function(){return s}});var r=n(61994),a=n(53335);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}}},function(e){e.O(0,[518,60,97,984,971,117,744],function(){return e(e.s=70237)}),_N_E=e.O()}]);