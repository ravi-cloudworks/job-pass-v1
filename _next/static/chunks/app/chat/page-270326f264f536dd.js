(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{62852:function(e,t,a){Promise.resolve().then(a.bind(a,16405))},16405:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eC}});var n=a(2403),r=a(5194),s=a(1780),i=a(50059),o=a(85735),l=a(5853),c=a(57437),d=a(2265),u=a(62869),m=a(46796),f=a(43643),p=a(94508),h=d.forwardRef(function(e,t){var a=e.className,n=e.children,i=(0,m._)(e,["className","children"]);return(0,c.jsxs)(f.fC,(0,s._)((0,r._)({ref:t,className:(0,p.cn)("relative overflow-hidden",a)},i),{children:[(0,c.jsx)(f.l_,{className:"h-full w-full rounded-[inherit]",children:n}),(0,c.jsx)(x,{}),(0,c.jsx)(f.Ns,{})]}))});h.displayName=f.fC.displayName;var x=d.forwardRef(function(e,t){var a=e.className,n=e.orientation,i=void 0===n?"vertical":n,o=(0,m._)(e,["className","orientation"]);return(0,c.jsx)(f.gb,(0,s._)((0,r._)({ref:t,orientation:i,className:(0,p.cn)("flex touch-none select-none transition-colors","vertical"===i&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===i&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a)},o),{children:(0,c.jsx)(f.q4,{className:"relative flex-1 rounded-full bg-border"})}))});x.displayName=f.gb.displayName;var g=a(70650),v=d.forwardRef(function(e,t){var a=e.className,n=(0,m._)(e,["className"]);return(0,c.jsx)(g.fC,(0,r._)({ref:t,className:(0,p.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a)},n))});v.displayName=g.fC.displayName,d.forwardRef(function(e,t){var a=e.className,n=(0,m._)(e,["className"]);return(0,c.jsx)(g.Ee,(0,r._)({ref:t,className:(0,p.cn)("aspect-square h-full w-full",a)},n))}).displayName=g.Ee.displayName;var y=d.forwardRef(function(e,t){var a=e.className,n=(0,m._)(e,["className"]);return(0,c.jsx)(g.NY,(0,r._)({ref:t,className:(0,p.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a)},n))});y.displayName=g.NY.displayName;var N=a(91723),_=a(82222),j=a(92369),b=(0,a(90535).j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),w=d.forwardRef(function(e,t){var a=e.className,n=e.variant,s=(0,m._)(e,["className","variant"]);return(0,c.jsx)("div",(0,r._)({ref:t,role:"alert",className:(0,p.cn)(b({variant:n}),a)},s))});w.displayName="Alert";var S=d.forwardRef(function(e,t){var a=e.className,n=(0,m._)(e,["className"]);return(0,c.jsx)("h5",(0,r._)({ref:t,className:(0,p.cn)("mb-1 font-medium leading-none tracking-tight",a)},n))});S.displayName="AlertTitle";var E=d.forwardRef(function(e,t){var a=e.className,n=(0,m._)(e,["className"]);return(0,c.jsx)("div",(0,r._)({ref:t,className:(0,p.cn)("text-sm [&_p]:leading-relaxed",a)},n))});E.displayName="AlertDescription";var I=a(37099),k=a(32489);function C(e){var t=e.qrUrl,a=e.onClose;return(0,c.jsx)("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:(0,c.jsxs)("div",{className:"relative bg-background p-8 rounded-lg shadow-lg",children:[(0,c.jsxs)(u.z,{variant:"ghost",size:"icon",className:"absolute top-2 right-2",onClick:a,children:[(0,c.jsx)(k.Z,{className:"h-4 w-4"}),(0,c.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,c.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,c.jsx)("img",{src:t||"./placeholder.svg",alt:"Payment QR Code",className:"w-64 h-64"}),(0,c.jsx)("p",{className:"text-center text-muted-foreground",children:"Scan this QR code to add more credits"})]})]})})}var A=a(48614),R=a(40521),T=JSON.parse('{"nodes":{"root":{"question":"What are you planning to prepare for today?","options":["job_interview","project_interview"]},"job_interview":{"text":"Job Interview","question":"Great choice! Are you preparing for a technical interview or something else?","options":["technical_interview","hr_interview"]},"technical_interview":{"text":"Technical","question":"Alright! What role are you aiming for?","options":["software_engineer","data_scientist","ml_engineer","devops_engineer","cybersecurity_specialist"]},"hr_interview":{"text":"HR","question":"HR interviews can be tricky! What\'s your current career level?","options":["entry_level","leadership_managerial"]},"entry_level":{"text":"Entry Level","question":"Got it! Are you preparing for situational questions or behavioral ones?","options":["situational_questions","behavioral_questions"],"isEndpoint":true,"questionSetId":{"situational_questions":{"standard":{"easy":["SIQU-001"],"medium":["SIQU-002"],"hard":["SIQU-003"]}},"behavioral_questions":{"standard":{"easy":["BEQU-001"],"medium":["BEQU-002"],"hard":["BEQU-003"]}}}},"leadership_managerial":{"text":"Leadership/Managerial","question":"Leadership roles are challenging yet rewarding! What type of questions are you preparing for?","options":["strategic_decision","team_management","conflict_resolution"],"isEndpoint":true,"questionSetId":{"strategic_decision":{"standard":{"easy":["STDE-001"],"medium":["STDE-002"],"hard":["STDE-003"]}},"team_management":{"standard":{"easy":["TEMA-001"],"medium":["TEMA-002"],"hard":["TEMA-003"]}},"conflict_resolution":{"standard":{"easy":["CORE-001"],"medium":["CORE-002"],"hard":["CORE-003"]}}}},"software_engineer":{"text":"Software Engineer","question":"Got it! Which area of software engineering are you focusing on?","options":["backend_dev","frontend_dev","fullstack_dev"]},"backend_dev":{"text":"Backend Development","question":"Backend development sounds awesome! What tech stack do you want to focus on?","options":["python_django","nodejs_express","go_gin"],"isEndpoint":true,"questionSetId":{"python_django":{"standard":{"easy":["PYDJ-001"],"medium":["PYDJ-002"],"hard":["PYDJ-003"]}},"nodejs_express":{"standard":{"easy":["NOEX-001"],"medium":["NOEX-002"],"hard":["NOEX-003"]}},"go_gin":{"standard":{"easy":["GOGI-001"],"medium":["GOGI-002"],"hard":["GOGI-003"]}}}},"frontend_dev":{"text":"Frontend Development","question":"Frontend it is! Which framework or library would you like to master?","options":["reactjs","nextjs","angular"],"isEndpoint":true,"questionSetId":{"reactjs":{"standard":{"easy":["REJA-001"],"medium":["REJA-002"],"hard":["REJA-003"]}},"nextjs":{"standard":{"easy":["NEJS-001"],"medium":["NEJS-002"],"hard":["NEJS-003"]}},"angular":{"standard":{"easy":["AN-001"],"medium":["AN-002"],"hard":["AN-003"]}}}},"fullstack_dev":{"text":"Full Stack Development","question":"Full-stack developers are always in demand! What\'s your preferred stack?","options":["mern","mean","jamstack"],"isEndpoint":true,"questionSetId":{"mern":{"standard":{"easy":["ME-001"],"medium":["ME-002"],"hard":["ME-003"]}},"mean":{"standard":{"easy":["ME-001"],"medium":["ME-002"],"hard":["ME-003"]}},"jamstack":{"standard":{"easy":["JAST-001"],"medium":["JAST-002"],"hard":["JAST-003"]}}}},"data_scientist":{"text":"Data Scientist","question":"Data science is a hot field right now! What\'s your area of interest?","options":["machine_learning","data_analysis","cloud_ai"]},"machine_learning":{"text":"Machine Learning","question":"That\'s exciting! Which tools or libraries are you focusing on?","options":["scikit_learn","tensorflow_keras","pytorch"],"isEndpoint":true,"questionSetId":{"scikit_learn":{"standard":{"easy":["SCLE-001"],"medium":["SCLE-002"],"hard":["SCLE-003"]}},"tensorflow_keras":{"standard":{"easy":["TEKE-001"],"medium":["TEKE-002"],"hard":["TEKE-003"]}},"pytorch":{"standard":{"easy":["PY-001"],"medium":["PY-002"],"hard":["PY-003"]}}}},"data_analysis":{"text":"Data Analysis","question":"Great choice! What\'s your go-to toolset for data analysis?","options":["python_pandas","r_tools"],"isEndpoint":true,"questionSetId":{"python_pandas":{"standard":{"easy":["PYPA-001"],"medium":["PYPA-002"],"hard":["PYPA-003"]}},"r_tools":{"standard":{"easy":["RETO-001"],"medium":["RETO-002"],"hard":["RETO-003"]}}}},"cloud_ai":{"text":"Cloud AI Solutions","question":"Cloud AI is a game-changer! Which platform are you working with?","options":["aws_sagemaker","gcp_ai","azure_ml"],"isEndpoint":true,"questionSetId":{"aws_sagemaker":{"standard":{"easy":["AWSA-001"],"medium":["AWSA-002"],"hard":["AWSA-003"]}},"gcp_ai":{"standard":{"easy":["GCAI-001"],"medium":["GCAI-002"],"hard":["GCAI-003"]}},"azure_ml":{"standard":{"easy":["AZML-001"],"medium":["AZML-002"],"hard":["AZML-003"]}}}},"ml_engineer":{"text":"Machine Learning Engineer","question":"That\'s amazing! What\'s your primary focus as an ML engineer?","options":["ml_pipelines","model_optimization","mlops"],"isEndpoint":true,"questionSetId":{"ml_pipelines":{"standard":{"easy":["MLPI-001"],"medium":["MLPI-002"],"hard":["MLPI-003"]}},"model_optimization":{"standard":{"easy":["MOOP-001"],"medium":["MOOP-002"],"hard":["MOOP-003"]}},"mlops":{"standard":{"easy":["ML-001"],"medium":["ML-002"],"hard":["ML-003"]}}}},"devops_engineer":{"text":"DevOps Engineer","question":"DevOps is crucial in modern tech! What\'s your key focus area?","options":["cicd","k8s_docker","terraform"],"isEndpoint":true,"questionSetId":{"cicd":{"standard":{"easy":["CI-001"],"medium":["CI-002"],"hard":["CI-003"]}},"k8s_docker":{"standard":{"easy":["K8DO-001"],"medium":["K8DO-002"],"hard":["K8DO-003"]}},"terraform":{"standard":{"easy":["TE-001"],"medium":["TE-002"],"hard":["TE-003"]}}}},"cybersecurity_specialist":{"text":"Cybersecurity Specialist","question":"Cybersecurity is an exciting and critical field! What\'s your primary focus?","options":["pentesting","soc_analyst","cloud_security","iam","network_security","incident_response"]},"pentesting":{"text":"Penetration Testing","question":"Got it! Are you focusing on tools or methodologies?","options":["pentest_tools","pentest_methods"],"isEndpoint":true,"questionSetId":{"pentest_tools":{"standard":{"easy":["PETO-001"],"medium":["PETO-002"],"hard":["PETO-003"]}},"pentest_methods":{"standard":{"easy":["PEME-001"],"medium":["PEME-002"],"hard":["PEME-003"]}}}},"soc_analyst":{"text":"Security Operations (SOC Analyst)","question":"SOC Analysts are vital! What level are you aiming for?","options":["soc_tier1","soc_tier2","soc_tier3"],"isEndpoint":true,"questionSetId":{"soc_tier1":{"standard":{"easy":["SOTI-001"],"medium":["SOTI-002"],"hard":["SOTI-003"]}},"soc_tier2":{"standard":{"easy":["SOTI-001"],"medium":["SOTI-002"],"hard":["SOTI-003"]}},"soc_tier3":{"standard":{"easy":["SOTI-001"],"medium":["SOTI-002"],"hard":["SOTI-003"]}}}},"cloud_security":{"text":"Cloud Security","question":"Cloud Security is growing fast! Which platform are you focused on?","options":["aws_security","azure_security","gcp_security"],"isEndpoint":true,"questionSetId":{"aws_security":{"standard":{"easy":["AWSE-001"],"medium":["AWSE-002"],"hard":["AWSE-003"]}},"azure_security":{"standard":{"easy":["AZSE-001"],"medium":["AZSE-002"],"hard":["AZSE-003"]}},"gcp_security":{"standard":{"easy":["GCSE-001"],"medium":["GCSE-002"],"hard":["GCSE-003"]}}}},"iam":{"text":"Identity and Access Management (IAM)","question":"IAM is key for organizational security! What\'s your specialization?","options":["ad_management","sso_solutions","rbac"],"isEndpoint":true,"questionSetId":{"ad_management":{"standard":{"easy":["ADMA-001"],"medium":["ADMA-002"],"hard":["ADMA-003"]}},"sso_solutions":{"standard":{"easy":["SSSO-001"],"medium":["SSSO-002"],"hard":["SSSO-003"]}},"rbac":{"standard":{"easy":["RB-001"],"medium":["RB-002"],"hard":["RB-003"]}}}},"network_security":{"text":"Network Security","question":"Protecting networks is essential! Are you focused on tools or strategies?","options":["firewalls_vpn","ids_ips","zero_trust"],"isEndpoint":true,"questionSetId":{"firewalls_vpn":{"standard":{"easy":["FIVP-001"],"medium":["FIVP-002"],"hard":["FIVP-003"]}},"ids_ips":{"standard":{"easy":["IDIP-001"],"medium":["IDIP-002"],"hard":["IDIP-003"]}},"zero_trust":{"standard":{"easy":["ZETR-001"],"medium":["ZETR-002"],"hard":["ZETR-003"]}}}},"incident_response":{"text":"Incident Response","question":"Responding to incidents is critical! Are you focused on?","options":["digital_forensics","malware_analysis","threat_hunting"],"isEndpoint":true,"questionSetId":{"digital_forensics":{"standard":{"easy":["DIFO-001"],"medium":["DIFO-002"],"hard":["DIFO-003"]}},"malware_analysis":{"standard":{"easy":["MAAN-001"],"medium":["MAAN-002"],"hard":["MAAN-003"]}},"threat_hunting":{"standard":{"easy":["THHU-001"],"medium":["THHU-002"],"hard":["THHU-003"]}}}},"project_interview":{"text":"Project Interview","question":"Interesting! What type of project are you presenting?","options":["software_project","research_project","cybersecurity_project"]},"software_project":{"text":"Software Project","question":"Cool! What domain does your project belong to?","options":["web_dev","mobile_dev"]},"web_dev":{"text":"Web Development","question":"Is it front-end, back-end, or full-stack development?","options":["web_frontend","web_backend","web_fullstack"],"isEndpoint":true,"questionSetId":{"web_frontend":{"standard":{"easy":["WEFR-001"],"medium":["WEFR-002"],"hard":["WEFR-003"]}},"web_backend":{"standard":{"easy":["WEBA-001"],"medium":["WEBA-002"],"hard":["WEBA-003"]}},"web_fullstack":{"standard":{"easy":["WEFU-001"],"medium":["WEFU-002"],"hard":["WEFU-003"]}}}},"mobile_dev":{"text":"Mobile Development","question":"Great! Which platform does your project target?","options":["android","ios","cross_platform"],"isEndpoint":true,"questionSetId":{"android":{"standard":{"easy":["AN-001"],"medium":["AN-002"],"hard":["AN-003"]}},"ios":{"standard":{"easy":["IO-001"],"medium":["IO-002"],"hard":["IO-003"]}},"cross_platform":{"standard":{"easy":["CRPL-001"],"medium":["CRPL-002"],"hard":["CRPL-003"]}}}},"research_project":{"text":"Research Project","question":"Sounds impressive! What\'s the focus area of your research?","options":["ai_research","blockchain_research","cloud_research","iot_research"],"isEndpoint":true,"questionSetId":{"ai_research":{"standard":{"easy":["AIRE-001"],"medium":["AIRE-002"],"hard":["AIRE-003"]}},"blockchain_research":{"standard":{"easy":["BLRE-001"],"medium":["BLRE-002"],"hard":["BLRE-003"]}},"cloud_research":{"standard":{"easy":["CLRE-001"],"medium":["CLRE-002"],"hard":["CLRE-003"]}},"iot_research":{"standard":{"easy":["IORE-001"],"medium":["IORE-002"],"hard":["IORE-003"]}}}},"cybersecurity_project":{"text":"Cybersecurity Project","question":"Cybersecurity projects are impactful! What\'s your project focused on?","options":["vuln_assessment","incident_response_plan","threat_modeling"]},"vuln_assessment":{"text":"Vulnerability Assessment","question":"Great! Is this for a specific industry or a general security review?","options":["industry_specific","general_security"],"isEndpoint":true,"questionSetId":{"industry_specific":{"standard":{"easy":["INSP-001"],"medium":["INSP-002"],"hard":["INSP-003"]}},"general_security":{"standard":{"easy":["GESE-001"],"medium":["GESE-002"],"hard":["GESE-003"]}}}},"incident_response_plan":{"text":"Incident Response Plan","question":"Fantastic! Are you presenting a simulated response or a real case study?","options":["simulated_incident","real_incident"],"isEndpoint":true,"questionSetId":{"simulated_incident":{"standard":{"easy":["SIIN-001"],"medium":["SIIN-002"],"hard":["SIIN-003"]}},"real_incident":{"standard":{"easy":["REIN-001"],"medium":["REIN-002"],"hard":["REIN-003"]}}}},"threat_modeling":{"text":"Threat Modeling","question":"Threat modeling is fascinating! What methodology are you using?","options":["stride","dread","pasta"],"isEndpoint":true,"questionSetId":{"stride":{"standard":{"easy":["ST-001"],"medium":["ST-002"],"hard":["ST-003"]}},"dread":{"standard":{"easy":["DR-001"],"medium":["DR-002"],"hard":["DR-003"]}},"pasta":{"standard":{"easy":["PA-001"],"medium":["PA-002"],"hard":["PA-003"]}}}}},"options":{"python_django":{"text":"Python + Django"},"nodejs_express":{"text":"Node.js + Express"},"go_gin":{"text":"Go + Gin Framework"},"reactjs":{"text":"React.js"},"nextjs":{"text":"Next.js"},"angular":{"text":"Angular"},"mern":{"text":"MERN (MongoDB, Express, React, Node.js)"},"mean":{"text":"MEAN (MongoDB, Express, Angular, Node.js)"},"jamstack":{"text":"JAMstack (JavaScript, APIs, Markup)"},"scikit_learn":{"text":"Python + Scikit-learn"},"tensorflow_keras":{"text":"TensorFlow + Keras"},"pytorch":{"text":"PyTorch"},"python_pandas":{"text":"Python + Pandas + Matplotlib"},"r_tools":{"text":"R + ggplot2 + Shiny"},"aws_sagemaker":{"text":"AWS SageMaker"},"gcp_ai":{"text":"Google Cloud AI Platform"},"azure_ml":{"text":"Azure Machine Learning"},"ml_pipelines":{"text":"Building ML Pipelines"},"model_optimization":{"text":"Model Optimization"},"mlops":{"text":"Deployment with MLOps"},"cicd":{"text":"CI/CD Pipelines"},"k8s_docker":{"text":"Kubernetes + Docker"},"terraform":{"text":"Infrastructure as Code (IaC) with Terraform"},"pentest_tools":{"text":"Tools (Burp Suite, Metasploit, etc.)"},"pentest_methods":{"text":"Methodologies (OWASP, MITRE ATT&CK, etc.)"},"soc_tier1":{"text":"Entry-Level (Tier 1)"},"soc_tier2":{"text":"Intermediate (Tier 2)"},"soc_tier3":{"text":"Advanced Threat Analysis (Tier 3)"},"aws_security":{"text":"AWS Security"},"azure_security":{"text":"Azure Security"},"gcp_security":{"text":"Google Cloud Security"},"ad_management":{"text":"Active Directory (AD) Management"},"sso_solutions":{"text":"Single Sign-On (SSO) Solutions"},"rbac":{"text":"Role-Based Access Control (RBAC)"},"firewalls_vpn":{"text":"Firewalls and VPNs"},"ids_ips":{"text":"Intrusion Detection/Prevention Systems (IDS/IPS)"},"zero_trust":{"text":"Zero Trust Architectures"},"digital_forensics":{"text":"Digital Forensics"},"malware_analysis":{"text":"Malware Analysis"},"threat_hunting":{"text":"Threat Hunting"},"web_frontend":{"text":"Frontend"},"web_backend":{"text":"Backend"},"web_fullstack":{"text":"Full Stack"},"android":{"text":"Android"},"ios":{"text":"iOS"},"cross_platform":{"text":"Cross-Platform (Flutter, React Native)"},"ai_research":{"text":"Artificial Intelligence"},"blockchain_research":{"text":"Blockchain"},"cloud_research":{"text":"Cloud Computing"},"iot_research":{"text":"IoT (Internet of Things)"},"industry_specific":{"text":"Industry-Specific (Finance, Healthcare, etc.)"},"general_security":{"text":"General Security"},"simulated_incident":{"text":"Simulated Incident"},"real_incident":{"text":"Real Incident"},"stride":{"text":"STRIDE"},"dread":{"text":"DREAD"},"pasta":{"text":"PASTA"},"situational_questions":{"text":"Situational"},"behavioral_questions":{"text":"Behavioral"},"strategic_decision":{"text":"Strategic Decision-Making"},"team_management":{"text":"Team Management"},"conflict_resolution":{"text":"Conflict Resolution"}},"metadata":{"version":"1.0","lastUpdated":"2024-01-26","defaultLanguage":"en"}}');function q(e){var t=T.nodes[e];if(!t){var a=T.options[e];return a?{question:"You selected ".concat(a.text,". What complexity level do you prefer?"),options:["Easy","Medium","Hard"],isEndpoint:!0,text:a.text}:(console.error('Node or option with key "'.concat(e,'" not found in chatbot flow.')),{question:"I'm sorry, but I couldn't find the next question. Let's start over.",options:["root"]})}return(0,s._)((0,r._)({},t),{question:t.question||t.text||""})}function P(e){return"start_over"===e?"Start Over Again":e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join(" ")}var M={Easy:15,Medium:30,Strong:45};function D(e){var t,a,r=e.onSendMessage,s=e.onGenerateImage,m=(0,i._)((0,d.useState)([]),2),f=m[0],p=m[1],x=(0,i._)((0,d.useState)(q("root")),2),g=x[0],b=x[1],E=(0,i._)((0,d.useState)(!1),2),k=E[0],D=E[1],F=(0,i._)((0,d.useState)(null),2),z=F[0],U=F[1],L=(0,i._)((0,d.useState)(120),2),W=L[0],G=L[1],Z=(0,i._)((0,d.useState)(null),2),B=(Z[0],Z[1]),J=(0,i._)((0,d.useState)(!1),2),V=J[0],Y=J[1],H=(0,i._)((0,d.useState)(null),2),Q=H[0],K=H[1],$=(0,d.useRef)(null);(0,d.useEffect)(function(){p([{role:"ai",content:g.question,options:(0,o._)(g.options||[]).concat(["start_over"])}])},[g]);var X=function(){var e;null===(e=$.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,d.useEffect)(function(){X()},[f]);var ee=(t=(0,n._)(function(e){var t,a,n;return(0,l.Jh)(this,function(s){return"start_over"===e?(b(q("root")),p([{role:"ai",content:q("root").question,options:(0,o._)(q("root").options||[]).concat(["start_over"])}]),B(null)):(t={role:"user",content:P(e)},p(function(e){return(0,o._)(e).concat([t])}),D(!0),r(e),b(a=q(e)),n={role:"ai",content:a.question,options:(0,o._)(a.options||[]).concat(["start_over"])},p(function(e){return(0,o._)(e).concat([n])}),D(!1)),[2]})}),function(e){return t.apply(this,arguments)}),et=function(e){if(W<M[e]){var t={role:"ai",type:"qr-payment",content:"Insufficient minutes remaining. Please purchase more time to continue.",qrData:{amount:10,paymentUrl:"./placeholder.svg?height=200&width=200&text=Sample+QR+Code"}};p(function(e){return(0,o._)(e).concat([t])});return}K(e),Y(!0)},ea=(a=(0,n._)(function(e){var t,a,n,r,c,d,u,m,f;return(0,l.Jh)(this,function(l){switch(l.label){case 0:if(Y(!1),!e||!Q)return[2];t=M[Q],a={role:"user",content:Q},p(function(e){return(0,o._)(e).concat([a])}),G(function(e){return e-t}),B(Q),D(!0),l.label=1;case 1:if(l.trys.push([1,4,,5]),!(n=function(e,t){var a;if(console.log("Getting question set ID for:",{nodeText:e.text,complexity:t,hasQuestionSetId:!!e.questionSetId}),!e||!t){console.log("No node or complexity provided");return}if((null===(a=e.question)||void 0===a?void 0:a.includes("You selected"))&&e.text){var n=Object.entries(T.nodes).find(function(t){var a,n=(0,i._)(t,2);return null===(a=(n[0],n[1]).options)||void 0===a?void 0:a.some(function(t){var a;return(null===(a=T.options[t])||void 0===a?void 0:a.text)===e.text})});if(n){var r=(0,i._)(n,2),s=r[0],o=r[1];console.log("Found parent node:",s,o);var l=null===(c=o.options)||void 0===c?void 0:c.find(function(t){var a;return(null===(a=T.options[t])||void 0===a?void 0:a.text)===e.text});if(l&&(null===(u=o.questionSetId)||void 0===u?void 0:null===(d=u[l])||void 0===d?void 0:d.standard)){var c,d,u,m,f=null===(m=o.questionSetId[l].standard[t.toLowerCase()])||void 0===m?void 0:m[0];return console.log("Found question set ID:",f),f}}}if(e.questionSetId&&e.text){var p=Object.keys(e.questionSetId)[0];if(p){var h,x=null===(h=e.questionSetId[p].standard[t.toLowerCase()])||void 0===h?void 0:h[0];return console.log("Found direct question set ID:",x),x}}console.log("No question set ID found")}(g,Q)))throw Error("No valid question set found for the selected complexity");for(r=g.text||"",c=g.parent;c;)(d=q(c)).text&&(r="".concat(d.text," > ").concat(r)),c=d.parent;return u="".concat(r," - ").concat(Q),[4,new Promise(function(e){return setTimeout(e,4e4)})];case 2:return l.sent(),[4,s(u,n,Q,r)];case 3:return l.sent(),D(!1),m={role:"ai",type:"image-generation",content:"Your AI interview for ".concat(r," with ").concat(Q,' complexity has been generated successfully! You can find "New" in Success Vault.'),options:["start_over"],questionSetId:n,complexity:Q,category:r},p(function(e){return(0,o._)(e).concat([m])}),[3,5];case 4:return console.error("Error in handleComplexitySelection:",l.sent()),D(!1),f={role:"ai",content:"I'm sorry, there was an error generating AI Interview. Please try again.",options:["start_over"]},p(function(e){return(0,o._)(e).concat([f])}),[3,5];case 5:return[2]}})}),function(e){return a.apply(this,arguments)});return(0,c.jsxs)("div",{className:"flex flex-col h-full",children:[(0,c.jsx)("div",{className:"p-2 border-b",children:(0,c.jsxs)(w,{children:[(0,c.jsx)(N.Z,{className:"h-4 w-4"}),(0,c.jsxs)(S,{className:"text-sm",children:["Time Remaining: ","".concat(Math.floor(W/60),"h ").concat(W%60,"m")]})]})}),(0,c.jsxs)(h,{className:"flex-1 p-2",children:[(0,c.jsx)(A.M,{children:f.map(function(e,t){return(0,c.jsx)(R.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"flex ".concat("user"===e.role?"justify-end":"justify-start"," mb-4"),children:(0,c.jsxs)("div",{className:"flex items-start max-w-[70%] ".concat("user"===e.role?"flex-row-reverse":"flex-row"),children:[(0,c.jsx)(v,{className:"w-8 h-8 mr-2",children:(0,c.jsx)(y,{children:"ai"===e.role?(0,c.jsx)(_.Z,{className:"w-5 h-5"}):(0,c.jsx)(j.Z,{className:"w-5 h-5"})})}),(0,c.jsxs)("div",{className:"p-3 rounded-lg ".concat("user"===e.role?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),children:[(0,c.jsx)("p",{children:e.content}),"qr-payment"===e.type&&e.qrData&&(0,c.jsxs)("div",{className:"mt-2 cursor-pointer",onClick:function(){var t;return U((null===(t=e.qrData)||void 0===t?void 0:t.paymentUrl)||null)},children:[(0,c.jsx)("img",{src:e.qrData.paymentUrl||"./placeholder.svg",alt:"Payment QR Code",className:"w-32 h-32 mx-auto"}),(0,c.jsx)("p",{className:"text-sm text-center mt-2",children:"Click to enlarge QR code"})]}),e.options&&(0,c.jsx)("div",{className:"mt-2 space-y-2",children:e.options.map(function(e,t){return(0,c.jsx)(u.z,{variant:"outline",size:"sm",className:"w-full text-left justify-start",onClick:function(){return"Easy"===e||"Medium"===e||"Hard"===e?et(e):ee(e)},children:P(e)},t)})})]})]})},t)})}),k&&(0,c.jsx)("div",{className:"flex justify-start mb-4",children:(0,c.jsxs)("div",{className:"flex items-start",children:[(0,c.jsx)(v,{className:"w-8 h-8 mr-2",children:(0,c.jsx)(y,{children:(0,c.jsx)(_.Z,{className:"w-5 h-5"})})}),(0,c.jsx)("div",{className:"p-3 rounded-lg bg-gray-200 text-gray-800",children:(0,c.jsx)(O,{})})]})}),(0,c.jsx)("div",{ref:$})]}),z&&(0,c.jsx)(C,{qrUrl:z,onClose:function(){return U(null)}}),(0,c.jsx)(I.aR,{open:V,onOpenChange:Y,children:(0,c.jsxs)(I._T,{children:[(0,c.jsxs)(I.fY,{children:[(0,c.jsx)(I.f$,{children:"Confirm Interview Generation"}),(0,c.jsxs)(I.yT,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,c.jsx)("p",{className:"font-medium mb-2",children:"Selected Interview Details:"}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("span",{className:"text-gray-600",children:"Category:"})," ",g.text]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("span",{className:"text-gray-600",children:"Complexity:"})," ",Q]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("span",{className:"text-gray-600",children:"Duration:"})," ",M[Q]," minutes"]})]})]}),(0,c.jsxs)("p",{className:"text-yellow-600",children:["⚠️ This action will deduct ",M[Q]," minutes from your remaining time and cannot be reversed."]}),(0,c.jsx)("p",{className:"font-medium",children:"Do you want to proceed?"})]})]}),(0,c.jsxs)(I.xo,{children:[(0,c.jsx)(u.z,{variant:"outline",onClick:function(){return ea(!1)},children:"Cancel"}),(0,c.jsx)(u.z,{onClick:function(){return ea(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white",children:"Generate Interview"})]})]})})]})}function O(){var e=(0,i._)((0,d.useState)(0),2),t=e[0],a=e[1],n=(0,i._)((0,d.useState)(""),2),r=n[0],s=n[1],o=(0,i._)((0,d.useState)([]),2),l=o[0],u=o[1],m=(0,i._)((0,d.useState)(Date.now()),1)[0],f=["AI is generating","Generating your questions","Generating your video infrastructure","Finalizing your interview"];return(0,d.useEffect)(function(){var e=setInterval(function(){s(function(e){return e.length>=3?"":e+"."})},500),t=setInterval(function(){var e=Math.min(Math.floor((Date.now()-m)/1e4),f.length-1);a(e);for(var t=[],n=0;n<e;n++)t.push(n);u(t)},100);return function(){clearInterval(e),clearInterval(t)}},[m]),(0,c.jsx)("div",{className:"space-y-3 p-2",children:f.map(function(e,a){return(0,c.jsxs)("div",{className:"flex items-center space-x-3 min-h-[2rem]",children:[(0,c.jsx)("div",{className:"w-6 flex justify-center",children:l.includes(a)?(0,c.jsx)("span",{className:"text-green-500 text-lg animate-fade-in",children:"✓"}):t===a?(0,c.jsx)("span",{className:"w-4 text-blue-500",children:r}):(0,c.jsx)("span",{className:"w-4"})}),(0,c.jsx)("span",{className:"transition-colors duration-300 ".concat(l.includes(a)?"text-green-500 font-medium":t===a?"text-blue-500":"text-gray-400"),children:e})]},a)})})}var F=a(1913),z=a(40875),U=a(22135),L=a(30401),W=F.fC;F.ZA;var G=F.B4,Z=d.forwardRef(function(e,t){var a=e.className,n=e.children,i=(0,m._)(e,["className","children"]);return(0,c.jsxs)(F.xz,(0,s._)((0,r._)({ref:t,className:(0,p.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a)},i),{children:[n,(0,c.jsx)(F.JO,{asChild:!0,children:(0,c.jsx)(z.Z,{className:"h-4 w-4 opacity-50"})})]}))});Z.displayName=F.xz.displayName;var B=d.forwardRef(function(e,t){var a=e.className,n=(0,m._)(e,["className"]);return(0,c.jsx)(F.u_,(0,s._)((0,r._)({ref:t,className:(0,p.cn)("flex cursor-default items-center justify-center py-1",a)},n),{children:(0,c.jsx)(U.Z,{className:"h-4 w-4"})}))});B.displayName=F.u_.displayName;var J=d.forwardRef(function(e,t){var a=e.className,n=(0,m._)(e,["className"]);return(0,c.jsx)(F.$G,(0,s._)((0,r._)({ref:t,className:(0,p.cn)("flex cursor-default items-center justify-center py-1",a)},n),{children:(0,c.jsx)(z.Z,{className:"h-4 w-4"})}))});J.displayName=F.$G.displayName;var V=d.forwardRef(function(e,t){var a=e.className,n=e.children,i=e.position,o=void 0===i?"popper":i,l=(0,m._)(e,["className","children","position"]);return(0,c.jsx)(F.h_,{children:(0,c.jsxs)(F.VY,(0,s._)((0,r._)({ref:t,className:(0,p.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:o},l),{children:[(0,c.jsx)(B,{}),(0,c.jsx)(F.l_,{className:(0,p.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,c.jsx)(J,{})]}))})});V.displayName=F.VY.displayName,d.forwardRef(function(e,t){var a=e.className,n=(0,m._)(e,["className"]);return(0,c.jsx)(F.__,(0,r._)({ref:t,className:(0,p.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a)},n))}).displayName=F.__.displayName;var Y=d.forwardRef(function(e,t){var a=e.className,n=e.children,i=(0,m._)(e,["className","children"]);return(0,c.jsxs)(F.ck,(0,s._)((0,r._)({ref:t,className:(0,p.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},i),{children:[(0,c.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,c.jsx)(F.wU,{children:(0,c.jsx)(L.Z,{className:"h-4 w-4"})})}),(0,c.jsx)(F.eT,{children:n})]}))});Y.displayName=F.ck.displayName,d.forwardRef(function(e,t){var a=e.className,n=(0,m._)(e,["className"]);return(0,c.jsx)(F.Z0,(0,r._)({ref:t,className:(0,p.cn)("-mx-1 my-1 h-px bg-muted",a)},n))}).displayName=F.Z0.displayName;var H=a(86595),Q=a(27107),K=a(12339),$=a(32759),X=a(51817),ee=a(92451),et=a(10407),ea=a(88178),en=a(70933),er=a(33276),es=a(2296),ei=a(35153),eo=a(24457),el=a.n(eo),ec={WIDTH:1280,HEIGHT:720};function ed(e){var t,a,r,s,m,f,p=e.onClose,h=e.onComplete,x=e.questionSetId,g=e.category,v=e.complexity,y=(0,ei.pm)().toast,N=(0,i._)((0,d.useState)(0),2),_=N[0],j=N[1],b=(0,i._)((0,d.useState)(!1),2),I=b[0],C=b[1],A=(0,i._)((0,d.useState)(!1),2),T=A[0],q=A[1],P=(0,i._)((0,d.useState)(0),2),M=P[0],D=P[1],O=(0,i._)((0,d.useState)([]),2),F=O[0],z=O[1],U=(0,i._)((0,d.useState)(""),2),L=U[0],W=U[1],G=(0,i._)((0,d.useState)(!0),2),Z=G[0],B=G[1],J=(0,i._)((0,d.useState)(null),2),V=J[0],Y=J[1],H=(0,i._)((0,d.useState)(!1),2),Q=H[0];H[1];var K=(0,i._)((0,d.useState)(0),2),eo=K[0];K[1];var ed=(0,i._)((0,d.useState)([]),2),eu=(ed[0],ed[1]),em=(0,i._)((0,d.useState)(0),2),ef=em[0],ep=em[1],eh=(0,i._)((0,d.useState)(!1),2),ex=eh[0],eg=eh[1],ev=(0,d.useRef)(null),ey=(0,d.useRef)(null);(0,d.useRef)(null),(0,d.useRef)([]);var eN=(0,d.useRef)(null),e_=(0,d.useRef)(null),ej=(0,d.useRef)([]),eb=(t=(0,n._)(function(){var e;return(0,l.Jh)(this,function(t){switch(t.label){case 0:Y(null),t.label=1;case 1:return t.trys.push([1,5,,6]),console.log("Initializing camera preview..."),eN.current&&eN.current.getTracks().forEach(function(e){return e.stop()}),ey.current&&(ey.current.srcObject=null),[4,navigator.mediaDevices.getUserMedia({video:{width:{ideal:ec.WIDTH},height:{ideal:ec.HEIGHT}},audio:!0})];case 2:if(e=t.sent(),!ey.current)return[3,4];return ey.current.srcObject=e,eN.current=e,[4,new Promise(function(e){ey.current&&(ey.current.onloadedmetadata=function(){return e(!0)})})];case 3:t.sent(),q(!0),Y(null),console.log("Camera initialized successfully"),t.label=4;case 4:return[3,6];case 5:return console.error("Camera preview error:",t.sent()),Y("Unable to access camera. Please check permissions."),q(!1),[3,6];case 6:return[2]}})}),function(){return t.apply(this,arguments)}),ew=function(){eN.current&&(eN.current.getTracks().forEach(function(e){return e.stop()}),eN.current=null),ey.current&&(ey.current.srcObject=null),q(!1)};(0,d.useEffect)(function(){return eb(),function(){ew()}},[]),(0,d.useEffect)(function(){return function(){ew(),e_.current&&e_.current.stop()}},[]),(0,d.useEffect)(function(){var e;if(!x){Y("No question set ID provided"),B(!1);return}(e=(0,n._)(function(){var e,t;return(0,l.Jh)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,4,5]),B(!0),[4,fetch("./data/mock-interviews/".concat(x,".json"))];case 1:if(!(e=a.sent()).ok)throw Error("HTTP error! status: ".concat(e.status));return[4,e.json()];case 2:return z((t=a.sent()).questions),W(t.title),D(t.time_limit),[3,5];case 3:return console.error("Error loading questions:",a.sent()),Y("Failed to load interview questions"),[3,5];case 4:return B(!1),[7];case 5:return[2]}})}),function(){return e.apply(this,arguments)})()},[x]),(0,d.useEffect)(function(){var e;return I&&M>0?e=setInterval(function(){D(function(e){return e-1})},1e3):0===M&&I&&eA(),function(){return clearInterval(e)}},[I,M]);var eS=(a=(0,n._)(function(){var e,t;return(0,l.Jh)(this,function(a){switch(a.label){case 0:if(!ev.current)return[2,null];a.label=1;case 1:if(a.trys.push([1,3,,4]),!((e=I?ev.current.querySelector(".text-2xl.font-semibold.flex-grow"):ev.current.querySelector(".content-section"))instanceof HTMLElement))return console.error("Content section not found"),[2,null];return console.log("Capturing content for question:",_),[4,el()(e,{backgroundColor:"white",scale:window.devicePixelRatio||1,width:Math.floor(.6*ec.WIDTH),height:ec.HEIGHT,useCORS:!0,logging:!0})];case 2:return console.log("Snapshot dimensions:",(t=a.sent()).width,"x",t.height),[2,{timestamp:Date.now()-ef,imageData:t,questionIndex:_}];case 3:return console.error("Error taking snapshot:",a.sent()),[2,null];case 4:return[2]}})}),function(){return a.apply(this,arguments)}),eE=(r=(0,n._)(function(){var e,t,a;return(0,l.Jh)(this,function(n){switch(n.label){case 0:if(n.trys.push([0,2,,3]),!eN.current)return[2];return[4,navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"browser"},audio:!1})];case 1:return e=n.sent(),t=eN.current.getAudioTracks()[0],e.addTrack(t),a=new MediaRecorder(e,{mimeType:"video/webm;codecs=vp8,opus"}),ej.current=[],a.ondataavailable=function(e){e.data.size>0&&ej.current.push(e.data)},a.onstop=function(){e.getTracks().forEach(function(e){return e.stop()});var t=new Blob(ej.current,{type:"video/webm"}),a="interview-".concat(Date.now()),n=URL.createObjectURL(t);try{sessionStorage.setItem(a,n);var r=JSON.parse(sessionStorage.getItem("interview-urls")||"[]");r.push({id:a,url:n,timestamp:Date.now()}),sessionStorage.setItem("interview-urls",JSON.stringify(r))}catch(e){console.error("Error storing video data:",e),y({title:"Storage Error",description:"Failed to save video data. The download will still work.",variant:"destructive"})}h(n)},a.start(),e_.current=a,eg(!0),C(!0),ep(Date.now()),[3,3];case 2:return console.error("Error starting recording:",n.sent()),y({title:"Recording Error",description:"Failed to start recording. Please try again.",variant:"destructive"}),[3,3];case 3:return[2]}})}),function(){return r.apply(this,arguments)}),eI=function(){e_.current&&ex&&(e_.current.stop(),eg(!1),C(!1))},ek=(s=(0,n._)(function(){var e;return(0,l.Jh)(this,function(t){switch(t.label){case 0:if(!I)return[3,2];return console.log("Taking snapshot for question:",_),[4,eS()];case 1:(e=t.sent())&&(console.log("Snapshot taken at:",e.timestamp,"ms from start"),eu(function(t){return(0,o._)(t).concat([e])})),t.label=2;case 2:return[2]}})}),function(){return s.apply(this,arguments)});(0,d.useEffect)(function(){I&&ek()},[_]);var eC=(m=(0,n._)(function(){return(0,l.Jh)(this,function(e){switch(e.label){case 0:if(0===F.length)return Y("No questions available"),[2];return[4,eE()];case 1:return e.sent(),[2]}})}),function(){return m.apply(this,arguments)}),eA=function(){e_.current&&ex&&eI()};return Z?(0,c.jsx)(R.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:(0,c.jsxs)("div",{className:"bg-background p-8 rounded-lg shadow-lg flex flex-col items-center",children:[(0,c.jsx)(X.Z,{className:"h-8 w-8 animate-spin"}),(0,c.jsx)("p",{className:"mt-4",children:"Loading interview questions..."})]})}):Q?(0,c.jsx)(R.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:(0,c.jsxs)("div",{className:"bg-background p-8 rounded-lg shadow-lg w-[400px]",children:[(0,c.jsx)($.E,{value:eo,className:"mb-4"}),(0,c.jsxs)("p",{className:"text-center",children:["Processing recording... ",Math.round(eo),"%"]})]})}):(0,c.jsx)(R.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:(0,c.jsxs)("div",{ref:ev,className:"bg-background p-8 rounded-lg shadow-lg w-[90vw] h-[90vh] flex flex-col",children:[(0,c.jsx)("div",{className:"flex flex-col mb-6",children:(0,c.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[g&&(0,c.jsx)("span",{className:"text-sm font-medium px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:g}),v&&(0,c.jsx)("span",{className:"text-sm font-medium px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:v})]}),(0,c.jsx)("h1",{className:"text-3xl font-bold",children:L.split("\n")[0].replace(/^#\s+/,"")}),L.split("\n")[1]&&(0,c.jsx)("p",{className:"text-lg text-gray-600 mt-1",children:L.split("\n")[1].replace(/^##\s+/,"")})]}),!I&&(0,c.jsx)(u.z,{variant:"ghost",size:"icon",onClick:p,children:(0,c.jsx)(k.Z,{className:"h-6 w-6"})})]})}),(0,c.jsxs)("div",{className:"flex-grow grid grid-cols-5 gap-8",children:[(0,c.jsx)("div",{className:"content-section col-span-3 space-y-6 border rounded-lg p-6 flex flex-col",children:I?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"text-2xl font-semibold flex-grow overflow-y-auto",children:(0,c.jsx)(es.U,{className:"prose dark:prose-invert",children:(null===(f=F[_])||void 0===f?void 0:f.question)||"No question available"})}),(0,c.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,c.jsxs)(u.z,{onClick:function(){_>0&&(console.log("Moving to previous question"),j(function(e){return e-1}))},disabled:0===_,variant:"outline",children:[(0,c.jsx)(ee.Z,{className:"mr-2 h-4 w-4"})," Previous"]}),(0,c.jsxs)(u.z,{onClick:function(){_<F.length-1&&(console.log("Moving to next question"),j(function(e){return e+1}))},disabled:_===F.length-1,variant:"outline",children:["Next ",(0,c.jsx)(et.Z,{className:"ml-2 h-4 w-4"})]})]})]}):(0,c.jsx)("div",{className:"flex-grow flex flex-col justify-between",children:(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"prose dark:prose-invert max-w-none",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Interview Instructions"}),(0,c.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,c.jsx)("li",{children:"Take a moment to position yourself and check your camera view"}),(0,c.jsx)("li",{children:"Each response will be recorded for your review"}),(0,c.jsxs)("li",{children:["You'll have ",Math.floor(M/60)," minutes to complete all questions"]}),(0,c.jsx)("li",{children:"Ensure you speak clearly and maintain good posture"})]})]}),(0,c.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,c.jsx)("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Before you begin:"}),(0,c.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,c.jsx)("li",{children:"Ensure you're in a quiet environment"}),(0,c.jsx)("li",{children:"Check your camera position and lighting"}),(0,c.jsx)("li",{children:"Test your microphone"}),(0,c.jsx)("li",{children:"Have water nearby if needed"})]})]})]})})}),(0,c.jsxs)("div",{className:"col-span-2 space-y-6 flex flex-col",children:[(0,c.jsxs)("div",{className:"flex-grow aspect-[4/3] bg-gray-100 rounded-lg overflow-hidden relative",children:[V&&(0,c.jsxs)(w,{variant:"destructive",className:"absolute top-4 left-4 right-4",children:[(0,c.jsx)(S,{children:"Camera Error"}),(0,c.jsx)(E,{children:V})]}),(0,c.jsx)("video",{ref:ey,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"}}),!T&&(0,c.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-50",children:[(0,c.jsx)(ea.Z,{className:"h-16 w-16 text-gray-400 mb-4"}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:"Camera preview unavailable"})]}),T&&!I&&(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,c.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg w-2/3 h-2/3 flex items-center justify-center",children:(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Position yourself within the frame"})})})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("div",{className:"text-2xl font-semibold",children:I?(0,c.jsxs)(c.Fragment,{children:["Time left: ",Math.floor(M/60),":",(M%60).toString().padStart(2,"0")]}):(0,c.jsxs)(c.Fragment,{children:["Duration: ",Math.floor(M/60),":00"]})}),(0,c.jsx)(u.z,{size:"lg",onClick:I?eA:eC,disabled:0===M||0===F.length||!T,className:"".concat(I?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"," text-white"),children:I?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(en.Z,{className:"mr-2 h-5 w-5"})," Complete & Save"]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(er.Z,{className:"mr-2 h-5 w-5"})," Start Interview"]})})]})]})]})]})})}var eu=a(68919),em=a(92735),ef=a(50721),ep=d.forwardRef(function(e,t){var a=e.className,n=(0,m._)(e,["className"]);return(0,c.jsx)(ef.fC,(0,s._)((0,r._)({className:(0,p.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a)},n),{ref:t,children:(0,c.jsx)(ef.bU,{className:(0,p.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}))});ep.displayName=ef.fC.displayName;var eh=a(66070),ex=a(31653).f,eg=a(82431),ev=a(53113),ey=[{id:"grad1",value:"linear-gradient(45deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%)"},{id:"grad2",value:"linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%)"},{id:"grad3",value:"linear-gradient(to right, #434343 0%, black 100%)"},{id:"grad4",value:"linear-gradient(to top, #cfd9df 0%, #e2ebf0 100%)"},{id:"grad5",value:"linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%)"}],eN=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},e_=function(){var e=["linear-gradient","radial-gradient"];if("linear-gradient"===e[Math.floor(Math.random()*e.length)]){var t=eN(),a=eN(),n=eN();return{value:"linear-gradient(".concat(Math.floor(360*Math.random()),"deg, ").concat(t,", ").concat(a," 50%, ").concat(n,")")}}var r=eN(),s=eN();return{value:"radial-gradient(circle at center, ".concat(r,", ").concat(s,")")}};function ej(e){var t,a=e.onSelectBackground,r=e.onSelectPredefined,s=e.backgroundImage,o=(0,ei.pm)().toast,m=(0,i._)((0,d.useState)([]),2),f=m[0],p=m[1],x=(0,d.useRef)(null),g=function(e){if(e.size>5242880)throw Error("File size should be less than 5MB");if(!e.type.startsWith("image/"))throw Error("Only image files are allowed");return new Promise(function(t,a){var n=new Image;n.onload=function(){URL.revokeObjectURL(n.src),(n.width>4096||n.height>4096)&&a(Error("Image dimensions should be less than 4096x4096")),t(!0)},n.onerror=function(){URL.revokeObjectURL(n.src),a(Error("Invalid image file"))},n.src=URL.createObjectURL(e)})},v=(t=(0,n._)(function(e){var t,n,r;return(0,l.Jh)(this,function(s){switch(s.label){case 0:if(!(n=null===(t=e.target.files)||void 0===t?void 0:t[0]))return[2];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,g(n)];case 2:return s.sent(),a(n),[3,4];case 3:return(r=s.sent())instanceof Error&&o({title:"Invalid File",description:r.message,variant:"destructive"}),a(null),[3,4];case 4:return[2]}})}),function(e){return t.apply(this,arguments)}),y=function(){p([,,,,,].fill(null).map(function(){return e_()}))};(0,d.useEffect)(function(){y()},[]);var N=(0,d.useCallback)(function(e,t){e.preventDefault(),e.stopPropagation(),r(t)},[r]);return(0,d.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),x.current&&x.current.click()},[]),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)(K.mQ,{defaultValue:"gradients",className:"w-full",children:[(0,c.jsxs)(K.dr,{className:"grid w-full grid-cols-2",children:["  ",(0,c.jsx)(K.SP,{value:"gradients",children:"Gradients"}),(0,c.jsx)(K.SP,{value:"wallpapers",children:"Wallpapers"})]}),(0,c.jsxs)(h,{className:"h-[300px] rounded-md border mt-4 p-4",children:[(0,c.jsxs)(K.nU,{value:"gradients",className:"m-0",children:[(0,c.jsx)("div",{className:"flex justify-end mb-4",children:(0,c.jsxs)(u.z,{variant:"outline",size:"sm",onClick:function(e){e.preventDefault(),e.stopPropagation(),y()},className:"flex items-center gap-2",children:[(0,c.jsx)(eg.Z,{className:"h-4 w-4"}),"Regenerate  "]})}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Predefined"}),(0,c.jsx)("div",{className:"grid gap-4",children:ey.map(function(e){return(0,c.jsx)(eh.Zb,{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:function(t){return N(t,e.value)},children:(0,c.jsx)(eh.aY,{className:"p-2",children:(0,c.jsx)(ex,{ratio:16/9,children:(0,c.jsx)("div",{className:"rounded-md w-full h-full",style:{background:e.value}})})})},e.id)})})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Random"}),(0,c.jsx)("div",{className:"grid gap-4",children:f.map(function(e,t){return(0,c.jsx)(eh.Zb,{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:function(t){return N(t,e.value)},children:(0,c.jsx)(eh.aY,{className:"p-2",children:(0,c.jsx)(ex,{ratio:16/9,children:(0,c.jsx)("div",{className:"rounded-md w-full h-full",style:{background:e.value}})})})},t)})})]})]})]}),(0,c.jsx)(K.nU,{value:"wallpapers",className:"m-0"})]})]}),(0,c.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,c.jsx)("div",{className:"relative",children:(0,c.jsx)(eh.Zb,{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:function(e){e.preventDefault(),e.stopPropagation(),x.current&&x.current.click()},children:(0,c.jsx)(eh.aY,{className:"p-4 flex items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)(ev.Z,{className:"h-8 w-8 mb-2 mx-auto text-muted-foreground"}),(0,c.jsx)("p",{className:"text-sm font-medium",children:"Select custom image"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Recommended: 1920x1080px (Max 5MB)"})]})})})}),(0,c.jsx)("input",{ref:x,type:"file",onChange:v,accept:"image/*",className:"hidden",onClick:function(e){return e.stopPropagation()}}),s&&(0,c.jsx)(w,{className:"mt-4",children:(0,c.jsxs)(E,{children:["Selected: ",s.name," (",Math.round(s.size/1024),"KB)"]})})]})]})}function eb(e){var t,a=e.videoUrl,s=e.onClose,o=e.onDownload,m=e.onSelectBackground,f=e.backgroundImage,p=e.processing,h=e.progress,x=e.category,g=e.complexity,v=(0,ei.pm)().toast,y=(0,i._)((0,d.useState)(!0),2),N=y[0],_=y[1],j=(0,i._)((0,d.useState)(!0),2),b=j[0],w=j[1],S=(0,d.useRef)(null),E=(0,d.useRef)(null),I=(0,i._)((0,d.useState)({type:"gradient",value:""}),2),C=I[0],A=I[1],R=(t=(0,n._)(function(){return(0,l.Jh)(this,function(e){switch(e.label){case 0:if(e.trys.push([0,5,,6]),!navigator.share)return[3,2];return[4,navigator.share({title:"Mock Interview Recording",text:"Check out my mock interview recording",url:a})];case 1:return e.sent(),[3,4];case 2:return[4,navigator.clipboard.writeText(a)];case 3:e.sent(),v({title:"Link Copied",description:"Video link copied to clipboard"}),e.label=4;case 4:return[3,6];case 5:return console.error("Share error:",e.sent()),v({title:"Share Failed",description:"Unable to share the video"}),[3,6];case 6:return[2]}})}),function(){return t.apply(this,arguments)});return(0,d.useEffect)(function(){return function(){"image"===C.type&&URL.revokeObjectURL(C.value)}},[C]),(0,c.jsx)("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-6",children:(0,c.jsxs)("div",{className:"bg-background rounded-xl shadow-2xl w-[95vw] h-[95vh] flex flex-col",children:[(0,c.jsxs)("div",{className:"p-4 flex justify-between items-center border-b",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold",children:"Video Preview"}),x&&(0,c.jsx)("span",{className:"px-2 py-1 rounded-full bg-blue-100 text-blue-800 text-sm",children:x}),g&&(0,c.jsx)("span",{className:"px-2 py-1 rounded-full bg-blue-100 text-blue-800 text-sm",children:g})]}),(0,c.jsx)(u.z,{variant:"ghost",size:"icon",onClick:s,children:(0,c.jsx)(k.Z,{className:"h-5 w-5"})})]}),(0,c.jsxs)("div",{className:"flex flex-1 gap-6 p-6 overflow-hidden",ref:E,children:[(0,c.jsx)("div",{className:"flex-1 rounded-xl overflow-hidden flex items-center justify-center p-4",children:(0,c.jsx)("div",{className:"w-full relative",style:{paddingBottom:"56.25%"},children:(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,c.jsxs)("div",{className:"relative w-full h-full",style:{maxWidth:"1920px",maxHeight:"1080px",aspectRatio:"16/9"},children:[(0,c.jsx)("div",{className:"absolute inset-0",style:(0,r._)({},"gradient"===C.type?{background:C.value}:{backgroundImage:"url(".concat(C.value,")"),backgroundSize:"cover",backgroundPosition:"center"})}),(0,c.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",style:{width:"66.67%",height:"66.67%"},children:(0,c.jsx)("video",{ref:S,src:a,controls:!0,className:"w-full h-full object-contain\n                        ".concat(N?"ring-4 ring-white/20":"","\n                        ").concat(b?"shadow-2xl":""),children:"Your browser does not support the video tag."})})]})})})}),(0,c.jsxs)("div",{className:"w-72 bg-gray-50 dark:bg-gray-900 rounded-xl p-4 space-y-6 overflow-y-auto",children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"font-medium",children:"Background"}),(0,c.jsx)(ej,{onSelectBackground:function(e){e&&(A({type:"image",value:URL.createObjectURL(e)}),m(e))},onSelectPredefined:function(e){A({type:"gradient",value:e}),m(null)},backgroundImage:f})]}),(0,c.jsxs)("div",{className:"space-y-4 hidden",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("span",{children:"Show Border"}),(0,c.jsx)(ep,{checked:N,onCheckedChange:_})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("span",{children:"Show Shadow"}),(0,c.jsx)(ep,{checked:b,onCheckedChange:w})]})]})]})]}),(0,c.jsxs)("div",{className:"p-4 border-t space-y-4",children:[p&&(0,c.jsxs)("div",{className:"px-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-sm font-medium",children:"Processing video..."}),(0,c.jsx)(X.Z,{className:"h-4 w-4 animate-spin"})]}),(0,c.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Math.round(h),"%"]})]}),(0,c.jsx)($.E,{value:h,className:"mb-2"}),(0,c.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,c.jsxs)("span",{children:["Step ",h<25?"1/4":h<50?"2/4":h<90?"3/4":"4/4"]}),(0,c.jsxs)("span",{children:[h<15&&"Preparing files...",h>=15&&h<25&&"Writing input files...",h>=25&&h<50&&"Converting format...",h>=50&&h<90&&"Processing final video...",h>=90&&"Finalizing..."]})]})]}),(0,c.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,c.jsxs)(u.z,{variant:"outline",onClick:R,className:"gap-2",children:[(0,c.jsx)(eu.Z,{className:"h-4 w-4"}),"Share"]}),(0,c.jsxs)(u.z,{onClick:function(){if(!S.current||!E.current){v({title:"Error",description:"Video element not found"});return}o(S.current,E.current,C.value,8,N,b,{width:1920,height:1080})},disabled:p||!f&&""===C.value,className:"gap-2",children:[(0,c.jsx)(em.Z,{className:"h-4 w-4"}),p?"Processing...":"Download MP4"]})]})]})]})})}var ew=a(42877),eS=a(14249);function eE(e){var t,a=e.onClose,r=e.videoUrl,s=e.category,o=e.complexity,u=(0,ei.pm)().toast,m=(0,i._)((0,d.useState)(null),2),f=m[0],p=m[1],h=(0,i._)((0,d.useState)(!1),2),x=h[0],g=h[1],v=(0,i._)((0,d.useState)(0),2),y=v[0],N=v[1],_=(0,i._)((0,d.useState)(null),2),j=_[0],b=_[1],w=(0,d.useRef)(null),S=(0,i._)((0,d.useState)(r),2),E=S[0],I=S[1];(0,d.useEffect)(function(){var e=r.startsWith("interview-")&&sessionStorage.getItem(r)||r;return e!==r&&I(e),function(){}},[r]),(0,d.useEffect)(function(){var e;return(e=(0,n._)(function(){var e,t,a;return(0,l.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),console.log("Creating FFmpeg instance..."),e=new ew.C,t=0,a=0,e.on("log",function(e){var n=e.message;if(console.log("FFmpeg Log:",n),n.includes("Stream #0:1")&&n.includes("fps")){var r=n.match(/(\d+(\.\d+)?) fps/),s=n.match(/Duration: (\d{2}):(\d{2}):(\d{2})/);r&&s&&(t=parseFloat(r[1])*(3600*parseInt(s[1])+60*parseInt(s[2])+parseInt(s[3])))}var i=n.match(/frame=\s*(\d+)/);i&&(a=parseInt(i[1]),t>0&&N(Math.min(Math.round(a/t*100),100)))}),[4,e.load({coreURL:"https://unpkg.com/@ffmpeg/core@0.12.4/dist/umd/ffmpeg-core.js",wasmURL:"https://unpkg.com/@ffmpeg/core@0.12.4/dist/umd/ffmpeg-core.wasm"})];case 1:return n.sent(),console.log("FFmpeg loaded successfully"),p(e),[3,3];case 2:return console.error("Error loading FFmpeg:",n.sent()),u({title:"Video Processing Unavailable",description:"Failed to load video processor. Please try again later."}),[3,3];case 3:return[2]}})}),function(){return e.apply(this,arguments)})(),function(){f&&f.terminate()}},[]);var k=function(e){var t=["[1:v]scale=".concat(1920,":").concat(1080,":force_original_aspect_ratio=increase,crop=").concat(1920,":").concat(1080,"[bg]"),"[0:v]scale=".concat(1280,":").concat(720,":force_original_aspect_ratio=decrease[scaled]"),"[bg][scaled]overlay=".concat(320,":").concat(180,":eof_action=repeat[main]")];return e&&t.push("[main]drawbox=x=".concat(320,":y=").concat(180,":w=").concat(1280,":h=").concat(720,":color=white@0.2:thickness=4[bordered]")),{mp4Command:["-i","input.webm","-c:v","libx264","-preset","ultrafast","-crf","23","-c:a","aac","-strict","experimental","-y","temp.mp4"],finalCommand:["-i","temp.mp4","-i","background.png","-filter_complex",t.join(";"),"-map",e?"[bordered]":"[main]","-map","0:a?","-c:v","libx264","-preset","veryfast","-crf","23","-c:a","copy","-movflags","+faststart","-y","output.mp4"]}},C=(t=(0,n._)(function(e,t,a,n,s,i,o){var c,d,m,p,h,x,v,y,_,b;return(0,l.Jh)(this,function(e){switch(e.label){case 0:if(console.group("Video Processing Operation"),console.log("Starting optimized video processing..."),!f||!j)return console.log("Missing FFmpeg or background image"),console.groupEnd(),u({title:"Error",description:"Please select a background image first."}),[2];e.label=1;case 1:return e.trys.push([1,13,14,15]),g(!0),N(0),N(5),[4,(0,eS.dc)(r)];case 2:return c=e.sent(),N(10),d=new FileReader,[4,new Promise(function(e,t){d.onload=function(){return e(new Uint8Array(d.result))},d.onerror=t,d.readAsArrayBuffer(j)})];case 3:return m=e.sent(),N(20),[4,f.writeFile("input.webm",c)];case 4:return e.sent(),[4,f.writeFile("background.png",m)];case 5:return e.sent(),N(30),console.log("Converting to MP4..."),h=(p=k(s)).mp4Command,x=p.finalCommand,[4,f.exec(h)];case 6:return e.sent(),N(60),console.log("Applying background and effects..."),[4,f.exec(x)];case 7:return e.sent(),N(90),[4,f.readFile("output.mp4")];case 8:return v=new Blob([e.sent()],{type:"video/mp4"}),y=URL.createObjectURL(v),(_=document.createElement("a")).href=y,_.download="styled-interview-".concat(Date.now(),".mp4"),document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(y),[4,f.deleteFile("input.webm")];case 9:return e.sent(),[4,f.deleteFile("temp.mp4")];case 10:return e.sent(),[4,f.deleteFile("background.png")];case 11:return e.sent(),[4,f.deleteFile("output.mp4")];case 12:return e.sent(),N(100),console.log("Operation completed successfully"),console.groupEnd(),u({title:"Download Complete",description:"Your styled video has been saved as MP4."}),[3,15];case 13:return console.error("Operation failed with error:",b=e.sent()),console.groupEnd(),u({title:"Processing Failed",description:(null==b?void 0:b.message)||"There was an error processing your video. Please try again."}),[3,15];case 14:return g(!1),N(0),[7];case 15:return[2]}})}),function(e,a,n,r,s,i,o){return t.apply(this,arguments)});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{type:"file",ref:w,accept:"image/*",onChange:function(e){var t;return b((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"hidden"}),(0,c.jsx)(eb,{videoUrl:E,onClose:a,onDownload:C,onSelectBackground:function(){var e;return null===(e=w.current)||void 0===e?void 0:e.click()},backgroundImage:j,processing:x,progress:y,category:void 0===s?"":s,complexity:void 0===o?"Easy":o})]})}var eI={Easy:{background:"bg-blue-50 hover:bg-blue-100",border:"border-blue-200",text:"text-blue-700",badge:"bg-blue-100 text-blue-800"},Medium:{background:"bg-purple-50 hover:bg-purple-100",border:"border-purple-200",text:"text-purple-700",badge:"bg-purple-100 text-purple-800"},Hard:{background:"bg-orange-50 hover:bg-orange-100",border:"border-orange-200",text:"text-orange-700",badge:"bg-orange-100 text-orange-800"}};function ek(e){var t=e.images,a=e.filter,n=e.onFilterChange,r=e.onToggleFavorite,s=e.onCompleteInterview,l=(0,i._)((0,d.useState)("new"),2),m=l[0],f=l[1],p=(0,i._)((0,d.useState)(null),2),x=p[0],g=p[1],v=(0,i._)((0,d.useState)(!1),2),y=v[0],_=v[1],j=(0,i._)((0,d.useState)(!1),2),b=j[0],I=j[1],k=(0,o._)(t).sort(function(e,t){return"completed"===m&&e.completedAt&&t.completedAt?t.completedAt.getTime()-e.completedAt.getTime():t.createdAt.getTime()-e.createdAt.getTime()}),C=k.filter(function(e){return!e.isCompleted}),A=k.filter(function(e){return e.isCompleted}),R=k.filter(function(e){return e.isFavorite&&e.isCompleted}),T="all"===a?"new"===m?C:"completed"===m?A:R:("new"===m?C:"completed"===m?A:R).filter(function(e){return e.url.includes(a)}),q=function(e){var a=T[e],n=t.findIndex(function(e){return e===a});a.isCompleted?(g(n),_(!0),I(!1)):a.questionSetId&&(g(n),I(!0),_(!1))},P=function(){g(null),_(!1),I(!1)},M=function(e){return(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:e.map(function(e,a){var n=e.complexity&&["Easy","Medium","Hard"].includes(e.complexity)?e.complexity:"Easy",s=eI[n];return(0,c.jsx)("div",{className:"relative group cursor-pointer rounded-lg border-2 overflow-hidden transition-all duration-200 \n              ".concat(s.background," ").concat(s.border," hover:shadow-lg"),onClick:function(){return q(a)},children:(0,c.jsxs)("div",{className:"p-4",children:[(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(s.badge),children:n}),e.isCompleted&&(0,c.jsx)(u.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:function(a){a.stopPropagation(),r(t.findIndex(function(t){return t===e}))},children:(0,c.jsx)(H.Z,{className:"h-5 w-5 ".concat(e.isFavorite?"fill-yellow-400 text-yellow-400":"text-gray-400")})})]}),(0,c.jsx)("h3",{className:"font-semibold text-lg ".concat(s.text," mt-3"),children:e.category})]}),(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full\n                  ".concat(e.isCompleted?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:e.isCompleted?"Completed":"Ready to Start"})}),(0,c.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),(0,c.jsxs)("span",{children:["Created: ",(0,Q.WU)(e.createdAt,"MMM d, yyyy")]})]}),e.completedAt&&(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),(0,c.jsxs)("span",{children:["Completed: ",(0,Q.WU)(e.completedAt,"MMM d, yyyy")]})]})]})]})},a)})})};return(0,c.jsxs)("div",{className:"flex flex-col h-full",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[(0,c.jsx)("h2",{className:"text-lg font-semibold",children:"Success Vault"}),(0,c.jsxs)(W,{value:a,onValueChange:n,children:[(0,c.jsx)(Z,{className:"w-[120px]",children:(0,c.jsx)(G,{placeholder:"Filter"})}),(0,c.jsx)(V,{children:["all","landscape","portrait","abstract"].map(function(e){return(0,c.jsx)(Y,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)})})]})]}),(0,c.jsxs)(K.mQ,{value:m,onValueChange:function(e){return f(e)},className:"flex-1 flex flex-col",children:[(0,c.jsxs)(K.dr,{className:"grid w-full grid-cols-3",children:[(0,c.jsx)(K.SP,{value:"new",children:"New"}),(0,c.jsx)(K.SP,{value:"completed",children:"Completed"}),(0,c.jsx)(K.SP,{value:"favorites",children:"Favorites"})]}),(0,c.jsxs)(h,{className:"flex-1",children:[(0,c.jsx)(K.nU,{value:"new",className:"m-0",children:C.length>0?M(T):(0,c.jsxs)(w,{children:[(0,c.jsx)(S,{children:"No pending interviews"}),(0,c.jsx)(E,{children:"Please use the AI INTERVIEW ASSISTANT to generate interviews."})]})}),(0,c.jsx)(K.nU,{value:"completed",className:"m-0",children:A.length>0?M(T):(0,c.jsxs)(w,{children:[(0,c.jsx)(S,{children:"No completed interviews"}),(0,c.jsx)(E,{children:"Complete a mock interview to see it here."})]})}),(0,c.jsx)(K.nU,{value:"favorites",className:"m-0",children:R.length>0?M(T):(0,c.jsxs)(w,{children:[(0,c.jsx)(S,{children:"No favorites yet"}),(0,c.jsx)(E,{children:"Star your favorite completed interviews to see them here."})]})})]})]}),b&&null!==x&&!y&&(0,c.jsx)(ed,{onClose:P,onComplete:function(e){null!==x&&(s(x,e),P())},questionSetId:t[x].questionSetId,category:t[x].category,complexity:t[x].complexity}),y&&null!==x&&(0,c.jsx)(eE,{onClose:P,videoUrl:t[x].videoUrl||"",category:t[x].category,complexity:t[x].complexity})]})}function eC(){var e,t=(0,i._)((0,d.useState)([]),2),a=t[0],u=t[1],m=(0,i._)((0,d.useState)("all"),2),f=m[0],p=m[1],h=(0,ei.pm)().toast,x=(e=(0,n._)(function(e,t,a,n){var r,s,i;return(0,l.Jh)(this,function(l){switch(l.label){case 0:console.log("Adding image with prompt:",e,"questionSetId:",t,"complexity:",a,"category:",n),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,new Promise(function(e){return setTimeout(e,3e3)})];case 2:return l.sent(),r="./placeholder.svg?height=300&width=300&text=".concat(encodeURIComponent(e)),t||console.warn("No questionSetId provided for image generation"),s={url:r,createdAt:new Date,isFavorite:!1,isCompleted:!1,questionSetId:t,complexity:a||"Easy",category:n||"General Interview"},u(function(e){return(0,o._)(e).concat([s])}),[2,r];case 3:throw console.error("Error adding image:",i=l.sent()),h({title:"Error",description:"Failed to generate image. Please try again.",variant:"destructive"}),i;case 4:return[2]}})}),function(t,a,n,r){return e.apply(this,arguments)});return(0,c.jsx)("div",{className:"container mx-auto px-2 py-4 h-[calc(100vh-4rem)] flex flex-col",children:(0,c.jsxs)("div",{className:"flex-1 grid grid-cols-10 gap-4 overflow-hidden",children:[(0,c.jsx)("div",{className:"col-span-4 border rounded-lg overflow-hidden",children:(0,c.jsx)(D,{onSendMessage:console.log,onGenerateImage:function(e,t,a,n){return console.log("Generating image with:",{questionSetId:t,complexity:a,category:n}),x(e,t,a,n)}})}),(0,c.jsx)("div",{className:"col-span-6 border rounded-lg overflow-hidden",children:(0,c.jsx)(ek,{images:a,filter:f,onFilterChange:p,onToggleFavorite:function(e){u(function(t){var a=(0,o._)(t),n=a.filter(function(e){return e.isFavorite&&e.isCompleted}).length;return!a[e].isFavorite&&n>=10?h({title:"Favorite limit reached",description:"You can only have up to 10 favorite interviews. Please remove a favorite before adding a new one."}):a[e]=(0,s._)((0,r._)({},a[e]),{isFavorite:!a[e].isFavorite}),a})},onCompleteInterview:function(e,t){if(console.log("completeInterview called in page with index:",e,"videoUrl:",t),e<0||e>=a.length){console.error("Invalid image index:",e);return}if(a[e].isCompleted){console.warn("Interview already completed");return}u(function(a){var n=(0,o._)(a);return n[e]=(0,s._)((0,r._)({},n[e]),{isCompleted:!0,videoUrl:t}),n})}})})]})})}},37099:function(e,t,a){"use strict";a.d(t,{OL:function(){return y},_T:function(){return p},aR:function(){return u},f$:function(){return g},fY:function(){return h},le:function(){return N},xo:function(){return x},yT:function(){return v}});var n=a(5194),r=a(1780),s=a(46796),i=a(57437),o=a(2265),l=a(40394),c=a(94508),d=a(62869),u=l.fC;l.xz;var m=l.h_,f=o.forwardRef(function(e,t){var a=e.className,o=(0,s._)(e,["className"]);return(0,i.jsx)(l.aV,(0,r._)((0,n._)({className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},o),{ref:t}))});f.displayName=l.aV.displayName;var p=o.forwardRef(function(e,t){var a=e.className,r=(0,s._)(e,["className"]);return(0,i.jsxs)(m,{children:[(0,i.jsx)(f,{}),(0,i.jsx)(l.VY,(0,n._)({ref:t,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},r))]})});p.displayName=l.VY.displayName;var h=function(e){var t=e.className,a=(0,s._)(e,["className"]);return(0,i.jsx)("div",(0,n._)({className:(0,c.cn)("flex flex-col space-y-2 text-center sm:text-left",t)},a))};h.displayName="AlertDialogHeader";var x=function(e){var t=e.className,a=(0,s._)(e,["className"]);return(0,i.jsx)("div",(0,n._)({className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},a))};x.displayName="AlertDialogFooter";var g=o.forwardRef(function(e,t){var a=e.className,r=(0,s._)(e,["className"]);return(0,i.jsx)(l.Dx,(0,n._)({ref:t,className:(0,c.cn)("text-lg font-semibold",a)},r))});g.displayName=l.Dx.displayName;var v=o.forwardRef(function(e,t){var a=e.className,r=(0,s._)(e,["className"]);return(0,i.jsx)(l.dk,(0,n._)({ref:t,className:(0,c.cn)("text-sm text-muted-foreground",a)},r))});v.displayName=l.dk.displayName;var y=o.forwardRef(function(e,t){var a=e.className,r=(0,s._)(e,["className"]);return(0,i.jsx)(l.aU,(0,n._)({ref:t,className:(0,c.cn)((0,d.d)(),a)},r))});y.displayName=l.aU.displayName;var N=o.forwardRef(function(e,t){var a=e.className,r=(0,s._)(e,["className"]);return(0,i.jsx)(l.$j,(0,n._)({ref:t,className:(0,c.cn)((0,d.d)({variant:"outline"}),"mt-2 sm:mt-0",a)},r))});N.displayName=l.$j.displayName},62869:function(e,t,a){"use strict";a.d(t,{d:function(){return d},z:function(){return u}});var n=a(5194),r=a(46796),s=a(57437),i=a(2265),o=a(37053),l=a(90535),c=a(94508),d=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=i.forwardRef(function(e,t){var a=e.className,i=e.variant,l=e.size,u=e.asChild,m=(0,r._)(e,["className","variant","size","asChild"]),f=void 0!==u&&u?o.g7:"button";return(0,s.jsx)(f,(0,n._)({className:(0,c.cn)(d({variant:i,size:l,className:a})),ref:t},m))});u.displayName="Button"},66070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return c},SZ:function(){return u},Zb:function(){return l},aY:function(){return m},eW:function(){return f},ll:function(){return d}});var n=a(5194),r=a(46796),s=a(57437),i=a(2265),o=a(94508),l=i.forwardRef(function(e,t){var a=e.className,i=(0,r._)(e,["className"]);return(0,s.jsx)("div",(0,n._)({ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a)},i))});l.displayName="Card";var c=i.forwardRef(function(e,t){var a=e.className,i=(0,r._)(e,["className"]);return(0,s.jsx)("div",(0,n._)({ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",a)},i))});c.displayName="CardHeader";var d=i.forwardRef(function(e,t){var a=e.className,i=(0,r._)(e,["className"]);return(0,s.jsx)("div",(0,n._)({ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",a)},i))});d.displayName="CardTitle";var u=i.forwardRef(function(e,t){var a=e.className,i=(0,r._)(e,["className"]);return(0,s.jsx)("div",(0,n._)({ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a)},i))});u.displayName="CardDescription";var m=i.forwardRef(function(e,t){var a=e.className,i=(0,r._)(e,["className"]);return(0,s.jsx)("div",(0,n._)({ref:t,className:(0,o.cn)("p-6 pt-0",a)},i))});m.displayName="CardContent";var f=i.forwardRef(function(e,t){var a=e.className,i=(0,r._)(e,["className"]);return(0,s.jsx)("div",(0,n._)({ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",a)},i))});f.displayName="CardFooter"},32759:function(e,t,a){"use strict";a.d(t,{E:function(){return d}});var n=a(5194),r=a(1780),s=a(46796),i=a(57437),o=a(2265),l=a(60610),c=a(94508),d=o.forwardRef(function(e,t){var a=e.className,o=e.value,d=(0,s._)(e,["className","value"]);return(0,i.jsx)(l.fC,(0,r._)((0,n._)({ref:t,className:(0,c.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a)},d),{children:(0,i.jsx)(l.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(o||0),"%)")}})}))});d.displayName=l.fC.displayName},12339:function(e,t,a){"use strict";a.d(t,{SP:function(){return u},dr:function(){return d},mQ:function(){return c},nU:function(){return m}});var n=a(5194),r=a(46796),s=a(57437),i=a(2265),o=a(20271),l=a(94508),c=o.fC,d=i.forwardRef(function(e,t){var a=e.className,i=(0,r._)(e,["className"]);return(0,s.jsx)(o.aV,(0,n._)({ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a)},i))});d.displayName=o.aV.displayName;var u=i.forwardRef(function(e,t){var a=e.className,i=(0,r._)(e,["className"]);return(0,s.jsx)(o.xz,(0,n._)({ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a)},i))});u.displayName=o.xz.displayName;var m=i.forwardRef(function(e,t){var a=e.className,i=(0,r._)(e,["className"]);return(0,s.jsx)(o.VY,(0,n._)({ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a)},i))});m.displayName=o.VY.displayName},35153:function(e,t,a){"use strict";a.d(t,{pm:function(){return v}});var n=a(84303),r=a(13477),s=a(5194),i=a(1780),o=a(50059),l=a(85735),c=a(2265),d=0,u=new Map,m=function(e){if(!u.has(e)){var t=setTimeout(function(){u.delete(e),x({type:"REMOVE_TOAST",toastId:e})},1e6);u.set(e,t)}},f=function(e,t){switch(t.type){case"ADD_TOAST":return(0,i._)((0,s._)({},e),{toasts:[t.toast].concat((0,l._)(e.toasts)).slice(0,1)});case"UPDATE_TOAST":return(0,i._)((0,s._)({},e),{toasts:e.toasts.map(function(e){return e.id===t.toast.id?(0,s._)({},e,t.toast):e})});case"DISMISS_TOAST":var a=t.toastId;return a?m(a):e.toasts.forEach(function(e){m(e.id)}),(0,i._)((0,s._)({},e),{toasts:e.toasts.map(function(e){return e.id===a||void 0===a?(0,i._)((0,s._)({},e),{open:!1}):e})});case"REMOVE_TOAST":if(void 0===t.toastId)return(0,i._)((0,s._)({},e),{toasts:[]});return(0,i._)((0,s._)({},e),{toasts:e.toasts.filter(function(e){return e.id!==t.toastId})})}},p=[],h={toasts:[]};function x(e){h=f(h,e),p.forEach(function(e){e(h)})}function g(e){var t=(0,n._)({},(0,r._)(e)),a=(d=(d+1)%Number.MAX_SAFE_INTEGER).toString(),o=function(){return x({type:"DISMISS_TOAST",toastId:a})};return x({type:"ADD_TOAST",toast:(0,i._)((0,s._)({},t),{id:a,open:!0,onOpenChange:function(e){e||o()}})}),{id:a,dismiss:o,update:function(e){return x({type:"UPDATE_TOAST",toast:(0,i._)((0,s._)({},e),{id:a})})}}}function v(){var e=(0,o._)(c.useState(h),2),t=e[0],a=e[1];return c.useEffect(function(){return p.push(a),function(){var e=p.indexOf(a);e>-1&&p.splice(e,1)}},[t]),(0,i._)((0,s._)({},t),{toast:g,dismiss:function(e){return x({type:"DISMISS_TOAST",toastId:e})}})}},94508:function(e,t,a){"use strict";a.d(t,{cn:function(){return s}});var n=a(61994),r=a(53335);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,n.W)(t))}}},function(e){e.O(0,[337,518,71,77,853,971,117,744],function(){return e(e.s=62852)}),_N_E=e.O()}]);