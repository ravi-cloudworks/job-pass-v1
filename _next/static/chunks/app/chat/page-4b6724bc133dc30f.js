(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{62852:function(e,t,n){Promise.resolve().then(n.bind(n,1035))},1035:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ea}});var s,a=n(2403),r=n(5194),i=n(1780),o=n(50059),l=n(85735),d=n(5853),c=n(57437),u=n(2265),m=n(12249),x=n(62869),p=n(46796),h=n(43643),f=n(94508),g=u.forwardRef(function(e,t){var n=e.className,s=e.children,a=(0,p._)(e,["className","children"]);return(0,c.jsxs)(h.fC,(0,i._)((0,r._)({ref:t,className:(0,f.cn)("relative overflow-hidden",n)},a),{children:[(0,c.jsx)(h.l_,{className:"h-full w-full rounded-[inherit]",children:s}),(0,c.jsx)(y,{}),(0,c.jsx)(h.Ns,{})]}))});g.displayName=h.fC.displayName;var y=u.forwardRef(function(e,t){var n=e.className,s=e.orientation,a=void 0===s?"vertical":s,o=(0,p._)(e,["className","orientation"]);return(0,c.jsx)(h.gb,(0,i._)((0,r._)({ref:t,orientation:a,className:(0,f.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n)},o),{children:(0,c.jsx)(h.q4,{className:"relative flex-1 rounded-full bg-border"})}))});y.displayName=h.gb.displayName;var v=n(16831),b=n(91723),N=n(82222),j=n(92369),w=n(65613),_=n(37099),S=n(48614),E=n(40521),C=JSON.parse('{"nodes":{"root":{"question":"What area of tech are you interested in exploring?","options":["absolute_beginners","web_development","frameworks","languages_platforms","devops","mobile_development","databases","computer_science","machine_learning","management","game_development","design","blockchain","cyber_security"]},"absolute_beginners":{"text":"Absolute Beginners","question":"Choose a beginner-friendly path to start your journey:","options":["frontend_beginner","backend_beginner","devops_beginner"],"isEndpoint":true,"questionSetId":{"frontend_beginner":{"standard":{"easy":["FRONT-BEG-001"],"medium":["FRONT-BEG-002"],"hard":["FRONT-BEG-003"]}},"backend_beginner":{"standard":{"easy":["BACK-BEG-001"],"medium":["BACK-BEG-002"],"hard":["BACK-BEG-003"]}},"devops_beginner":{"standard":{"easy":["DEVOPS-BEG-001"],"medium":["DEVOPS-BEG-002"],"hard":["DEVOPS-BEG-003"]}}}},"web_development":{"text":"Web Development","question":"What aspect of web development interests you?","options":["frontend","backend","full_stack","api_design","qa","graphql","git_github"],"isEndpoint":true,"questionSetId":{"frontend":{"standard":{"easy":["FRONTEND-001"],"medium":["FRONTEND-002"],"hard":["FRONTEND-003"]}},"backend":{"standard":{"easy":["BACKEND-001"],"medium":["BACKEND-002"],"hard":["BACKEND-003"]}},"full_stack":{"standard":{"easy":["FULLSTACK-001"],"medium":["FULLSTACK-002"],"hard":["FULLSTACK-003"]}},"api_design":{"standard":{"easy":["API-001"],"medium":["API-002"],"hard":["API-003"]}},"qa":{"standard":{"easy":["QA-001"],"medium":["QA-002"],"hard":["QA-003"]}},"graphql":{"standard":{"easy":["GRAPHQL-001"],"medium":["GRAPHQL-002"],"hard":["GRAPHQL-003"]}},"git_github":{"standard":{"easy":["GIT-001"],"medium":["GIT-002"],"hard":["GIT-003"]}}}},"frameworks":{"text":"Frameworks","question":"Which framework would you like to explore?","options":["react","vue","angular","spring_boot","aspnet_core"],"isEndpoint":true,"questionSetId":{"react":{"standard":{"easy":["REACT-001"],"medium":["REACT-002"],"hard":["REACT-003"]}},"vue":{"standard":{"easy":["VUE-001"],"medium":["VUE-002"],"hard":["VUE-003"]}},"angular":{"standard":{"easy":["ANGULAR-001"],"medium":["ANGULAR-002"],"hard":["ANGULAR-003"]}},"spring_boot":{"standard":{"easy":["SPRING-001"],"medium":["SPRING-002"],"hard":["SPRING-003"]}},"aspnet_core":{"standard":{"easy":["ASPNET-001"],"medium":["ASPNET-002"],"hard":["ASPNET-003"]}}}},"languages_platforms":{"text":"Languages / Platforms","question":"Which programming language or platform would you like to learn?","options":["javascript","typescript","nodejs","php","cpp","go","rust","python","java","sql"],"isEndpoint":true,"questionSetId":{"javascript":{"standard":{"easy":["JS-001"],"medium":["JS-002"],"hard":["JS-003"]}},"typescript":{"standard":{"easy":["TS-001"],"medium":["TS-002"],"hard":["TS-003"]}},"nodejs":{"standard":{"easy":["NODE-001"],"medium":["NODE-002"],"hard":["NODE-003"]}},"php":{"standard":{"easy":["PHP-001"],"medium":["PHP-002"],"hard":["PHP-003"]}},"cpp":{"standard":{"easy":["CPP-001"],"medium":["CPP-002"],"hard":["CPP-003"]}},"go":{"standard":{"easy":["GO-001"],"medium":["GO-002"],"hard":["GO-003"]}},"rust":{"standard":{"easy":["RUST-001"],"medium":["RUST-002"],"hard":["RUST-003"]}},"python":{"standard":{"easy":["PYTHON-001"],"medium":["PYTHON-002"],"hard":["PYTHON-003"]}},"java":{"standard":{"easy":["JAVA-001"],"medium":["JAVA-002"],"hard":["JAVA-003"]}},"sql":{"standard":{"easy":["SQL-001"],"medium":["SQL-002"],"hard":["SQL-003"]}}}},"devops":{"text":"DevOps","question":"Which DevOps area would you like to focus on?","options":["devops_general","docker","kubernetes","aws","cloudflare","linux","terraform"],"isEndpoint":true,"questionSetId":{"devops_general":{"standard":{"easy":["DEVOPS-001"],"medium":["DEVOPS-002"],"hard":["DEVOPS-003"]}},"docker":{"standard":{"easy":["DOCKER-001"],"medium":["DOCKER-002"],"hard":["DOCKER-003"]}},"kubernetes":{"standard":{"easy":["K8S-001"],"medium":["K8S-002"],"hard":["K8S-003"]}},"aws":{"standard":{"easy":["AWS-001"],"medium":["AWS-002"],"hard":["AWS-003"]}},"cloudflare":{"standard":{"easy":["CLOUDFLARE-001"],"medium":["CLOUDFLARE-002"],"hard":["CLOUDFLARE-003"]}},"linux":{"standard":{"easy":["LINUX-001"],"medium":["LINUX-002"],"hard":["LINUX-003"]}},"terraform":{"standard":{"easy":["TERRAFORM-001"],"medium":["TERRAFORM-002"],"hard":["TERRAFORM-003"]}}}},"mobile_development":{"text":"Mobile Development","question":"Which mobile development path interests you?","options":["android","ios","react_native","flutter"],"isEndpoint":true,"questionSetId":{"android":{"standard":{"easy":["ANDROID-001"],"medium":["ANDROID-002"],"hard":["ANDROID-003"]}},"ios":{"standard":{"easy":["IOS-001"],"medium":["IOS-002"],"hard":["IOS-003"]}},"react_native":{"standard":{"easy":["REACTNATIVE-001"],"medium":["REACTNATIVE-002"],"hard":["REACTNATIVE-003"]}},"flutter":{"standard":{"easy":["FLUTTER-001"],"medium":["FLUTTER-002"],"hard":["FLUTTER-003"]}}}},"databases":{"text":"Databases","question":"Which database technology would you like to learn?","options":["postgresql","mongodb","redis"],"isEndpoint":true,"questionSetId":{"postgresql":{"standard":{"easy":["POSTGRES-001"],"medium":["POSTGRES-002"],"hard":["POSTGRES-003"]}},"mongodb":{"standard":{"easy":["MONGODB-001"],"medium":["MONGODB-002"],"hard":["MONGODB-003"]}},"redis":{"standard":{"easy":["REDIS-001"],"medium":["REDIS-002"],"hard":["REDIS-003"]}}}},"computer_science":{"text":"Computer Science","question":"Which computer science topic interests you?","options":["cs_fundamentals","data_structures","system_design","design_architecture","software_architect","code_review","technical_writer","devrel_engineer"],"isEndpoint":true,"questionSetId":{"cs_fundamentals":{"standard":{"easy":["CS-001"],"medium":["CS-002"],"hard":["CS-003"]}},"data_structures":{"standard":{"easy":["DS-001"],"medium":["DS-002"],"hard":["DS-003"]}},"system_design":{"standard":{"easy":["SYSDESIGN-001"],"medium":["SYSDESIGN-002"],"hard":["SYSDESIGN-003"]}},"design_architecture":{"standard":{"easy":["ARCH-001"],"medium":["ARCH-002"],"hard":["ARCH-003"]}},"software_architect":{"standard":{"easy":["SWARCH-001"],"medium":["SWARCH-002"],"hard":["SWARCH-003"]}},"code_review":{"standard":{"easy":["CODEREVIEW-001"],"medium":["CODEREVIEW-002"],"hard":["CODEREVIEW-003"]}},"technical_writer":{"standard":{"easy":["TECHWRITER-001"],"medium":["TECHWRITER-002"],"hard":["TECHWRITER-003"]}},"devrel_engineer":{"standard":{"easy":["DEVREL-001"],"medium":["DEVREL-002"],"hard":["DEVREL-003"]}}}},"machine_learning":{"text":"Machine Learning","question":"Which ML/AI role are you interested in?","options":["ai_data_scientist","ai_engineer","data_analyst","mlops","prompt_engineering"],"isEndpoint":true,"questionSetId":{"ai_data_scientist":{"standard":{"easy":["AIDSCI-001"],"medium":["AIDSCI-002"],"hard":["AIDSCI-003"]}},"ai_engineer":{"standard":{"easy":["AIENG-001"],"medium":["AIENG-002"],"hard":["AIENG-003"]}},"data_analyst":{"standard":{"easy":["DATAANA-001"],"medium":["DATAANA-002"],"hard":["DATAANA-003"]}},"mlops":{"standard":{"easy":["MLOPS-001"],"medium":["MLOPS-002"],"hard":["MLOPS-003"]}},"prompt_engineering":{"standard":{"easy":["PROMPTENG-001"],"medium":["PROMPTENG-002"],"hard":["PROMPTENG-003"]}}}},"management":{"text":"Management","question":"Which management role are you interested in?","options":["product_manager","engineering_manager"],"isEndpoint":true,"questionSetId":{"product_manager":{"standard":{"easy":["PM-001"],"medium":["PM-002"],"hard":["PM-003"]}},"engineering_manager":{"standard":{"easy":["EM-001"],"medium":["EM-002"],"hard":["EM-003"]}}}},"game_development":{"text":"Game Development","question":"Which aspect of game development interests you?","options":["client_side_game_dev","server_side_game_dev"],"isEndpoint":true,"questionSetId":{"client_side_game_dev":{"standard":{"easy":["CLIENTGAME-001"],"medium":["CLIENTGAME-002"],"hard":["CLIENTGAME-003"]}},"server_side_game_dev":{"standard":{"easy":["SERVERGAME-001"],"medium":["SERVERGAME-002"],"hard":["SERVERGAME-003"]}}}},"design":{"text":"Design","question":"Which design discipline are you interested in?","options":["ux_design","design_system"],"isEndpoint":true,"questionSetId":{"ux_design":{"standard":{"easy":["UX-001"],"medium":["UX-002"],"hard":["UX-003"]}},"design_system":{"standard":{"easy":["DESIGNSYS-001"],"medium":["DESIGNSYS-002"],"hard":["DESIGNSYS-003"]}}}},"blockchain":{"text":"Blockchain","question":"Are you interested in blockchain development?","options":["blockchain_dev"],"isEndpoint":true,"questionSetId":{"blockchain_dev":{"standard":{"easy":["BLOCKCHAIN-001"],"medium":["BLOCKCHAIN-002"],"hard":["BLOCKCHAIN-003"]}}}},"cyber_security":{"text":"Cyber Security","question":"Are you interested in cybersecurity?","options":["cybersecurity_specialist"],"isEndpoint":true,"questionSetId":{"cybersecurity_specialist":{"standard":{"easy":["CYBERSEC-001"],"medium":["CYBERSEC-002"],"hard":["CYBERSEC-003"]}}}}},"options":{"frontend_beginner":{"text":"Frontend Beginner"},"backend_beginner":{"text":"Backend Beginner"},"devops_beginner":{"text":"DevOps Beginner"},"frontend":{"text":"Frontend"},"backend":{"text":"Backend"},"full_stack":{"text":"Full Stack"},"api_design":{"text":"API Design"},"qa":{"text":"QA"},"graphql":{"text":"GraphQL"},"git_github":{"text":"Git and GitHub"},"react":{"text":"React"},"vue":{"text":"Vue"},"angular":{"text":"Angular"},"spring_boot":{"text":"Spring Boot"},"aspnet_core":{"text":"ASP.NET Core"},"javascript":{"text":"JavaScript"},"typescript":{"text":"TypeScript"},"nodejs":{"text":"Node.js"},"php":{"text":"PHP"},"cpp":{"text":"C++"},"go":{"text":"Go"},"rust":{"text":"Rust"},"python":{"text":"Python"},"java":{"text":"Java"},"sql":{"text":"SQL"},"devops_general":{"text":"DevOps"},"docker":{"text":"Docker"},"kubernetes":{"text":"Kubernetes"},"aws":{"text":"AWS"},"cloudflare":{"text":"Cloudflare"},"linux":{"text":"Linux"},"terraform":{"text":"Terraform"},"android":{"text":"Android"},"ios":{"text":"iOS"},"react_native":{"text":"React Native"},"flutter":{"text":"Flutter"},"postgresql":{"text":"PostgreSQL"},"mongodb":{"text":"MongoDB"},"redis":{"text":"Redis"},"cs_fundamentals":{"text":"Computer Science"},"data_structures":{"text":"Data Structures"},"system_design":{"text":"System Design"},"design_architecture":{"text":"Design and Architecture"},"software_architect":{"text":"Software Architect"},"code_review":{"text":"Code Review"},"technical_writer":{"text":"Technical Writer"},"devrel_engineer":{"text":"DevRel Engineer"},"ai_data_scientist":{"text":"AI and Data Scientist"},"ai_engineer":{"text":"AI Engineer"},"data_analyst":{"text":"Data Analyst"},"mlops":{"text":"MLOps"},"prompt_engineering":{"text":"Prompt Engineering"},"product_manager":{"text":"Product Manager"},"engineering_manager":{"text":"Engineering Manager"},"client_side_game_dev":{"text":"Client Side Game Dev."},"server_side_game_dev":{"text":"Server Side Game Dev."},"ux_design":{"text":"UX Design"},"design_system":{"text":"Design System"},"blockchain_dev":{"text":"Blockchain"},"cybersecurity_specialist":{"text":"Cyber Security"}},"metadata":{"version":"2.0","lastUpdated":"2025-03-04","defaultLanguage":"en"}}');function I(e){var t=C.nodes[e];if(!t){var n=C.options[e];return n?{question:"You selected ".concat(n.text,". What complexity level do you prefer?"),options:["Easy","Medium","Hard"],isEndpoint:!0,text:n.text}:(console.error('Node or option with key "'.concat(e,'" not found in chatbot flow.')),{question:"I'm sorry, but I couldn't find the next question. Let's start over.",options:["root"]})}return(0,i._)((0,r._)({},t),{question:t.question||t.text||""})}function T(e){return"start_over"===e?"Start Over Again":e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join(" ")}var A=n(66070),R=n(26815),D=n(95186),U={Easy:15,Medium:30,Hard:45},k=(s=(0,a._)(function(e){return(0,d.Jh)(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e){return setTimeout(e,1e3)})];case 1:return e.sent(),[2,!0]}})}),function(e){return s.apply(this,arguments)});function P(e){var t=e.text,n=e.messageIndex,s=e.onComplete,a=(0,o._)((0,u.useState)(""),2),r=a[0],i=a[1],l=(0,o._)((0,u.useState)(!1),2),d=l[0],m=l[1],x=(0,u.useRef)(null);return(0,u.useEffect)(function(){return x.current&&clearTimeout(x.current),i(""),m(!1),x.current=setTimeout(function(){var e="",a=function(r){if(r>=t.length){m(!0),setTimeout(function(){s(n,t)},300);return}i(e+=t.charAt(r)),x.current=setTimeout(function(){return a(r+1)},20)};a(0)},50),function(){x.current&&clearTimeout(x.current)}},[t,n,s]),(0,c.jsxs)(c.Fragment,{children:[r,!d&&(0,c.jsx)("span",{className:"inline-block w-1.5 h-4 ml-0.5 align-[-0.1em] bg-current opacity-70 animate-pulse",children:"|"})]})}function q(e){var t,n,s,p,h=e.onSendMessage,f=e.onGenerateImage,y=(0,o._)((0,u.useState)([]),2),q=y[0],G=y[1],L=(0,o._)((0,u.useState)(I("root")),2),Y=L[0],M=L[1],V=(0,o._)((0,u.useState)(!1),2),F=V[0],B=V[1],Z=(0,o._)((0,u.useState)(15),2),H=Z[0],W=Z[1],z=(0,o._)((0,u.useState)(null),2),K=(z[0],z[1]),J=(0,o._)((0,u.useState)(!1),2),Q=J[0],X=J[1],$=(0,o._)((0,u.useState)(null),2),ee=$[0],et=$[1],en=(0,u.useRef)(null),es=(0,o._)((0,u.useState)(!1),2),ea=es[0],er=es[1],ei=(0,o._)((0,u.useState)(""),2),eo=ei[0],el=ei[1],ed=(0,o._)((0,u.useState)({}),2),ec=ed[0],eu=ed[1],em=(0,u.useCallback)(function(e,t){eu(function(n){return(0,i._)((0,r._)({},n),(0,m._)({},e,t))})},[]),ex=(0,o._)((0,u.useState)(!1),2),ep=ex[0],eh=ex[1];(0,u.useEffect)(function(){var e=Y===I("root");G([{role:"ai",content:Y.question,options:e?(0,l._)(Y.options||[]):(0,l._)(Y.options||[]).concat(["start_over"])}])},[Y]);var ef=function(){var e;null===(e=en.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,u.useEffect)(function(){ef()},[q,ec]);var eg=(t=(0,a._)(function(e){var t,n,s;return(0,d.Jh)(this,function(a){return"start_over"===e?(M(I("root")),G([{role:"ai",content:I("root").question,options:(0,l._)(I("root").options||[])}]),K(null),eu({}),setTimeout(function(){em(0,I("root").question)},100)):(t={role:"user",content:T(e)},G(function(e){return(0,l._)(e).concat([t])}),B(!0),h(e),M(n=I(e)),s={role:"ai",content:n.question,options:(0,l._)(n.options||[]).concat(["start_over"])},G(function(e){return(0,l._)(e).concat([s])}),B(!1)),[2]})}),function(e){return t.apply(this,arguments)}),ey=function(e){if(!ep){if(H<U[e]){var t={role:"ai",type:"payment-options",content:"Insufficient minutes remaining. Please choose a payment option:",options:["use_prepaid_code"]};G(function(e){return(0,l._)(e).concat([t])}),et(e);return}et(e),eh(!0),X(!0)}},ev=(n=(0,a._)(function(e){return(0,d.Jh)(this,function(t){return"use_prepaid_code"===e&&er(!0),[2]})}),function(e){return n.apply(this,arguments)}),eb=(s=(0,a._)(function(e){var t,n,s,a,r,i,c,u,m;return(0,d.Jh)(this,function(d){switch(d.label){case 0:if(X(!1),!e||!ee)return eh(!1),[2];t=U[ee],n={role:"user",content:ee},G(function(e){return(0,l._)(e).concat([n])}),W(function(e){return e-t}),K(ee),B(!0),d.label=1;case 1:if(d.trys.push([1,4,,5]),!(s=function(e,t){var n;if(console.log("Getting question set ID for:",{nodeText:e.text,complexity:t,hasQuestionSetId:!!e.questionSetId}),!e||!t){console.log("No node or complexity provided");return}if((null===(n=e.question)||void 0===n?void 0:n.includes("You selected"))&&e.text){var s=Object.entries(C.nodes).find(function(t){var n,s=(0,o._)(t,2);return null===(n=(s[0],s[1]).options)||void 0===n?void 0:n.some(function(t){var n;return(null===(n=C.options[t])||void 0===n?void 0:n.text)===e.text})});if(s){var a=(0,o._)(s,2),r=a[0],i=a[1];console.log("Found parent node:",r,i);var l=null===(d=i.options)||void 0===d?void 0:d.find(function(t){var n;return(null===(n=C.options[t])||void 0===n?void 0:n.text)===e.text});if(l&&(null===(u=i.questionSetId)||void 0===u?void 0:null===(c=u[l])||void 0===c?void 0:c.standard)){var d,c,u,m,x=null===(m=i.questionSetId[l].standard[t.toLowerCase()])||void 0===m?void 0:m[0];return console.log("Found question set ID:",x),x}}}if(e.questionSetId&&e.text){var p=Object.keys(e.questionSetId)[0];if(p){var h,f=null===(h=e.questionSetId[p].standard[t.toLowerCase()])||void 0===h?void 0:h[0];return console.log("Found direct question set ID:",f),f}}console.log("No question set ID found")}(Y,ee)))throw Error("No valid question set found for the selected complexity");for(a=Y.text||"",r=Y.parent;r;)(i=I(r)).text&&(a="".concat(i.text," > ").concat(a)),r=i.parent;return c="".concat(a," - ").concat(ee),[4,new Promise(function(e){return setTimeout(e,4e4)})];case 2:return d.sent(),[4,f(c,s,ee,a)];case 3:return d.sent(),B(!1),eh(!1),u={role:"ai",type:"image-generation",content:"Your AI interview for ".concat(a," with ").concat(ee,' complexity has been generated successfully! You can find "New" in Assessment Vault.'),options:["start_over"],questionSetId:s,complexity:ee,category:a},G(function(e){return(0,l._)(e).concat([u])}),[3,5];case 4:return console.error("Error in handleComplexitySelection:",d.sent()),B(!1),m={role:"ai",content:"I'm sorry, there was an error generating AI Interview. Please try again.",options:["start_over"]},G(function(e){return(0,l._)(e).concat([m])}),eh(!1),[3,5];case 5:return[2]}})}),function(e){return s.apply(this,arguments)}),eN=(p=(0,a._)(function(){var e,t,n;return(0,d.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,k(eo)];case 1:return s.sent()?(er(!1),el(""),W(e=H+30),ee&&(e>=U[ee]?(et(ee),X(!0)):(t={role:"ai",type:"payment-options",content:"Insufficient minutes remaining. Please choose a payment option:",options:["use_prepaid_code"]},G(function(e){return(0,l._)(e).concat([t])})))):(n={role:"ai",content:"Invalid prepaid code. Please try again.",options:["use_prepaid_code"]},G(function(e){return(0,l._)(e).concat([n])})),[3,3];case 2:return console.error("Error validating prepaid code:",s.sent()),[3,3];case 3:return[2]}})}),function(){return p.apply(this,arguments)}),ej=function(e){return e.map(function(e,t){return(0,c.jsx)(x.z,{variant:"use_prepaid_code"===e?"default":"secondary",size:"sm",disabled:ep&&("Easy"===e||"Medium"===e||"Hard"===e||"start_over"===e),className:"w-full text-left justify-start text-xs \n    ".concat(ep&&("Easy"===e||"Medium"===e||"Hard"===e||"start_over"===e)?"opacity-50 cursor-not-allowed":"hover:scale-102 transition-transform"," ").concat("use_prepaid_code"===e?"bg-primary hover:bg-primary/90 text-primary-foreground":"Easy"===e||"Medium"===e||"Hard"===e?"bg-blue-50 border border-blue-200 hover:bg-blue-100 text-blue-800":"start_over"===e?"bg-gray-100 hover:bg-gray-200 text-gray-800":"bg-white hover:bg-gray-50 border border-gray-200 shadow-sm"),onClick:function(){ep&&("Easy"===e||"Medium"===e||"Hard"===e||"start_over"===e)||("use_prepaid_code"===e?ev(e):"Easy"===e||"Medium"===e||"Hard"===e?ey(e):eg(e))},children:"use_prepaid_code"===e?(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("span",{className:"mr-2 text-xs",children:"\uD83D\uDCB3"}),(0,c.jsx)("span",{children:"Use Prepaid Code"})]}):"start_over"===e?(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("span",{className:"mr-2 text-xs",children:"\uD83D\uDD04"}),(0,c.jsx)("span",{children:T(e)})]}):"Easy"===e||"Medium"===e||"Hard"===e?(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("span",{className:"mr-2 text-xs",children:"Easy"===e?"⭐":"Medium"===e?"⭐⭐":"⭐⭐⭐"}),(0,c.jsx)("span",{children:e}),(0,c.jsxs)("span",{className:"ml-2 text-xs font-normal text-gray-500",children:["(",U[e]," min)"]})]}):(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("span",{className:"mr-2 text-xs",children:"→"}),(0,c.jsx)("span",{children:T(e)})]})},t)})};return(0,c.jsxs)("div",{className:"flex flex-col h-full bg-background",children:[(0,c.jsx)("div",{className:"py-3 px-4 border-b",children:(0,c.jsxs)(w.bZ,{className:"border-primary/20 bg-primary/5",children:[(0,c.jsx)(b.Z,{className:"h-4 w-4 text-primary"}),(0,c.jsxs)(w.Cd,{className:"text-sm font-medium",children:["Time Remaining: ","".concat(Math.floor(H/60),"h ").concat(H%60,"m")]})]})}),(0,c.jsxs)(g,{className:"flex-1 px-4 py-3",children:[(0,c.jsx)(S.M,{initial:!1,mode:"sync",children:q.map(function(e,t){return(0,c.jsx)(E.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,height:0,marginBottom:0,overflow:"hidden"},transition:{duration:.3,ease:[.4,0,.2,1]},className:"flex ".concat("user"===e.role?"justify-end":"justify-start"," mb-5"),children:(0,c.jsxs)("div",{className:"flex items-start max-w-[80%] ".concat("user"===e.role?"flex-row-reverse":"flex-row"),children:[(0,c.jsx)(v.qE,{className:"w-8 h-8 ".concat("user"===e.role?"ml-3":"mr-3"," flex-shrink-0"),children:(0,c.jsx)(v.Q5,{className:"user"===e.role?"bg-primary":"bg-muted",children:"ai"===e.role?(0,c.jsx)(N.Z,{className:"w-4 h-4 text-foreground/80"}):(0,c.jsx)(j.Z,{className:"w-4 h-4 text-primary-foreground"})})}),(0,c.jsxs)("div",{className:"p-3 rounded-lg ".concat("user"===e.role?"bg-primary text-primary-foreground":"bg-muted text-foreground"),children:[(0,c.jsx)("p",{className:"text-sm",children:"ai"===e.role?(0,c.jsx)(P,{text:e.content,messageIndex:t,onComplete:em}):e.content}),e.options&&(0,c.jsx)(c.Fragment,{children:"ai"===e.role?ec[t]===e.content&&(0,c.jsx)(E.E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-3 space-y-2",children:ej(e.options)}):(0,c.jsx)("div",{className:"mt-3 space-y-2",children:ej(e.options)})})]})]})},t)})}),F&&(0,c.jsx)("div",{className:"flex justify-start mb-4",children:(0,c.jsxs)("div",{className:"flex items-start",children:[(0,c.jsx)(v.qE,{className:"w-8 h-8 mr-3 flex-shrink-0",children:(0,c.jsx)(v.Q5,{className:"bg-muted",children:(0,c.jsx)(N.Z,{className:"w-4 h-4 text-foreground/80"})})}),(0,c.jsx)(A.Zb,{className:"p-2 bg-muted border-none shadow-none",children:(0,c.jsx)(A.aY,{className:"p-2",children:(0,c.jsx)(O,{})})})]})}),(0,c.jsx)("div",{ref:en})]}),(0,c.jsx)(_.aR,{open:Q,onOpenChange:X,children:(0,c.jsxs)(_._T,{className:"sm:max-w-md",children:[(0,c.jsxs)(_.fY,{children:[(0,c.jsx)(_.f$,{children:"Confirm Interview Generation"}),(0,c.jsxs)(_.yT,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"border rounded-lg p-4 bg-muted/50",children:[(0,c.jsx)("p",{className:"font-medium mb-2 text-sm",children:"Selected Interview Details:"}),(0,c.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("span",{className:"text-muted-foreground",children:"Category:"})," ",Y.text]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("span",{className:"text-muted-foreground",children:"Complexity:"})," ",ee]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("span",{className:"text-muted-foreground",children:"Duration:"})," ",U[ee]," minutes"]})]})]}),(0,c.jsxs)("div",{className:"flex gap-2 items-start p-3 bg-amber-50 rounded-md border border-amber-200",children:[(0,c.jsx)(b.Z,{className:"h-4 w-4 text-amber-600 mt-0.5 flex-shrink-0"}),(0,c.jsxs)("p",{className:"text-amber-800 text-sm",children:["This action will deduct ",U[ee]," minutes from your remaining time and cannot be reversed."]})]})]})]}),(0,c.jsxs)(_.xo,{className:"mt-4",children:[(0,c.jsx)(_.le,{onClick:function(){return eb(!1)},children:"Cancel"}),(0,c.jsx)(_.OL,{onClick:function(){return eb(!0)},className:"bg-primary hover:bg-primary/90",children:"Generate Interview"})]})]})}),(0,c.jsx)(_.aR,{open:ea,onOpenChange:er,children:(0,c.jsxs)(_._T,{className:"sm:max-w-md",children:[(0,c.jsxs)(_.fY,{children:[(0,c.jsx)(_.f$,{children:"Enter Prepaid Code"}),(0,c.jsx)(_.yT,{children:"Please enter your prepaid code to add more minutes."})]}),(0,c.jsx)("div",{className:"grid gap-4 py-4",children:(0,c.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,c.jsx)(R.Label,{htmlFor:"prepaid-code",className:"text-right text-sm",children:"Code"}),(0,c.jsx)(D.I,{id:"prepaid-code",value:eo,onChange:function(e){return el(e.target.value)},className:"col-span-3",placeholder:"Enter your code"})]})}),(0,c.jsxs)(_.xo,{children:[(0,c.jsx)(_.le,{onClick:function(){return er(!1)},children:"Cancel"}),(0,c.jsx)(_.OL,{onClick:eN,children:"Submit"})]})]})})]})}function O(){var e=(0,o._)((0,u.useState)(0),2),t=e[0],n=e[1],s=(0,o._)((0,u.useState)([]),2),a=s[0],r=s[1],i=(0,o._)((0,u.useState)(Date.now()),1)[0],l=["AI is generating","Generating your questions","Generating your video infrastructure","Finalizing your interview"];return(0,u.useEffect)(function(){var e=setInterval(function(){var e=Math.min(Math.floor((Date.now()-i)/1e4),l.length-1);n(e);for(var t=[],s=0;s<e;s++)t.push(s);r(t)},100);return function(){clearInterval(e)}},[i]),(0,c.jsx)("div",{className:"space-y-3",children:l.map(function(e,n){return(0,c.jsxs)("div",{className:"flex items-center space-x-3 min-h-[1.75rem]",children:[(0,c.jsx)("div",{className:"w-6 flex justify-center",children:a.includes(n)?(0,c.jsx)("span",{className:"text-green-500 text-base animate-fade-in",children:"✓"}):t===n?(0,c.jsxs)("div",{className:"flex space-x-1",children:[(0,c.jsx)("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,c.jsx)("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,c.jsx)("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}):(0,c.jsx)("span",{className:"w-4"})}),(0,c.jsx)("span",{className:"transition-colors duration-300 text-sm ".concat(a.includes(n)?"text-green-500 font-medium":t===n?"text-primary font-medium":"text-muted-foreground"),children:e})]},n)})})}var G=n(27107),L=n(12339),Y=n(86595),M=n(74767),V=n(87117),F=n(76858),B=n(50137),Z=n(35153),H=n(32759),W=n(18229),z=n(76865),K=n(32489),J=n(41671),Q=n(96362),X=n(33245),$=n(78867),ee=n(79235),et=n(26110);function en(e){var t,n,s=e.onClose,r=e.videoUrl,i=e.category,l=void 0===i?"":i,m=e.complexity,p=void 0===m?"Easy":m,h=e.onUploadSuccess,f=(0,Z.pm)().toast,g=(0,o._)((0,u.useState)(r),2),y=g[0],v=g[1],b=(0,o._)((0,u.useState)(null),2),N=b[0],j=b[1],_=(0,o._)((0,u.useState)(null),2),S=_[0],C=_[1],I=(0,o._)((0,u.useState)(0),2),T=I[0],A=I[1],R=(0,o._)((0,u.useState)(!1),2),D=R[0],U=R[1],k=(0,o._)((0,u.useState)(!1),2),P=k[0],q=k[1],O=(0,o._)((0,u.useState)(!1),2),G=O[0],L=O[1],Y=(0,o._)((0,u.useState)(!1),2),V=(Y[0],Y[1]),B=(0,o._)((0,u.useState)(!0),2),en=B[0],es=B[1],ea=(0,o._)((0,u.useState)(0),2),er=ea[0],ei=ea[1],eo=(0,o._)((0,u.useState)(null),2),el=eo[0],ed=eo[1];(0,u.useEffect)(function(){if(console.log("Initial URL processing:",r),null==r?void 0:r.includes("|")){var e=(0,o._)(r.split("|"),2),t=e[0],n=e[1];if(n&&n.includes("youtu")){v(r);var s=n.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^?&/]+)/),a=s?s[1]:null;a&&C(a)}else v(t)}else v(r)},[r]),(0,u.useEffect)(function(){console.log("1. ViewModal - Current state:",{videoUrl:y,initialVideoUrl:r,parsedUrl:{blobUrl:(null==y?void 0:y.includes("|"))?y.split("|")[0]:y,youtubeUrl:(null==y?void 0:y.includes("|"))?y.split("|")[1]:null},videoId:S,isYouTubeVideo:(null==y?void 0:y.includes("youtu"))||(null==y?void 0:y.includes("|")),urlContainsYouTube:null==y?void 0:y.includes("youtu"),hasVideoId:!!S})},[y,r,S]),(0,u.useEffect)(function(){if((null==y?void 0:y.includes("youtu.be/"))||(null==y?void 0:y.includes("youtube.com/"))){var e=y.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^?&/]+)/),t=e?e[1]:null;t&&(C(t),fetch("https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=".concat(t,"&format=json")).then(function(e){es(e.ok)}).catch(function(){es(!1)}))}},[y]);var ec=function(){L(!0),ei(1),U(!0)},eu=(0,W.Nq)({onSuccess:(t=(0,a._)(function(e){return(0,d.Jh)(this,function(t){return console.log("Login Success:",e),j(e.access_token),ei(3),f({title:"Step 1 Complete",description:"Successfully logged in, now uploading video...",duration:3e3}),setTimeout(function(){e.access_token&&em(e.access_token)},1e3),[2]})}),function(e){return t.apply(this,arguments)}),onError:function(e){console.error("Login Failed:",e),ed("Google login failed. Please try again."),L(!1),ei(0),f({title:"Login Failed",description:"Could not login to Google",variant:"destructive",duration:5e3})},flow:"implicit",prompt:"consent",scope:"https://www.googleapis.com/auth/youtube.upload https://www.googleapis.com/auth/youtube https://www.googleapis.com/auth/youtube.force-ssl"}),em=(n=(0,a._)(function(e){var t,n,s,a,r,i,o,c,u,m,x,g,b,j,w,_,S;return(0,d.Jh)(this,function(d){switch(d.label){case 0:if(!(t=e||N))return ed("Authentication error. Please try again."),L(!1),ei(0),[2];d.label=1;case 1:return d.trys.push([1,8,9,10]),V(!0),ei(3),A(10),n=setInterval(function(){A(function(e){return e>=90?(clearInterval(n),e):e+Math.floor(10*Math.random())})},1e3),[4,fetch(y.includes("|")?y.split("|")[0]:y)];case 2:return[4,d.sent().blob()];case 3:return s=new File([d.sent()],"interview.webm",{type:"video/webm"}),a={snippet:{title:"Mock Interview - ".concat(l," (").concat(p,")"),description:"Interview Category: ".concat(l,"\nComplexity: ").concat(p,"\nRecorded on: ").concat(new Date().toLocaleDateString()),tags:["mock interview",l,p],categoryId:"22"},status:{privacyStatus:"unlisted"}},i="\r\n--"+(r="foo_bar_baz")+"\r\n",o="\r\n--"+r+"--",c=new Blob([i+"Content-Type: application/json; charset=UTF-8\r\n\r\n"+JSON.stringify(a)+i+"Content-Type: video/webm\r\nContent-Transfer-Encoding: binary\r\n\r\n"],{type:"text/plain"}),u=new Blob([s],{type:"video/webm"}),m=new Blob([o],{type:"text/plain"}),x=new Blob([c,u,m],{type:"multipart/mixed; boundary=".concat(r)}),[4,fetch("https://www.googleapis.com/upload/youtube/v3/videos?part=snippet,status&uploadType=multipart",{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"multipart/mixed; boundary=".concat(r),"X-Upload-Content-Length":x.size.toString()},body:x})];case 4:if(g=d.sent(),clearInterval(n),A(100),g.ok)return[3,6];return[4,g.text()];case 5:if(b=d.sent(),console.error("Upload response:",g.status,b),b.includes("youtubeSignupRequired")||b.includes("channelNotFound")||b.toLowerCase().includes("channel")||401===g.status)return ed("You need to create a YouTube channel before uploading"),f({title:"YouTube Channel Required",description:"You need to create a YouTube channel first before uploading videos.",variant:"destructive",duration:1e4}),ei(0),L(!1),[2];throw Error("Upload failed: ".concat(g.status," ").concat(b));case 6:return[4,g.json()];case 7:if((j=d.sent()).id)C(j.id),console.log("2. ViewModal - Upload success:",{originalVideoUrl:y,newYoutubeUrl:w="https://youtu.be/".concat(j.id),youtubeId:j.id}),v("".concat(y,"|").concat(w)),h&&(console.log("3. ViewModal - Calling onUploadSuccess with:",{localUrl:y,youtubeUrl:w,youtubeId:j.id}),h(y,w,j.id)),q(!0),f({title:"Upload Successful",description:"Your video has been uploaded to YouTube",duration:5e3});else throw Error((null===(_=j.error)||void 0===_?void 0:_.message)||"Upload failed");return[3,10];case 8:return console.error("Upload error:",S=d.sent()),ed("".concat((null==S?void 0:S.message)||"Could not upload to YouTube")),f({title:"Upload Failed",description:"".concat((null==S?void 0:S.message)||"Could not upload to YouTube"),variant:"destructive",duration:5e3}),[3,10];case 9:return L(!1),ei(0),A(0),V(!1),[7];case 10:return[2]}})}),function(e){return n.apply(this,arguments)});(0,u.useEffect)(function(){S&&P&&setTimeout(function(){(0,ee.Z)({particleCount:100,spread:70,origin:{y:.6}})},300)},[S,P]);var ex=function(){return 0===er?0:1===er?33:2===er?66:66+T/100*34},ep={blobUrl:(null==y?void 0:y.includes("|"))?y.split("|")[0]:y,youtubeUrl:(null==y?void 0:y.includes("|"))?y.split("|")[1]:null},eh=(null==y?void 0:y.includes("youtu"))||null!=ep.youtubeUrl||!!S;return(0,u.useEffect)(function(){console.log("11. ViewModal - Rendering section:",{parsedUrl:ep,videoId:S,isYouTubeVideo:eh,isProcessing:G,hasError:!!el})},[ep,S,eh,G,el]),(0,c.jsxs)(E.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:[(0,c.jsxs)("div",{className:"bg-background rounded-lg shadow-md w-[90vw] h-[90vh] flex flex-col border border-border overflow-hidden",children:[(0,c.jsx)("div",{className:"py-3 px-4 border-b flex justify-between items-center",children:(0,c.jsx)(x.z,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8",onClick:s,disabled:G,children:(0,c.jsx)(K.Z,{className:"h-4 w-4"})})}),G&&(0,c.jsx)("div",{className:"px-4 py-2 bg-primary/5 border-b border-primary/20",children:(0,c.jsxs)("div",{className:"space-y-1",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[1===er&&(0,c.jsx)("span",{className:"text-primary font-medium",children:"Step 1: Instructions"}),2===er&&(0,c.jsx)("span",{className:"text-primary font-medium",children:"Step 2: Google Authentication"}),3===er&&(0,c.jsx)("span",{className:"text-primary font-medium",children:"Step 3: Uploading to YouTube"})]}),(0,c.jsxs)("span",{className:"text-muted-foreground",children:[Math.round(ex()),"%"]})]}),(0,c.jsx)(H.E,{value:ex(),className:"h-1.5"})]})}),(0,c.jsx)("div",{className:"flex-grow grid grid-cols-1 gap-6 p-4 overflow-hidden",children:(0,c.jsx)("div",{className:"border rounded-lg overflow-hidden flex flex-col",children:(0,c.jsxs)("div",{className:"flex-grow relative",children:[function(){if(!en&&(null==y?void 0:y.includes("youtu")))return(0,c.jsxs)("div",{className:"bg-gray-100 w-full h-full flex flex-col items-center justify-center p-8 text-center",children:[(0,c.jsx)(z.Z,{className:"h-12 w-12 text-amber-500 mb-4"}),(0,c.jsx)("h3",{className:"text-lg font-medium mb-2",children:"YouTube Video Unavailable"}),(0,c.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"This video is no longer available on YouTube. It may have been deleted or made private."})]});if(!ep.youtubeUrl)return(0,c.jsx)("video",{src:ep.blobUrl,controls:!0,className:"w-full h-full"});if(ep.youtubeUrl){var e,t=null===(e=ep.youtubeUrl.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^?&/]+)/))||void 0===e?void 0:e[1];if(t)return(0,c.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(t),className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}return(0,c.jsx)("video",{src:ep.blobUrl,controls:!0,className:"w-full h-full"})}(),G&&2===er&&(0,c.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40",children:(0,c.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-lg text-center space-y-3 max-w-sm",children:[(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsxs)("div",{className:"flex space-x-1",children:[(0,c.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,c.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,c.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),(0,c.jsx)("p",{className:"text-sm font-medium",children:"Waiting for Google Authentication"}),(0,c.jsx)("p",{className:"text-xs text-gray-500",children:"Please complete the Google sign-in process"}),(0,c.jsx)(x.z,{variant:"outline",size:"sm",className:"mt-2 text-xs",onClick:function(){L(!1),ei(0),ed("Authentication canceled. Please try again with a different account.")},children:"Cancel Authentication"})]})})]})})}),(0,c.jsx)("div",{className:"px-4 pb-4 pt-1 border-t",children:(0,c.jsx)("div",{className:"flex items-center gap-4",children:ep.youtubeUrl?(0,c.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,c.jsxs)(w.bZ,{className:"flex-1 bg-green-50 border-green-200 text-green-800",children:[(0,c.jsx)(J.Z,{className:"h-4 w-4 text-green-600"}),(0,c.jsx)(w.Cd,{className:"text-sm font-medium text-green-800",children:"Video available on YouTube"}),(0,c.jsx)(w.X,{className:"text-xs mt-1 text-green-700",children:"Your recording is published as an unlisted video"})]}),(0,c.jsxs)(x.z,{onClick:function(){return window.open(ep.youtubeUrl||"","_blank")},size:"sm",className:"text-xs",children:[(0,c.jsx)(M.Z,{className:"mr-1.5 h-4 w-4"}),"Open on YouTube"]})]}):el?(0,c.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,c.jsxs)(w.bZ,{className:"flex-1 bg-red-50 border-red-200 text-red-800",children:[(0,c.jsx)(z.Z,{className:"h-4 w-4 text-red-600"}),(0,c.jsx)(w.Cd,{className:"text-sm font-medium text-red-800",children:"Error"}),(0,c.jsxs)(w.X,{className:"text-xs mt-1 text-red-700",children:[el,(null==el?void 0:el.includes("YouTube channel"))&&(0,c.jsxs)("div",{className:"mt-2",children:[(0,c.jsxs)("a",{href:"https://www.youtube.com/create_channel",target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline font-medium",children:[(0,c.jsx)(Q.Z,{className:"h-3 w-3 mr-1"}),"Click here to create a YouTube channel"]}),(0,c.jsx)("p",{className:"mt-1 text-xs text-red-600",children:"After creating your channel, return here and try again"})]})]})]}),(0,c.jsxs)(x.z,{onClick:function(){ed(null),ec()},disabled:G,variant:"default",size:"sm",className:"text-xs",children:[(0,c.jsx)(F.Z,{className:"mr-1.5 h-4 w-4"}),"Try Again"]})]}):G?(0,c.jsx)("div",{className:"flex-1",children:(0,c.jsxs)(w.bZ,{className:"bg-primary/5 border-primary/20",children:[(0,c.jsx)(X.Z,{className:"h-4 w-4 text-primary"}),(0,c.jsx)(w.Cd,{className:"text-sm font-medium",children:"Processing your recording"}),(0,c.jsx)(w.X,{className:"text-xs mt-1",children:"Please complete all steps to save your recording"})]})}):(0,c.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,c.jsxs)(w.bZ,{className:"flex-1 bg-primary/5 border-primary/20",children:[(0,c.jsx)(X.Z,{className:"h-4 w-4 text-primary"}),(0,c.jsx)(w.Cd,{className:"text-sm font-medium",children:"Save your recording"}),(0,c.jsx)(w.X,{className:"text-xs mt-1",children:"Save your recording to YouTube as an unlisted video"})]}),(0,c.jsxs)(x.z,{onClick:ec,disabled:G,variant:"default",size:"sm",className:"text-xs",children:[(0,c.jsx)(M.Z,{className:"mr-1.5 h-4 w-4"}),"Save to YouTube"]})]})})})]}),(0,c.jsx)(et.Vq,{open:D,onOpenChange:function(e){!e&&G&&(L(!1),ei(0)),U(e)},children:(0,c.jsxs)(et.cZ,{className:"sm:max-w-md",children:[(0,c.jsxs)(et.fK,{children:[(0,c.jsx)(et.$N,{children:"YouTube Upload Instructions"}),(0,c.jsx)(et.Be,{children:"Please follow these steps to successfully upload your video:"})]}),(0,c.jsxs)("div",{className:"space-y-4 py-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("h3",{className:"font-medium",children:"Before you begin:"}),(0,c.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[(0,c.jsx)("li",{children:"You must have a YouTube channel associated with your Google account"}),(0,c.jsx)("li",{children:"If you don't have a YouTube channel yet, you'll need to create one first"})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("h3",{className:"font-medium",children:"Step 1: Login Process (TWO SCREENS)"}),(0,c.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[(0,c.jsx)("li",{children:"After clicking \"I Understand\", you'll see Google's login screens"}),(0,c.jsxs)("li",{children:[(0,c.jsx)("strong",{children:"First screen"}),": Choose your Google account"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("strong",{children:"Second screen"}),": You'll see two options - your email account and YouTube account"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("strong",{className:"text-red-500",children:"IMPORTANT: You MUST select the YouTube option"}),", not your email"]}),(0,c.jsx)("li",{children:"Selecting your email account instead of YouTube will cause an authorization error"})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("h3",{className:"font-medium",children:"Step 2: Creating a YouTube Channel (if needed)"}),(0,c.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[(0,c.jsx)("li",{children:"If you don't see a YouTube option on the second screen, you need to create a channel first"}),(0,c.jsx)("li",{children:(0,c.jsxs)("a",{href:"https://www.youtube.com/create_channel",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline flex items-center",children:["Click here to create a YouTube channel",(0,c.jsx)(Q.Z,{className:"h-3 w-3 ml-1"})]})}),(0,c.jsx)("li",{children:"Sign in with your Google account"}),(0,c.jsx)("li",{children:"Follow the prompts to complete channel creation"}),(0,c.jsx)("li",{children:"Return to this page and try again - you should now see two options on the second screen"})]})]})]}),(0,c.jsx)(et.cN,{children:(0,c.jsx)(x.z,{onClick:function(){U(!1),ei(2),eu()},children:"I Understand"})})]})}),(0,c.jsx)(et.Vq,{open:P,onOpenChange:q,children:(0,c.jsxs)(et.cZ,{className:"sm:max-w-md",children:[(0,c.jsx)(et.fK,{children:(0,c.jsx)(et.$N,{className:"text-center",children:(0,c.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,c.jsx)(J.Z,{className:"h-5 w-5 text-green-600"}),(0,c.jsx)("span",{className:"text-xl",children:"Upload Successful!"})]})})}),(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-6 py-6",children:[(0,c.jsxs)("div",{className:"text-center space-y-2",children:[(0,c.jsx)("p",{className:"text-lg",children:"Your video has been uploaded to YouTube"}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:"It's available as an unlisted video on your channel"})]}),(0,c.jsxs)("div",{className:"w-full p-4 bg-muted rounded-md",children:[(0,c.jsx)("p",{className:"font-medium mb-2",children:"Video Link:"}),(0,c.jsxs)("a",{href:ep.youtubeUrl||"https://youtu.be/".concat(S||""),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700 hover:underline flex items-center justify-center gap-2 p-3 bg-card rounded border border-border transition-colors",children:[(0,c.jsx)(M.Z,{className:"h-5 w-5"}),ep.youtubeUrl||"https://youtu.be/".concat(S||"")]})]}),(0,c.jsxs)("div",{className:"flex gap-4",children:[(0,c.jsxs)(x.z,{onClick:function(){navigator.clipboard.writeText(ep.youtubeUrl||"https://youtu.be/".concat(S||"")),f({title:"Link copied",description:"YouTube URL copied to clipboard",duration:3e3})},variant:"outline",size:"sm",className:"text-xs",children:[(0,c.jsx)($.Z,{className:"mr-1.5 h-4 w-4"}),"Copy Link"]}),(0,c.jsxs)(x.z,{onClick:function(){return window.open(ep.youtubeUrl||"https://youtu.be/".concat(S||""),"_blank")},size:"sm",className:"text-xs",children:[(0,c.jsx)(M.Z,{className:"mr-1.5 h-4 w-4"}),"Open Video"]})]})]})]})})]})}function es(e){var t=e.images,n=e.filter,s=(e.onFilterChange,e.onToggleFavorite),a=e.onCompleteInterview,d=e.onUpdateImage,m=(0,o._)((0,u.useState)("new"),2),p=m[0],h=m[1],f=(0,o._)((0,u.useState)(null),2),y=f[0],v=f[1],N=(0,o._)((0,u.useState)(!1),2),j=N[0],_=N[1],S=(0,o._)((0,u.useState)(!1),2),C=S[0],I=S[1],T=(0,o._)((0,u.useState)(t),2),A=T[0],R=T[1];(0,u.useEffect)(function(){R(t)},[t]);var D=(0,l._)(A).sort(function(e,t){return"completed"===p&&e.completedAt&&t.completedAt?t.completedAt.getTime()-e.completedAt.getTime():t.createdAt.getTime()-e.createdAt.getTime()}),U=D.filter(function(e){return!e.isCompleted}),k=D.filter(function(e){return e.isCompleted}),P=D.filter(function(e){return e.isFavorite&&e.isCompleted}),q="all"===n?"new"===p?U:"completed"===p?k:P:("new"===p?U:"completed"===p?k:P).filter(function(e){return e.url.includes(n)}),O=function(e){if(!e)return!1;if(e.includes("|")){var t=e.split("|");return t.length>1&&t[1].includes("youtu")}return e.includes("youtu")},Z=function(e){var t=q[e],n=A.findIndex(function(e){return e===t});t.isCompleted?(v(n),_(!0),I(!1)):t.questionSetId&&(v(n),I(!0),_(!1))},H=function(){v(null),_(!1),I(!1)},W=function(e){switch(e){case"Easy":default:return"⭐";case"Medium":return"⭐⭐";case"Hard":return"⭐⭐⭐"}},z=function(e){return(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:e.map(function(e,t){var n=e.complexity||"Easy",a=O(e.videoUrl);return(0,c.jsx)(E.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,ease:[.4,0,.2,1]},className:"flex flex-col",children:(0,c.jsxs)("div",{className:"relative rounded-lg border border-gray-200 shadow-sm bg-white hover:shadow-md hover:border-primary/20 transition-all duration-200 cursor-pointer overflow-hidden",onClick:function(){return Z(t)},children:[(0,c.jsxs)("div",{className:"p-4",children:[(0,c.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsxs)("span",{className:"text-xs font-medium text-gray-500 mb-1",children:[W(n)," ",n]}),(0,c.jsx)("h3",{className:"font-medium text-lg text-foreground line-clamp-2",children:e.category})]}),e.isCompleted&&(0,c.jsx)(x.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full",onClick:function(t){t.stopPropagation(),s(A.findIndex(function(t){return t===e}))},children:(0,c.jsx)(Y.Z,{className:"h-4 w-4 ".concat(e.isFavorite?"fill-yellow-400 text-yellow-400":"text-gray-400")})})]}),(0,c.jsx)("div",{className:"mb-3",children:e.isCompleted?(0,c.jsx)("div",{className:"flex items-center font-medium text-xs",children:a?(0,c.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,c.jsx)(M.Z,{className:"w-3.5 h-3.5 mr-1"}),(0,c.jsx)("span",{children:"Private Video"})]}):(0,c.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,c.jsx)(V.Z,{className:"w-3.5 h-3.5 mr-1"}),(0,c.jsx)("span",{children:"Completed"})]})}):(0,c.jsxs)("div",{className:"flex items-center text-primary font-medium text-xs",children:[(0,c.jsx)(F.Z,{className:"w-3.5 h-3.5 mr-1"}),(0,c.jsx)("span",{children:"Ready to start"})]})}),(0,c.jsxs)("div",{className:"space-y-1.5 text-xs text-muted-foreground",children:[(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(b.Z,{className:"w-3 h-3 mr-1.5"}),(0,c.jsxs)("span",{children:["Created: ",(0,G.WU)(e.createdAt,"MMM d, yyyy")]})]}),e.completedAt&&(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(b.Z,{className:"w-3 h-3 mr-1.5"}),(0,c.jsxs)("span",{children:["Completed: ",(0,G.WU)(e.completedAt,"MMM d, yyyy")]})]})]})]}),(0,c.jsx)("div",{className:"px-4 py-2 text-xs font-medium ".concat(e.isCompleted?a?"bg-red-50 text-red-700":"bg-green-50 text-green-700":"bg-blue-50 text-primary"),children:e.isCompleted?"View Recording":"Start Interview"})]})},t)})})};return(0,c.jsxs)("div",{className:"flex flex-col h-full bg-background",children:[(0,c.jsx)("div",{className:"py-3 px-4 border-b",children:(0,c.jsx)("h2",{className:"text-lg font-semibold",children:"Assessment Vault"})}),(0,c.jsxs)(L.mQ,{value:p,onValueChange:function(e){return h(e)},className:"flex-1 flex flex-col",children:[(0,c.jsxs)(L.dr,{className:"grid w-full grid-cols-3 px-4 py-2",children:[(0,c.jsx)(L.SP,{value:"new",children:"New"}),(0,c.jsx)(L.SP,{value:"completed",children:"Completed"}),(0,c.jsx)(L.SP,{value:"favorites",children:"Favorites"})]}),(0,c.jsxs)(g,{className:"flex-1",children:[(0,c.jsx)(L.nU,{value:"new",className:"m-0",children:U.length>0?z(q):(0,c.jsxs)(w.bZ,{className:"m-4 border-primary/20 bg-primary/5",children:[(0,c.jsx)(w.Cd,{children:"No pending interviews"}),(0,c.jsx)(w.X,{children:"Please use the AI INTERVIEW ASSISTANT to generate interviews."})]})}),(0,c.jsx)(L.nU,{value:"completed",className:"m-0",children:k.length>0?z(q):(0,c.jsxs)(w.bZ,{className:"m-4 border-primary/20 bg-primary/5",children:[(0,c.jsx)(w.Cd,{children:"No completed interviews"}),(0,c.jsx)(w.X,{children:"Complete a mock interview to see it here."})]})}),(0,c.jsx)(L.nU,{value:"favorites",className:"m-0",children:P.length>0?z(q):(0,c.jsxs)(w.bZ,{className:"m-4 border-primary/20 bg-primary/5",children:[(0,c.jsx)(w.Cd,{children:"No favorites yet"}),(0,c.jsx)(w.X,{children:"Star your favorite completed interviews to see them here."})]})})]})]}),C&&null!==y&&!j&&(0,c.jsx)(B.Z,{onClose:H,onComplete:function(e){null!==y&&(a(y,e),H())},questionSetId:A[y].questionSetId,category:A[y].category,complexity:A[y].complexity}),j&&null!==y&&(0,c.jsx)(en,{onClose:H,videoUrl:A[y].videoUrl||"",category:A[y].category,complexity:A[y].complexity,onUploadSuccess:function(e,t,n){if(console.log("5. InterviewVault - handleYoutubeUploadSuccess called with:",{localUrl:e,youtubeUrl:t,youtubeId:n,selectedImageIndex:y}),null!==y&&d){console.log("6. InterviewVault - Before update, current state:",{currentVideoUrl:A[y].videoUrl,isYouTube:null===(s=A[y].videoUrl)||void 0===s?void 0:s.includes("youtu")});var s,a="".concat(e,"|").concat(t),o=(0,l._)(A);o[y]=(0,i._)((0,r._)({},o[y]),{videoUrl:a}),console.log("7. InterviewVault - Setting local images with new videoUrl:",a),R(o),console.log("8. InterviewVault - Calling onUpdateImage to update parent state"),d(y,{videoUrl:a}),console.log("9. InterviewVault - YouTube upload success handling complete")}}})]})}function ea(){var e,t=(0,o._)((0,u.useState)([]),2),n=t[0],s=t[1],m=(0,o._)((0,u.useState)("all"),2),x=m[0],p=m[1],h=(0,Z.pm)().toast,f=(e=(0,a._)(function(e,t,n,a){var r,i,o;return(0,d.Jh)(this,function(d){switch(d.label){case 0:console.log("Adding image with prompt:",e,"questionSetId:",t,"complexity:",n,"category:",a),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,new Promise(function(e){return setTimeout(e,3e3)})];case 2:return d.sent(),r="./placeholder.svg?height=300&width=300&text=".concat(encodeURIComponent(e)),t||console.warn("No questionSetId provided for image generation"),i={url:r,createdAt:new Date,isFavorite:!1,isCompleted:!1,questionSetId:t,complexity:n||"Easy",category:a||"General Interview"},s(function(e){return(0,l._)(e).concat([i])}),[2,r];case 3:throw console.error("Error adding image:",o=d.sent()),h({title:"Error",description:"Failed to generate image. Please try again.",variant:"destructive"}),o;case 4:return[2]}})}),function(t,n,s,a){return e.apply(this,arguments)});return(0,c.jsx)("div",{className:"container mx-auto px-2 py-4 h-[calc(100vh-4rem)] flex flex-col",children:(0,c.jsxs)("div",{className:"flex-1 grid grid-cols-10 gap-4 overflow-hidden",children:[(0,c.jsx)("div",{className:"col-span-4 border rounded-lg overflow-hidden",children:(0,c.jsx)(q,{onSendMessage:console.log,onGenerateImage:function(e,t,n,s){return console.log("Generating image with:",{questionSetId:t,complexity:n,category:s}),f(e,t,n,s)}})}),(0,c.jsx)("div",{className:"col-span-6 border rounded-lg overflow-hidden",children:(0,c.jsx)(es,{images:n,filter:x,onFilterChange:p,onToggleFavorite:function(e){s(function(t){var n=(0,l._)(t),s=n.filter(function(e){return e.isFavorite&&e.isCompleted}).length;return!n[e].isFavorite&&s>=10?h({title:"Favorite limit reached",description:"You can only have up to 10 favorite interviews. Please remove a favorite before adding a new one."}):n[e]=(0,i._)((0,r._)({},n[e]),{isFavorite:!n[e].isFavorite}),n})},onCompleteInterview:function(e,t){if(console.log("completeInterview called in page with index:",e,"videoUrl:",t),e<0||e>=n.length){console.error("Invalid image index:",e);return}if(n[e].isCompleted){console.warn("Interview already completed");return}s(function(n){var s=(0,l._)(n);return s[e]=(0,i._)((0,r._)({},s[e]),{isCompleted:!0,completedAt:new Date,videoUrl:t}),s})},onUpdateImage:function(e,t){if(console.log("updateImage called with index:",e,"data:",t),e<0||e>=n.length){console.error("Invalid image index:",e);return}s(function(n){var s=(0,l._)(n);return s[e]=(0,r._)({},s[e],t),console.log("Updated image in parent state:",s[e]),s})}})})]})})}},16831:function(e,t,n){"use strict";n.d(t,{F$:function(){return c},Q5:function(){return u},qE:function(){return d}});var s=n(5194),a=n(46796),r=n(57437),i=n(2265),o=n(70650),l=n(94508),d=i.forwardRef(function(e,t){var n=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)(o.fC,(0,s._)({ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n)},i))});d.displayName=o.fC.displayName;var c=i.forwardRef(function(e,t){var n=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)(o.Ee,(0,s._)({ref:t,className:(0,l.cn)("aspect-square h-full w-full",n)},i))});c.displayName=o.Ee.displayName;var u=i.forwardRef(function(e,t){var n=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)(o.NY,(0,s._)({ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",n)},i))});u.displayName=o.NY.displayName},26110:function(e,t,n){"use strict";n.d(t,{$N:function(){return g},Be:function(){return y},Vq:function(){return u},cN:function(){return f},cZ:function(){return p},fK:function(){return h}});var s=n(5194),a=n(1780),r=n(46796),i=n(57437),o=n(2265),l=n(49027),d=n(32489),c=n(94508),u=l.fC;l.xz;var m=l.h_;l.x8;var x=o.forwardRef(function(e,t){var n=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.aV,(0,s._)({ref:t,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n)},a))});x.displayName=l.aV.displayName;var p=o.forwardRef(function(e,t){var n=e.className,o=e.children,u=(0,r._)(e,["className","children"]);return(0,i.jsxs)(m,{children:[(0,i.jsx)(x,{}),(0,i.jsxs)(l.VY,(0,a._)((0,s._)({ref:t,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n)},u),{children:[o,(0,i.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(d.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});p.displayName=l.VY.displayName;var h=function(e){var t=e.className,n=(0,r._)(e,["className"]);return(0,i.jsx)("div",(0,s._)({className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t)},n))};h.displayName="DialogHeader";var f=function(e){var t=e.className,n=(0,r._)(e,["className"]);return(0,i.jsx)("div",(0,s._)({className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},n))};f.displayName="DialogFooter";var g=o.forwardRef(function(e,t){var n=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.Dx,(0,s._)({ref:t,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",n)},a))});g.displayName=l.Dx.displayName;var y=o.forwardRef(function(e,t){var n=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(l.dk,(0,s._)({ref:t,className:(0,c.cn)("text-sm text-muted-foreground",n)},a))});y.displayName=l.dk.displayName}},function(e){e.O(0,[337,518,60,238,628,896,235,485,107,623,424,46,971,117,744],function(){return e(e.s=62852)}),_N_E=e.O()}]);