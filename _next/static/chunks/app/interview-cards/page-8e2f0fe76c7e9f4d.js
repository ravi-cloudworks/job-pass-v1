(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5383],{84533:function(e,t,s){Promise.resolve().then(s.bind(s,81908))},81908:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return E}});var a=s(57437),r=s(2403),n=s(5194),i=s(1780),l=s(50059),c=s(85735),o=s(5853),d=s(2265),u=s(62869),m=s(95186),f=s(26815),x=s(66070),h=s(57054),p=s(37099),v=s(95252),g=s(75255),j=s(32795),N=s(40875),b=s(92735),y=s(76865),w=s(99388),_=s(41671),C=s(31091),S=s(59121),k=s(27107),z=s(94508),A=s(14438),O=s(24457),R=s.n(O),I=s(53375),F=s(34040),D=s(79235),M=s(280),T=function(){var e,t,s,O,T,E,L=(0,l._)((0,d.useState)(null),2),U=L[0],P=L[1],Y=(0,l._)((0,d.useState)(!0),2),W=Y[0],J=Y[1],Z=(0,l._)((0,d.useState)(1),2),V=Z[0],B=Z[1],G=(0,l._)((0,d.useState)(""),2),Q=G[0],X=G[1],$=(0,l._)((0,d.useState)("www.yourwebsite.com"),2),H=$[0],q=$[1],K=(0,l._)((0,d.useState)(""),2),ee=K[0],et=K[1],es=(0,l._)((0,d.useState)((0,C.z)(new Date,1)),2),ea=es[0],er=es[1],en=(0,l._)((0,d.useState)("1month"),2),ei=en[0],el=en[1],ec=(0,l._)((0,d.useState)("#333333"),2),eo=ec[0],ed=ec[1],eu=(0,l._)((0,d.useState)("#FFFFFF"),2),em=eu[0],ef=eu[1],ex=(0,l._)((0,d.useState)(null),2),eh=ex[0],ep=ex[1],ev=(0,l._)((0,d.useState)(!1),2),eg=ev[0],ej=ev[1],eN=(0,l._)((0,d.useState)(0),2),eb=(eN[0],eN[1]),ey=(0,l._)((0,d.useState)([]),2),ew=ey[0],e_=ey[1],eC=(0,l._)((0,d.useState)(!1),2),eS=eC[0],ek=eC[1],ez=(0,l._)((0,d.useState)(!1),2),eA=ez[0],eO=ez[1],eR=(0,l._)((0,d.useState)(null),2),eI=eR[0],eF=eR[1],eD=(0,l._)((0,d.useState)(!1),2),eM=eD[0],eT=eD[1],eE=(0,l._)((0,d.useState)(!1),2);eE[0],eE[1];var eL=(0,l._)((0,d.useState)(!1),2),eU=(eL[0],eL[1]),eP=(0,l._)((0,d.useState)(!1),2);eP[0],eP[1];var eY=(0,l._)((0,d.useState)([]),2),eW=(eY[0],eY[1]),eJ=(0,l._)((0,d.useState)(!1),2),eZ=(eJ[0],eJ[1]),eV=(0,d.useRef)(null),eB=(0,l._)((0,d.useState)(!1),2),eG=eB[0],eQ=eB[1],eX=(0,l._)((0,d.useState)({filename:"",showDialog:!1}),2),e$=eX[0],eH=eX[1],eq=(0,l._)((0,d.useState)("$"),2),eK=eq[0],e0=eq[1],e1=(0,l._)((0,d.useState)("Roboto"),2),e2=e1[0],e5=e1[1],e3=(0,l._)((0,d.useState)(""),2),e4=e3[0],e8=e3[1],e7=(0,l._)((0,d.useState)(!1),2),e6=e7[0],e9=e7[1],te=(0,l._)((0,d.useState)(null),2),tt=te[0],ts=te[1],ta=(0,l._)((0,d.useState)(!1),2),tr=ta[0],tn=ta[1],ti=(e=(0,r._)(function(){var e,t,s;return(0,o.Jh)(this,function(a){switch(a.label){case 0:if(!e4)return[2];e9(!0),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,M.OQ.from("interview_cards").select("*").eq("code",e4).single()];case 2:if(t=(e=a.sent()).data,s=e.error)throw s;return ts(t),tn(!0),[3,5];case 3:return console.error("Error checking code:",a.sent()),A.Am.error("Code not found or invalid"),ts(null),[3,5];case 4:return e9(!1),[7];case 5:return[2]}})}),function(){return e.apply(this,arguments)});(0,d.useEffect)(function(){if("Arial"!==e2){var e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=".concat(e2.replace(" ","+"),"&display=swap"),e.rel="stylesheet",document.head.appendChild(e)}},[e2]),(0,d.useEffect)(function(){(e=(0,r._)(function(){var e;return(0,o.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),[4,M.OQ.auth.getSession()];case 1:return P((null==(e=t.sent().data.session)?void 0:e.user)||null),[3,4];case 2:return console.error("Auth error:",t.sent()),[3,4];case 3:return J(!1),[7];case 4:return[2]}})}),function(){return e.apply(this,arguments)})();var e,t=M.OQ.auth.onAuthStateChange(function(e,t){P((null==t?void 0:t.user)||null)}).data.subscription;return function(){t.unsubscribe()}},[]),(0,d.useEffect)(function(){U&&tl()},[U]),(0,d.useEffect)(function(){fetch("./templates/card-1.png").then(function(e){return e.blob()}).then(function(e){var t=new FileReader;t.onload=function(){return ep(t.result)},t.readAsDataURL(e),eQ(!0)}).catch(function(e){return console.error("Error loading default background:",e)})},[]),(0,d.useEffect)(function(){var e=function(e){if(eA){var t="IMPORTANT: You have generated cards that haven't been downloaded yet. If you leave, you will lose access to these cards permanently.";return e.returnValue=t,t}};return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}},[eA]);var tl=(t=(0,r._)(function(){var e,t,s;return(0,o.Jh)(this,function(a){switch(a.label){case 0:if(!U)return[2];a.label=1;case 1:return a.trys.push([1,3,4,5]),eZ(!0),[4,M.OQ.from("interview_cards").select("*").eq("creator_user_id",U.id).order("created_at",{ascending:!1})];case 2:if(t=(e=a.sent()).data,s=e.error)throw s;return eW(t||[]),[3,5];case 3:return console.error("Error fetching code history:",a.sent()),A.Am.error("Failed to load your code history"),[3,5];case 4:return eZ(!1),[7];case 5:return[2]}})}),function(){return t.apply(this,arguments)}),tc=function(e){el(e);var t,s=new Date;switch(e){case"1week":t=(0,S.E)(s,7);break;case"1month":t=(0,C.z)(s,1);break;case"3months":t=(0,C.z)(s,3)}er(t)},to=(s=(0,r._)(function(e){var t,s,a,r,n;return(0,o.Jh)(this,function(i){try{for(r=0,t=(Date.now()+e).toString().slice(-4),s="0123456789ABCDEFGHJKLMNPQRSTUVWXYZ",a="";r<3;r++)a+=s.charAt(Math.floor(Math.random()*s.length));return n=U?U.id.substring(0,1).toUpperCase():"S",[2,"".concat(n).concat(a).concat(t)]}catch(e){throw e_([]),e}return[2]})}),function(e){return s.apply(this,arguments)}),td=(O=(0,r._)(function(e){var t,s,a;return(0,o.Jh)(this,function(r){switch(r.label){case 0:if(!U)return A.Am.error("Please log in to save your coupons"),[2,!1];r.label=1;case 1:return r.trys.push([1,3,,4]),t=e.map(function(e){return{code:e.code,creator_name:Q,creator_user_id:U.id,website_url:H,valid_until:ea.toISOString(),minutes:30,is_active:!0}}),[4,M.OQ.from("interview_cards").insert(t)];case 2:if((s=r.sent()).data,a=s.error)throw a;return A.Am.success("Cards saved to your account"),[2,!0];case 3:return console.error("Error saving coupons:",r.sent()),A.Am.error("Failed to save cards to database"),[2,!1];case 4:return[2]}})}),function(e){return O.apply(this,arguments)}),tu=d.memo(function(e){var t=e.filename,s=e.isOpen,r=e.onClose;return(0,a.jsx)(p.aR,{open:s,children:(0,a.jsxs)(p._T,{className:"max-w-md",children:[(0,a.jsxs)(p.fY,{children:[(0,a.jsx)(p.f$,{className:"text-lg font-semibold",children:"PDF Generated Successfully!"}),(0,a.jsx)(p.yT,{asChild:!0,children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-center mb-3",children:[(0,a.jsx)("p",{className:"text-sm mb-1",children:"Your PDF is ready to download:"}),(0,a.jsx)("p",{className:"text-base font-semibold text-primary",children:t})]}),(0,a.jsxs)("div",{className:"bg-amber-50 p-3 rounded-md border border-amber-200 mb-3",children:[(0,a.jsx)("p",{className:"text-sm text-amber-800 font-medium",children:"IMPORTANT:"}),(0,a.jsx)("p",{className:"text-xs text-amber-700",children:"This is your ONLY chance to download these cards. The PDF cannot be regenerated later."})]}),(0,a.jsx)("p",{className:"text-sm",children:"Please use the download button in the right panel."})]})})]}),(0,a.jsx)(p.xo,{children:(0,a.jsx)(p.OL,{onClick:r,children:"OK"})})]})})}),tm=(T=(0,r._)(function(e){var t,s,r,n,i,l,c,d,u,m,f,x,h,p,v,g,j,N;return(0,o.Jh)(this,function(o){switch(o.label){case 0:o.trys.push([0,10,,11]),t=85.6,s=54,(r=new I.ZP({unit:"mm",format:"a4",orientation:"portrait"})).setProperties({title:"JobPass Coupons",subject:"Interview Success Cards",author:"www.jobpass.com",creator:"www.jobpass.com"}),r.setFontSize(10),r.setTextColor(100),r.text("Generated by www.ravi.cloudworks.org",10,10),r.text("Created: ".concat((0,k.WU)(new Date,"dd-MMM-yyyy HH:mm:ss OOOO")),10,15),r.line(10,17,200,17),n=20,i=2,l=3,c=5,d=0,o.label=1;case 1:if(!(d<e.length))return[3,9];d>0&&r.addPage(),u=0,o.label=2;case 2:if(!(u<l))return[3,8];m=0,o.label=3;case 3:if(!(m<i))return[3,7];if((f=d+u*i+m)>=e.length)return[3,6];return x=n+m*(t+c),h=n+u*(s+c),(p=document.createElement("div")).style.cssText="width:".concat(t,"mm;height:").concat(s,"mm;position:fixed;left:-9999px;background:white;"),document.body.appendChild(p),(v=(0,F.createRoot)(p)).render((0,a.jsx)(tx,{coupon:e[f]})),[4,new Promise(function(e){return setTimeout(e,1e3)})];case 4:return o.sent(),[4,R()(p,{scale:2,useCORS:!0,logging:!1})];case 5:g=o.sent(),r.addImage(g.toDataURL("image/png"),"PNG",x,h,t,s),v.unmount(),document.body.removeChild(p),o.label=6;case 6:return m++,[3,3];case 7:return u++,[3,2];case 8:return d+=6,[3,1];case 9:return j="justpass_".concat(e[0].creator,"_").concat(e.length,"coupons_").concat((0,k.WU)(new Date,"yyyyMMdd-HHmmss"),".pdf"),eF(r.output("blob")),eO(!0),eH({filename:j,showDialog:!0}),(0,D.Z)({particleCount:100,spread:70,origin:{y:.6}}),U&&tl(),[3,11];case 10:return console.error("PDF Error:",N=o.sent()),A.Am.error("PDF generation failed: "+(N instanceof Error?N.message:"Unknown error")),e_([]),eO(!1),eF(null),[3,11];case 11:return[2]}})}),function(e){return T.apply(this,arguments)}),tf=(E=(0,r._)(function(){var e,t,s;return(0,o.Jh)(this,function(a){switch(a.label){case 0:if(a.trys.push([0,7,8,9]),e=function(e){var s,a;return(0,o.Jh)(this,function(r){switch(r.label){case 0:if(!(e>0))return[3,6];s=0,r.label=1;case 1:if(!(s<100))return[3,4];return[4,new Promise(function(e){return setTimeout(e,50)})];case 2:r.sent(),eb((100*e+s)/V),r.label=3;case 3:return s++,[3,1];case 4:return[4,new Promise(function(e){return setTimeout(e,5e3)})];case 5:r.sent(),r.label=6;case 6:return[4,to(e)];case 7:return a={code:r.sent(),creator:Q,timestamp:new Date().toISOString()},t.push(a),e_((0,c._)(t)),eb((e+1)*100/V),[2]}})},!U)return A.Am.error("Please log in to generate real interview cards"),[2];ej(!0),eb(0),e_([]),eO(!1),eF(null),t=[],s=0,a.label=1;case 1:if(!(s<V))return[3,4];return[5,(0,o.XA)(e(s))];case 2:a.sent(),a.label=3;case 3:return s++,[3,1];case 4:return[4,td(t)];case 5:return a.sent(),[4,tm(t)];case 6:return a.sent(),[3,9];case 7:return console.error("Error:",a.sent()),A.Am.error("Error generating coupons"),e_([]),eO(!1),eF(null),[3,9];case 8:return ej(!1),ek(!1),[7];case 9:return[2]}})}),function(){return E.apply(this,arguments)}),tx=function(e){var t=e.coupon;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 85.6 54",className:"w-full h-full",children:[(0,a.jsx)("defs",{children:(0,a.jsx)("filter",{id:"boxShadow",x:"-10%",y:"-10%",width:"120%",height:"120%",children:(0,a.jsx)("feDropShadow",{dx:"0.5",dy:"0.5",stdDeviation:"0.5",floodOpacity:"0.3"})})}),eh&&(0,a.jsx)("image",{x:"0",y:"0",width:"100%",height:"100%",href:eh,preserveAspectRatio:"xMidYMid meet",style:{objectFit:"contain"}}),(0,a.jsxs)("g",{transform:"translate(0, 0)",children:[(0,a.jsx)("rect",{x:"3",y:"3",width:"20",height:"8",fill:em,rx:"3",ry:"3",stroke:eo,strokeWidth:"0.5",filter:"url(#boxShadow)"}),(0,a.jsxs)("text",{x:"7",y:"8",fontFamily:e2,fontSize:"5",fontWeight:"bold",fill:eo,textAnchor:"start",children:[eK,Q]})]}),(0,a.jsx)("text",{x:"56.8",y:"31",fontFamily:e2,fontSize:"3",fill:eo,textAnchor:"middle",children:H}),(0,a.jsx)("text",{x:"57",y:"40",fontFamily:"".concat(e2,", Arial Black"),fontSize:"7",fontWeight:"500",fill:eo,letterSpacing:"1",textAnchor:"middle",children:t?"".concat(t.code.slice(0,3),"-").concat(t.code.slice(3)):"XXX-1234"}),(0,a.jsxs)("g",{transform:"translate(42.8, 45)",children:[(0,a.jsx)("rect",{x:"4",y:"-2.5",width:"32",height:"6",fill:em,rx:"3",ry:"3",stroke:eo,strokeWidth:"0.5",filter:"url(#boxShadow)"}),(0,a.jsx)("text",{x:"20",y:"0.5",fontFamily:e2,fontSize:"2.8",textAnchor:"middle",fill:eo,fontWeight:"bold",children:"30 MINUTES"}),(0,a.jsxs)("text",{x:"20",y:"2.8",fontFamily:e2,fontSize:"1.8",textAnchor:"middle",fill:eo,children:["VALID UNTIL ",(0,k.WU)(ea,"dd-MMM-yyyy").toUpperCase()]})]})]})},th=function(e){fetch(e).then(function(e){return e.blob()}).then(function(e){var t=new FileReader;t.onload=function(){return ep(t.result)},t.readAsDataURL(e),eQ(!0)}).catch(function(e){return console.error("Error loading template background:",e)})};return(0,a.jsx)("div",{className:"relative flex flex-col h-full w-full bg-background",children:(0,a.jsxs)("div",{className:"flex flex-col w-full h-full",children:[!U&&!W&&(0,a.jsxs)("div",{className:"bg-red-500 text-white text-center py-2 z-10 font-medium flex items-center justify-center mb-2",children:[(0,a.jsx)("span",{children:"SAMPLE MODE - Log in to generate real interview cards"}),(0,a.jsx)(u.z,{variant:"outline",size:"sm",className:"ml-4 bg-white text-red-500 hover:bg-red-50 border-white",onClick:function(){return window.location.href="./login"},children:"Log In"})]}),(0,a.jsxs)("div",{className:"flex w-full ".concat(U||W?"":"pt-10"),children:[(0,a.jsx)("div",{className:"w-[30%] h-full p-3 border-r",children:(0,a.jsxs)(x.Zb,{className:"h-full overflow-auto shadow-sm",children:[(0,a.jsx)(x.Ol,{className:"pb-2 pt-3 px-4",children:(0,a.jsx)(x.ll,{className:"text-base font-medium",children:"Generate Interview Cards"})}),(0,a.jsxs)(x.aY,{className:"space-y-4 p-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)(f._,{htmlFor:"numCoupons",className:"text-xs font-medium",children:["Number of Cards (Max ",6,")"]}),(0,a.jsx)(m.I,{id:"numCoupons",type:"number",min:"1",max:6,value:V,onChange:function(e){B(Math.min(parseInt(e.target.value)||1,6))},className:"h-8"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(f._,{htmlFor:"creatorName",className:"text-xs font-medium",children:"Price (max 3 characters)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.I,{id:"creatorName",value:Q,onChange:function(e){var t;X((t=e.target.value).length>3?t.substring(0,3):t)},className:"h-8",placeholder:"Enter price (e.g. 199)",maxLength:3}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(u.z,{type:"button",variant:"$"===eK?"default":"outline",className:"h-8 w-8 p-0",onClick:function(){return e0("$")},children:(0,a.jsx)(v.Z,{className:"h-4 w-4"})}),(0,a.jsx)(u.z,{type:"button",variant:"\xa3"===eK?"default":"outline",className:"h-8 w-8 p-0",onClick:function(){return e0("\xa3")},children:(0,a.jsx)(g.Z,{className:"h-4 w-4"})}),(0,a.jsx)(u.z,{type:"button",variant:"₹"===eK?"default":"outline",className:"h-8 w-8 p-0",onClick:function(){return e0("₹")},children:(0,a.jsx)(j.Z,{className:"h-4 w-4"})})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(f._,{className:"text-xs font-medium",children:"Website URL (max 30 characters)"}),(0,a.jsx)(m.I,{value:H,onChange:function(e){var t=e.target.value.slice(0,20);q(t),t.length>30?et("URL must not exceed 30 characters"):et("")},className:(0,z.cn)("h-8",ee&&"border-red-500"),placeholder:"www.example.com",maxLength:30}),ee&&(0,a.jsx)("div",{className:"text-xs text-red-500 mt-1",children:ee})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(f._,{className:"text-xs font-medium",children:"Valid Until"}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(u.z,{type:"button",variant:"1week"===ei?"default":"outline",className:"h-6 text-xs px-2",onClick:function(){return tc("1week")},children:"1Week"}),(0,a.jsx)(u.z,{type:"button",variant:"1month"===ei?"default":"outline",className:"h-6 text-xs px-2",onClick:function(){return tc("1month")},children:"1Month"}),(0,a.jsx)(u.z,{type:"button",variant:"3months"===ei?"default":"outline",className:"h-6 text-xs px-2",onClick:function(){return tc("3months")},children:"3Months"})]})]}),(0,a.jsx)("div",{className:"flex items-center h-8 px-3 rounded-md border bg-background",children:(0,a.jsx)("span",{className:"text-sm",children:ea?(0,k.WU)(ea,"dd-MMM-yyyy"):"Not set"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(f._,{className:"text-xs font-medium",children:"Text Color"}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(m.I,{type:"color",value:eo,onChange:function(e){return ed(e.target.value)},className:"w-12 h-8 p-1 cursor-pointer"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:eo})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(f._,{className:"text-xs font-medium",children:"Box Color"}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(m.I,{type:"color",value:em,onChange:function(e){return ef(e.target.value)},className:"w-12 h-8 p-1 cursor-pointer"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:em})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(f._,{className:"text-xs font-medium",children:"Font Style"}),(0,a.jsxs)(h.J2,{children:[(0,a.jsx)(h.xo,{asChild:!0,children:(0,a.jsxs)(u.z,{variant:"outline",className:"h-8 w-full justify-between",children:[e2,(0,a.jsx)(N.Z,{className:"h-4 w-4 opacity-50"})]})}),(0,a.jsx)(h.yk,{className:"w-44 p-0",children:(0,a.jsx)("div",{className:"flex flex-col",children:["Arial","Roboto","Montserrat","Poppins","Open Sans"].map(function(e){return(0,a.jsx)(u.z,{variant:"ghost",className:"justify-start font-normal h-8",style:{fontFamily:e},onClick:function(){return e5(e)},children:e},e)})})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(f._,{className:"text-xs font-medium",children:"Background Template"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsx)(u.z,{type:"button",variant:"outline",className:"h-16 p-0 overflow-hidden",onClick:function(){return th("./templates/card-1.png")},children:(0,a.jsx)("img",{src:"./templates/card-1.png",alt:"Template 1",className:"w-full h-full object-cover"})}),(0,a.jsx)(u.z,{type:"button",variant:"outline",className:"h-16 p-0 overflow-hidden",onClick:function(){return th("./templates/card-2.png")},children:(0,a.jsx)("img",{src:"./templates/card-2.png",alt:"Template 2",className:"w-full h-full object-cover"})}),(0,a.jsx)(u.z,{type:"button",variant:"outline",className:"h-16 p-0 overflow-hidden",onClick:function(){return th("./templates/card-3.png")},children:(0,a.jsx)("img",{src:"./templates/card-3.png",alt:"Template 3",className:"w-full h-full object-cover"})})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(f._,{className:"text-xs font-medium",children:"Custom Background"}),(0,a.jsx)(m.I,{type:"file",accept:"image/*",onChange:function(e){var t,s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){var a=new FileReader;a.onload=function(e){var t;ep(null===(t=e.target)||void 0===t?void 0:t.result),eQ(!0)},a.readAsDataURL(s)}},className:"h-8 text-xs"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:eG?"Custom image uploaded":"Or upload your own image"})]})]}),(0,a.jsx)(u.z,{className:"w-full mt-4",size:"sm",onClick:function(){if(!U){A.Am.error("Please log in to generate interview cards");return}if(eA){eT(!0);return}if(!eG){A.Am.error("Please upload a background image");return}if(V>6){A.Am.error("Maximum ".concat(6," coupons allowed per page"));return}if(!Q||!H||!ea){A.Am.error("Please fill in all required fields");return}if(ee){A.Am.error("Please fix validation errors before generating");return}ek(!0)},disabled:eg||!Q||!H||!ea,children:eg?"Generating...":"Generate Now"}),U?(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(f._,{className:"text-xs font-medium",children:"Check Code Status"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(m.I,{placeholder:"Enter code (e.g. ABC1234)",className:"h-8",value:e4,onChange:function(e){return e8(e.target.value)}}),(0,a.jsx)(u.z,{variant:"outline",size:"sm",className:"h-8",onClick:ti,disabled:!e4||e6,children:e6?(0,a.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):"Check"})]})]})}):null]})]})}),(0,a.jsx)("div",{className:"w-[30%] h-full p-3 border-r",children:(0,a.jsxs)(x.Zb,{className:"h-full shadow-sm flex flex-col",children:[(0,a.jsx)(x.Ol,{className:"pb-2 pt-3 px-4",children:(0,a.jsx)(x.ll,{className:"text-base font-medium",children:"Preview"})}),(0,a.jsx)(x.aY,{className:"flex-1 p-4 flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-full max-w-md aspect-[1.585]",children:(0,a.jsx)(tx,{})})})]})}),(0,a.jsx)("div",{className:"w-[40%] h-full p-3 flex flex-col",children:(0,a.jsxs)(x.Zb,{className:"h-full shadow-sm flex flex-col",children:[(0,a.jsx)(x.Ol,{className:"pb-2 pt-3 px-4",children:(0,a.jsx)(x.ll,{className:"text-base font-medium",children:"Generated Cards"})}),(0,a.jsxs)(x.aY,{className:"flex-1 p-4 overflow-auto",children:[eA&&eI&&(0,a.jsx)("div",{className:"mb-4 bg-amber-50 border-2 border-amber-400 rounded-md p-3"}),eg&&(0,a.jsx)("div",{className:"mb-4"}),!eg&&ew.length>0&&(0,a.jsxs)("div",{ref:eV,className:"grid grid-cols-2 gap-4",children:[!eg&&ew.length>0&&(0,a.jsx)("div",{ref:eV,className:"grid grid-cols-2 gap-4",children:ew.map(function(e,t){return(0,a.jsxs)("div",{className:"border rounded-md overflow-hidden shadow-sm",children:[(0,a.jsx)("div",{className:"aspect-[1.585] w-full",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 85.6 54",className:"w-full h-full",children:[eh&&(0,a.jsx)("image",{x:"0",y:"0",width:"100%",height:"100%",href:eh,preserveAspectRatio:"xMidYMid meet"}),(0,a.jsxs)("g",{transform:"translate(0, 0)",children:[(0,a.jsx)("rect",{x:"3",y:"3",width:"20",height:"8",fill:em,rx:"3",ry:"3",stroke:eo,strokeWidth:"0.5",filter:"url(#boxShadow)"}),(0,a.jsxs)("text",{x:"7",y:"8",fontFamily:e2,fontSize:"5",fontWeight:"bold",fill:eo,textAnchor:"start",children:[eK,Q]})]}),(0,a.jsx)("text",{x:"56.8",y:"31",fontFamily:e2,fontSize:"3",fill:eo,textAnchor:"middle",children:H}),(0,a.jsx)("text",{x:"57",y:"40",fontFamily:"".concat(e2,", Arial Black"),fontSize:"7",fontWeight:"500",fill:eo,letterSpacing:"1",textAnchor:"middle",children:"".concat(e.code.slice(0,3),"-").concat(e.code.slice(3))}),(0,a.jsxs)("g",{transform:"translate(42.8, 45)",children:[(0,a.jsx)("rect",{x:"4",y:"-2.5",width:"32",height:"6",fill:em,rx:"3",ry:"3",stroke:eo,strokeWidth:"0.5",filter:"url(#boxShadow)"}),(0,a.jsx)("text",{x:"20",y:"0.5",fontFamily:e2,fontSize:"2.8",textAnchor:"middle",fill:eo,fontWeight:"bold",children:"30 MINUTES"}),(0,a.jsxs)("text",{x:"20",y:"2.8",fontFamily:e2,fontSize:"1.8",textAnchor:"middle",fill:eo,children:["VALID UNTIL ",(0,k.WU)(ea,"dd-MMM-yyyy").toUpperCase()]})]})]})}),(0,a.jsx)("div",{className:"p-2 text-xs font-mono text-center bg-background",children:e.code})]},e.code)})}),eA&&eI&&(0,a.jsx)("div",{className:"mt-4 flex justify-center",children:(0,a.jsxs)(u.z,{onClick:function(){if(!U){A.Am.error("You must be logged in to download cards");return}if(eI&&e$.filename){var e=URL.createObjectURL(eI),t=document.createElement("a");t.href=e,t.download=e$.filename,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e),eU(!0)}else A.Am.error("No PDF available to download")},className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4"}),"Download Cards PDF"]})})]}),!eg&&!ew.length&&!eA&&(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("div",{className:"text-center p-6",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"No Interview Cards generated yet"})})})]})]})})]}),(0,a.jsx)(p.aR,{open:eS,onOpenChange:ek,children:(0,a.jsxs)(p._T,{children:[(0,a.jsxs)(p.fY,{children:[(0,a.jsx)(p.f$,{children:"Confirm Generation"}),(0,a.jsxs)(p.yT,{children:["You are about to generate ",V," interview card(s). This process cannot be interrupted once started."]})]}),(0,a.jsxs)(p.xo,{children:[(0,a.jsx)(p.le,{children:"Cancel"}),(0,a.jsx)(p.OL,{onClick:tf,children:"Generate Now"})]})]})}),(0,a.jsx)(p.aR,{open:eM,onOpenChange:eT,children:(0,a.jsxs)(p._T,{children:[(0,a.jsxs)(p.fY,{children:[(0,a.jsx)(p.f$,{children:"Warning: Unsaved Cards"}),(0,a.jsx)(p.yT,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center text-amber-600 gap-2",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"font-medium",children:"You have cards waiting to be downloaded."})]}),(0,a.jsx)("p",{children:"If you generate new cards, you will lose access to the current set permanently."})]})})]}),(0,a.jsxs)(p.xo,{children:[(0,a.jsx)(p.le,{children:"Cancel"}),(0,a.jsx)(p.OL,{onClick:function(){e_([]),eb(0),eO(!1),eF(null),A.Am.success("Ready to generate new coupons")},children:"Clear and Continue"})]})]})}),(0,a.jsx)(tu,{filename:e$.filename,isOpen:e$.showDialog,onClose:function(){eH(function(e){return(0,i._)((0,n._)({},e),{showDialog:!1})})}}),(0,a.jsx)(p.aR,{open:tr,onOpenChange:tn,children:(0,a.jsxs)(p._T,{children:[(0,a.jsx)(p.fY,{children:(0,a.jsx)(p.f$,{children:"Code Status"})}),tt&&(0,a.jsx)("div",{className:"py-2",children:(0,a.jsx)("div",{className:"bg-gray-50 p-3 rounded-md mb-3",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-y-2 text-sm",children:[(0,a.jsx)("div",{className:"font-medium",children:"Code:"}),(0,a.jsx)("div",{className:"font-mono",children:tt.code}),(0,a.jsx)("div",{className:"font-medium",children:"Created:"}),(0,a.jsx)("div",{children:new Date(tt.created_at).toLocaleString()}),(0,a.jsx)("div",{className:"font-medium",children:"Valid Until:"}),(0,a.jsx)("div",{children:new Date(tt.valid_until).toLocaleString()}),(0,a.jsx)("div",{className:"font-medium",children:"Status:"}),(0,a.jsx)("div",{children:tt.claimed_on?(0,a.jsxs)("span",{className:"text-red-500 flex items-center gap-1",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4"}),"Used on ",new Date(tt.claimed_on).toLocaleString()]}):(0,a.jsxs)("span",{className:"text-green-500 flex items-center gap-1",children:[(0,a.jsx)(_.Z,{className:"h-4 w-4"}),"Available"]})})]})})}),(0,a.jsx)(p.xo,{children:(0,a.jsx)(p.OL,{children:"Close"})})]})})]})})};function E(){return(0,a.jsx)("div",{className:"container mx-auto py-8",children:(0,a.jsx)(T,{})})}},37099:function(e,t,s){"use strict";s.d(t,{OL:function(){return j},_T:function(){return x},aR:function(){return u},f$:function(){return v},fY:function(){return h},le:function(){return N},xo:function(){return p},yT:function(){return g}});var a=s(5194),r=s(1780),n=s(46796),i=s(57437),l=s(2265),c=s(90277),o=s(94508),d=s(62869),u=c.fC;c.xz;var m=c.h_,f=l.forwardRef(function(e,t){var s=e.className,l=(0,n._)(e,["className"]);return(0,i.jsx)(c.aV,(0,r._)((0,a._)({className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s)},l),{ref:t}))});f.displayName=c.aV.displayName;var x=l.forwardRef(function(e,t){var s=e.className,r=(0,n._)(e,["className"]);return(0,i.jsxs)(m,{children:[(0,i.jsx)(f,{}),(0,i.jsx)(c.VY,(0,a._)({ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s)},r))]})});x.displayName=c.VY.displayName;var h=function(e){var t=e.className,s=(0,n._)(e,["className"]);return(0,i.jsx)("div",(0,a._)({className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t)},s))};h.displayName="AlertDialogHeader";var p=function(e){var t=e.className,s=(0,n._)(e,["className"]);return(0,i.jsx)("div",(0,a._)({className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},s))};p.displayName="AlertDialogFooter";var v=l.forwardRef(function(e,t){var s=e.className,r=(0,n._)(e,["className"]);return(0,i.jsx)(c.Dx,(0,a._)({ref:t,className:(0,o.cn)("text-lg font-semibold",s)},r))});v.displayName=c.Dx.displayName;var g=l.forwardRef(function(e,t){var s=e.className,r=(0,n._)(e,["className"]);return(0,i.jsx)(c.dk,(0,a._)({ref:t,className:(0,o.cn)("text-sm text-muted-foreground",s)},r))});g.displayName=c.dk.displayName;var j=l.forwardRef(function(e,t){var s=e.className,r=(0,n._)(e,["className"]);return(0,i.jsx)(c.aU,(0,a._)({ref:t,className:(0,o.cn)((0,d.d)(),s)},r))});j.displayName=c.aU.displayName;var N=l.forwardRef(function(e,t){var s=e.className,r=(0,n._)(e,["className"]);return(0,i.jsx)(c.$j,(0,a._)({ref:t,className:(0,o.cn)((0,d.d)({variant:"outline"}),"mt-2 sm:mt-0",s)},r))});N.displayName=c.$j.displayName},62869:function(e,t,s){"use strict";s.d(t,{d:function(){return d},z:function(){return u}});var a=s(5194),r=s(46796),n=s(57437),i=s(2265),l=s(37053),c=s(90535),o=s(94508),d=(0,c.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=i.forwardRef(function(e,t){var s=e.className,i=e.variant,c=e.size,u=e.asChild,m=(0,r._)(e,["className","variant","size","asChild"]),f=void 0!==u&&u?l.g7:"button";return(0,n.jsx)(f,(0,a._)({className:(0,o.cn)(d({variant:i,size:c,className:s})),ref:t},m))});u.displayName="Button"},66070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return o},SZ:function(){return u},Zb:function(){return c},aY:function(){return m},eW:function(){return f},ll:function(){return d}});var a=s(5194),r=s(46796),n=s(57437),i=s(2265),l=s(94508),c=i.forwardRef(function(e,t){var s=e.className,i=(0,r._)(e,["className"]);return(0,n.jsx)("div",(0,a._)({ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s)},i))});c.displayName="Card";var o=i.forwardRef(function(e,t){var s=e.className,i=(0,r._)(e,["className"]);return(0,n.jsx)("div",(0,a._)({ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s)},i))});o.displayName="CardHeader";var d=i.forwardRef(function(e,t){var s=e.className,i=(0,r._)(e,["className"]);return(0,n.jsx)("div",(0,a._)({ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s)},i))});d.displayName="CardTitle";var u=i.forwardRef(function(e,t){var s=e.className,i=(0,r._)(e,["className"]);return(0,n.jsx)("div",(0,a._)({ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s)},i))});u.displayName="CardDescription";var m=i.forwardRef(function(e,t){var s=e.className,i=(0,r._)(e,["className"]);return(0,n.jsx)("div",(0,a._)({ref:t,className:(0,l.cn)("p-6 pt-0",s)},i))});m.displayName="CardContent";var f=i.forwardRef(function(e,t){var s=e.className,i=(0,r._)(e,["className"]);return(0,n.jsx)("div",(0,a._)({ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s)},i))});f.displayName="CardFooter"},95186:function(e,t,s){"use strict";s.d(t,{I:function(){return c}});var a=s(5194),r=s(46796),n=s(57437),i=s(2265),l=s(94508),c=i.forwardRef(function(e,t){var s=e.className,i=e.type,c=(0,r._)(e,["className","type"]);return(0,n.jsx)("input",(0,a._)({type:i,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t},c))});c.displayName="Input"},26815:function(e,t,s){"use strict";s.d(t,{_:function(){return u}});var a=s(5194),r=s(46796),n=s(57437),i=s(2265),l=s(6394),c=s(90535),o=s(94508),d=(0,c.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=i.forwardRef(function(e,t){var s=e.className,i=(0,r._)(e,["className"]);return(0,n.jsx)(l.f,(0,a._)({ref:t,className:(0,o.cn)(d(),s)},i))});u.displayName=l.f.displayName},57054:function(e,t,s){"use strict";s.d(t,{J2:function(){return o},xo:function(){return d},yk:function(){return u}});var a=s(5194),r=s(46796),n=s(57437),i=s(2265),l=s(27312),c=s(94508),o=l.fC,d=l.xz,u=i.forwardRef(function(e,t){var s=e.className,i=e.align,o=e.sideOffset,d=(0,r._)(e,["className","align","sideOffset"]);return(0,n.jsx)(l.h_,{children:(0,n.jsx)(l.VY,(0,a._)({ref:t,align:void 0===i?"center":i,sideOffset:void 0===o?4:o,className:(0,c.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s)},d))})});u.displayName=l.VY.displayName},280:function(e,t,s){"use strict";s.d(t,{OQ:function(){return a}});var a=(0,s(93777).eI)("https://xwrjwvspbayowtwbrbcd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3cmp3dnNwYmF5b3d0d2JyYmNkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDEzNDQ4OTksImV4cCI6MjA1NjkyMDg5OX0.mrgp3CeKu8eeoC0tRN_y-XpFgklVltYBqQYjY4HSIhQ")},94508:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(61994),r=s(53335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[7337,2505,9518,5720,3777,6008,4438,7107,865,7052,5128,2971,2117,1744],function(){return e(e.s=84533)}),_N_E=e.O()}]);